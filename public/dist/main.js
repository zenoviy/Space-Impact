!function(e){var t={};function n(a){if(t[a])return t[a].exports;var r=t[a]={i:a,l:!1,exports:{}};return e[a].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=e,n.c=t,n.d=function(e,t,a){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(n.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(a,r,function(t){return e[t]}.bind(null,r));return a},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/public/dist",n(n.s=0)}([function(e,t,n){"use strict";var a=this&&this.__awaiter||function(e,t,n,a){return new(n||(n=Promise))((function(r,i){function o(e){try{s(a.next(e))}catch(e){i(e)}}function c(e){try{s(a.throw(e))}catch(e){i(e)}}function s(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,c)}s((a=a.apply(e,t||[])).next())}))},r=this&&this.__generator||function(e,t){var n,a,r,i,o={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(i){return function(c){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,a&&(r=2&i[0]?a.return:i[0]?a.throw||((r=a.return)&&r.call(a),0):a.next)&&!(r=r.call(a,i[1])).done)return r;switch(a=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return o.label++,{value:i[1],done:!1};case 5:o.label++,a=i[1],i=[0];continue;case 7:i=o.ops.pop(),o.trys.pop();continue;default:if(!(r=(r=o.trys).length>0&&r[r.length-1])&&(6===i[0]||2===i[0])){o=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){o.label=i[1];break}if(6===i[0]&&o.label<r[1]){o.label=r[1],r=i;break}if(r&&o.label<r[2]){o.label=r[2],o.ops.push(i);break}r[2]&&o.ops.pop(),o.trys.pop();continue}i=t.call(e,o)}catch(e){i=[6,e],a=0}finally{n=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,c])}}};Object.defineProperty(t,"__esModule",{value:!0}),n(1);var i=n(11).levelConstructor,o=n(8).playerModules,c=(n(5).engineModule,n(6).serverModules);n(7).enemies,n(9).viewModules;!function(){a(this,void 0,void 0,(function(){function e(){return a(this,void 0,void 0,(function(){var e,n,a,i,s,u,l;return r(this,(function(r){switch(r.label){case 0:return e=document.querySelector("#gamefield"),n=document.querySelector("#gameObjectsfield"),a=document.querySelector("#gameUifield"),i={host:"localhost"===document.location.hostname?"http://localhost:3000/":"",picturesDirection:location.origin+"/images/",levelData:{method:"GET",url:"api/level-data"},enemylData:{method:"GET",url:"api/level-data"},gameSetings:{method:"GET",url:"api/game-ettings"},userShip:{method:"GET",url:"api/user-ship"}},[4,c.getData({url:i.host+i.levelData.url,method:i.levelData.method,data:null,headers:{maplevel:2}})];case 1:return s=r.sent(),[4,c.getData({url:i.host+i.gameSetings.url,method:i.gameSetings.method,data:null,headers:null})];case 2:return u=r.sent(),[4,c.getData({url:i.host+i.userShip.url,method:i.userShip.method,data:null,headers:{usership:1}})];case 3:return l=r.sent(),[2,{data:{ctx:null,gameField:e||null,gameActionField:n||null,gameUIField:a||null,gameData:{currentLevel:2,currentPoint:0,playerObject:new o.PlayerShip(l,0,3),gameSetings:u,constrollers:null},screen:{width:window.innerWidth,height:window.innerHeight},allGameEnemies:[],allGameBullets:[],allGameMapOBjects:[],mapBackgroundObjects:[],gamePause:!1,backScreenPause:!0,gameStatus:!1,gameEngine:setInterval(t,20),levelData:s},locations:i}]}}))}))}function t(){if(s.gameInitData.backScreenPause&&(s.gameInitData.backScreenPause=!1,s.levelInit(i.GameBackground,s.gameInitData.ctx),s.levelInit(i.GameBackground,s.gameInitData.ctx)),!s.gameInitData.backScreenPause)for(var e=0,t=s.gameInitData.mapBackgroundObjects;e<t.length;e++){t[e].updateMap()}}var n,s;return r(this,(function(t){switch(t.label){case 0:return[4,e()];case 1:return n=t.sent(),(s=new i.Game(n.data,n.locations)).initField(),s.createContext(),console.log(s),[2]}}))}))}()},function(e,t,n){var a=n(2),r=n(3);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var i={insert:"head",singleton:!1},o=(a(r,i),r.locals?r.locals:{});e.exports=o},function(e,t,n){"use strict";var a,r=function(){return void 0===a&&(a=Boolean(window&&document&&document.all&&!window.atob)),a},i=function(){var e={};return function(t){if(void 0===e[t]){var n=document.querySelector(t);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}e[t]=n}return e[t]}}(),o=[];function c(e){for(var t=-1,n=0;n<o.length;n++)if(o[n].identifier===e){t=n;break}return t}function s(e,t){for(var n={},a=[],r=0;r<e.length;r++){var i=e[r],s=t.base?i[0]+t.base:i[0],u=n[s]||0,l="".concat(s," ").concat(u);n[s]=u+1;var d=c(l),h={css:i[1],media:i[2],sourceMap:i[3]};-1!==d?(o[d].references++,o[d].updater(h)):o.push({identifier:l,updater:m(h,t),references:1}),a.push(l)}return a}function u(e){var t=document.createElement("style"),a=e.attributes||{};if(void 0===a.nonce){var r=n.nc;r&&(a.nonce=r)}if(Object.keys(a).forEach((function(e){t.setAttribute(e,a[e])})),"function"==typeof e.insert)e.insert(t);else{var o=i(e.insert||"head");if(!o)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");o.appendChild(t)}return t}var l,d=(l=[],function(e,t){return l[e]=t,l.filter(Boolean).join("\n")});function h(e,t,n,a){var r=n?"":a.media?"@media ".concat(a.media," {").concat(a.css,"}"):a.css;if(e.styleSheet)e.styleSheet.cssText=d(t,r);else{var i=document.createTextNode(r),o=e.childNodes;o[t]&&e.removeChild(o[t]),o.length?e.insertBefore(i,o[t]):e.appendChild(i)}}function f(e,t,n){var a=n.css,r=n.media,i=n.sourceMap;if(r?e.setAttribute("media",r):e.removeAttribute("media"),i&&btoa&&(a+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(i))))," */")),e.styleSheet)e.styleSheet.cssText=a;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(a))}}var g=null,p=0;function m(e,t){var n,a,r;if(t.singleton){var i=p++;n=g||(g=u(t)),a=h.bind(null,n,i,!1),r=h.bind(null,n,i,!0)}else n=u(t),a=f.bind(null,n,t),r=function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(n)};return a(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;a(e=t)}else r()}}e.exports=function(e,t){(t=t||{}).singleton||"boolean"==typeof t.singleton||(t.singleton=r());var n=s(e=e||[],t);return function(e){if(e=e||[],"[object Array]"===Object.prototype.toString.call(e)){for(var a=0;a<n.length;a++){var r=c(n[a]);o[r].references--}for(var i=s(e,t),u=0;u<n.length;u++){var l=c(n[u]);0===o[l].references&&(o[l].updater(),o.splice(l,1))}n=i}}}},function(e,t,n){(t=n(4)(!1)).push([e.i,"body{color:orange;background:#333;margin:0;padding:0}.gameBackground{background:#000}.game-fields{position:absolute}\n",""]),e.exports=t},function(e,t,n){"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n=function(e,t){var n=e[1]||"",a=e[3];if(!a)return n;if(t&&"function"==typeof btoa){var r=(o=a,c=btoa(unescape(encodeURIComponent(JSON.stringify(o)))),s="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(c),"/*# ".concat(s," */")),i=a.sources.map((function(e){return"/*# sourceURL=".concat(a.sourceRoot||"").concat(e," */")}));return[n].concat(i).concat([r]).join("\n")}var o,c,s;return[n].join("\n")}(t,e);return t[2]?"@media ".concat(t[2]," {").concat(n,"}"):n})).join("")},t.i=function(e,n,a){"string"==typeof e&&(e=[[null,e,""]]);var r={};if(a)for(var i=0;i<this.length;i++){var o=this[i][0];null!=o&&(r[o]=!0)}for(var c=0;c<e.length;c++){var s=[].concat(e[c]);a&&r[s[0]]||(n&&(s[2]?s[2]="".concat(n," and ").concat(s[2]):s[2]=n),t.push(s))}},t}},function(e,t,n){n(11).levelConstructor;e.exports.engineModule={stopEngine:function(e){clearInterval(e)}},e.exports.gameMethods={initField:function(e,t){void 0===e&&(e=window.innerWidth),void 0===t&&(t=window.innerHeight);var n=[].concat(this.gameInitData.gameField,this.gameInitData.gameActionField,this.gameInitData.gameUIField);if(!n)throw Error(ERROR_LIST.noObject);for(var a=0,r=n;a<r.length;a++){var i=r[a];i.width=e-4,i.height=t-4}},levelInit:function(e,t){var n=new e(this.showLevelData().levelMap,1,this.gameInitData.screen,t,this.gameInitData.mapBackgroundObjects.length%2==0||null);this.gameInitData.mapBackgroundObjects=this.gameInitData.mapBackgroundObjects.concat(n)},createContext:function(){this.gameInitData.ctx=this.gameInitData.gameField.getContext("2d"),this.gameInitData.ctxActionField=this.gameInitData.gameActionField.getContext("2d"),this.gameInitData.ctxUIField=this.gameInitData.gameUIField.getContext("2d")}}},function(e,t){e.exports.serverModules={getData:function(e){var t=e.url,n=e.method,a=e.data,r=e.headers,i=Object.assign({"Content-Type":"application/json"},r||!1);return fetch(t,{method:n,mode:"cors",headers:i,body:a?JSON.stringify(a):null}).then((function(e){return e.json()})).then((function(e){return e}))}}},function(e,t){e.exports.enemies=function(e){return e+" My World 111"}},function(e,t){var n=function(){function e(e,t,n){this.data=e,this.points=t,this.lifePoints=n}return e.prototype.showInformation=function(){console.log(this)},e}();e.exports.playerModules={PlayerShip:n}},function(e,t,n){var a=this&&this.__spreadArrays||function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var a=Array(e),r=0;for(t=0;t<n;t++)for(var i=arguments[t],o=0,c=i.length;o<c;o++,r++)a[r]=i[o];return a};n(10).ERROR_LIST;function r(e,t){for(var n=[],a=2;a<arguments.length;a++)n[a-2]=arguments[a];e[t].apply(e,n)}function i(e,t,n){r(e,"clearRect",0,0,t,n)}e.exports.viewModules={clearField:i,draw:r,clear:i,createImage:function(e,t){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];r.apply(void 0,a([e,"drawImage",t],n))}}},function(e,t){e.exports.ERROR_LIST={noData:"There is no data",noObject:"There is no Object"}},function(e,t,n){var a=n(9).viewModules,r=n(5).gameMethods,i=function(){function e(e,t,n,a,r){this.x=0,this.y=0,this.backgroundTexture=e,this.backgroundSpeed=t,this.screenData=n,this.ctx=a,this.x=r?0:n.width,this.y=0,this.img=new Image,this.img.src=location.origin+"/images/locations/"+this.backgroundTexture}return e.prototype.updateMap=function(){this.img=this.img||new Image;var e=this;this.x-=this.backgroundSpeed,this.x+this.screenData.width<0&&(this.x=this.screenData.width),this.img.onload=function(){a.createImage(e.ctx,e.img,e.x,0,e.screenData.width+2,e.screenData.height)},this.img.src=this.img.src||location.origin+"/images/locations/"+this.backgroundTexture},e}(),o=function(){function e(e,t){this.gameInitData=e,this.serverLocation=t,this.gameInitData=e,this.serverLocation=t}return e.prototype.changeLevel=function(e){this.gameInitData.gameData.currentLevel=e},e.prototype.showGameInfo=function(){return{currentLevel:this.gameInitData.gameData.currentLevel,currentPoint:this.gameInitData.gameData.currentPoint}},e.prototype.showLevelData=function(){return this.gameInitData.levelData},e.prototype.getServerLevelData=function(){},e}();o.prototype.initField=r.initField,o.prototype.levelInit=r.levelInit,o.prototype.createContext=r.createContext,e.exports.levelConstructor={Game:o,GameBackground:i}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vc3JjL2luZGV4LnRzIiwid2VicGFjazovLy8uL3Nhc3MvbWFpbi5zYXNzP2JhYTgiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvaW5qZWN0U3R5bGVzSW50b1N0eWxlVGFnLmpzIiwid2VicGFjazovLy8uL3Nhc3MvbWFpbi5zYXNzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvcnVudGltZS9hcGkuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2VuZ2luZS9lbmdpbmVNb2R1bGVzLnRzIiwid2VicGFjazovLy8uL3NyYy9zZXJ2ZXIvc2VydmVyUmVxdWVzdE1vZHVsZXMudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2VuZW1pZXMvZW5lbWllc01vZHVsZXMudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbnN0cnVjdG9ycy91c2VyQ29uc3RydWN0b3IudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3ZpZXcvZHNpcGxheU1vZHVsZXMudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2VuZ2luZS9hcHBFcnJvckxpc3RNb2R1bGUudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbnN0cnVjdG9ycy9sZXZlbENvbnN0cnVjdG9ycy50cyJdLCJuYW1lcyI6WyJpbnN0YWxsZWRNb2R1bGVzIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZUlkIiwiZXhwb3J0cyIsIm1vZHVsZSIsImkiLCJsIiwibW9kdWxlcyIsImNhbGwiLCJtIiwiYyIsImQiLCJuYW1lIiwiZ2V0dGVyIiwibyIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZW51bWVyYWJsZSIsImdldCIsInIiLCJTeW1ib2wiLCJ0b1N0cmluZ1RhZyIsInZhbHVlIiwidCIsIm1vZGUiLCJfX2VzTW9kdWxlIiwibnMiLCJjcmVhdGUiLCJrZXkiLCJiaW5kIiwibiIsIm9iamVjdCIsInByb3BlcnR5IiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJwIiwicyIsIl9fYXdhaXRlciIsInRoaXMiLCJ0aGlzQXJnIiwiX2FyZ3VtZW50cyIsIlAiLCJnZW5lcmF0b3IiLCJQcm9taXNlIiwicmVzb2x2ZSIsInJlamVjdCIsImZ1bGZpbGxlZCIsInN0ZXAiLCJuZXh0IiwiZSIsInJlamVjdGVkIiwicmVzdWx0IiwiZG9uZSIsInRoZW4iLCJhcHBseSIsIl9fZ2VuZXJhdG9yIiwiYm9keSIsImYiLCJ5IiwiZyIsIl8iLCJsYWJlbCIsInNlbnQiLCJ0cnlzIiwib3BzIiwidmVyYiIsIml0ZXJhdG9yIiwidiIsIm9wIiwiVHlwZUVycm9yIiwicG9wIiwibGVuZ3RoIiwicHVzaCIsImxldmVsQ29uc3RydWN0b3IiLCJwbGF5ZXJNb2R1bGVzIiwic2VydmVyTW9kdWxlcyIsImVuZ2luZU1vZHVsZSIsImVuZW1pZXMiLCJ2aWV3TW9kdWxlcyIsImdhbWVEYXRhSW5pdCIsImdhbWVGaWVsZCIsImdhbWVBY3Rpb25GaWVsZCIsImdhbWVVSWZpZWxkIiwic2VydmVyTG9jYXRpb24iLCJsZXZlbERhdGEiLCJnYW1lU2V0aW5ncyIsInVzZXJEYXRhIiwiX2EiLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJob3N0IiwibG9jYXRpb24iLCJob3N0bmFtZSIsInBpY3R1cmVzRGlyZWN0aW9uIiwib3JpZ2luIiwibWV0aG9kIiwidXJsIiwiZW5lbXlsRGF0YSIsInVzZXJTaGlwIiwiZ2V0RGF0YSIsImRhdGEiLCJoZWFkZXJzIiwiY3R4IiwiZ2FtZVVJRmllbGQiLCJnYW1lRGF0YSIsImN1cnJlbnRMZXZlbCIsImN1cnJlbnRQb2ludCIsInBsYXllck9iamVjdCIsIlBsYXllclNoaXAiLCJjb25zdHJvbGxlcnMiLCJzY3JlZW4iLCJ3aWR0aCIsIndpbmRvdyIsImlubmVyV2lkdGgiLCJoZWlnaHQiLCJpbm5lckhlaWdodCIsImFsbEdhbWVFbmVtaWVzIiwiYWxsR2FtZUJ1bGxldHMiLCJhbGxHYW1lTWFwT0JqZWN0cyIsIm1hcEJhY2tncm91bmRPYmplY3RzIiwiZ2FtZVBhdXNlIiwiYmFja1NjcmVlblBhdXNlIiwiZ2FtZVN0YXR1cyIsImdhbWVFbmdpbmUiLCJzZXRJbnRlcnZhbCIsImdhbWVJbnRlcnZhbCIsImxvY2F0aW9ucyIsImdhbWVPYmplY3QiLCJnYW1lSW5pdERhdGEiLCJsZXZlbEluaXQiLCJHYW1lQmFja2dyb3VuZCIsIl9pIiwidXBkYXRlTWFwIiwiZ2FtZVN0YXRlIiwiR2FtZSIsImluaXRGaWVsZCIsImNyZWF0ZUNvbnRleHQiLCJjb25zb2xlIiwibG9nIiwiYXBpIiwiY29udGVudCIsImRlZmF1bHQiLCJvcHRpb25zIiwiZXhwb3J0ZWQiLCJsb2NhbHMiLCJtZW1vIiwiaXNPbGRJRSIsIkJvb2xlYW4iLCJhbGwiLCJhdG9iIiwiZ2V0VGFyZ2V0IiwidGFyZ2V0Iiwic3R5bGVUYXJnZXQiLCJIVE1MSUZyYW1lRWxlbWVudCIsImNvbnRlbnREb2N1bWVudCIsImhlYWQiLCJzdHlsZXNJbkRvbSIsImdldEluZGV4QnlJZGVudGlmaWVyIiwiaWRlbnRpZmllciIsIm1vZHVsZXNUb0RvbSIsImxpc3QiLCJpZENvdW50TWFwIiwiaWRlbnRpZmllcnMiLCJpdGVtIiwiaWQiLCJiYXNlIiwiY291bnQiLCJjb25jYXQiLCJpbmRleCIsIm9iaiIsImNzcyIsIm1lZGlhIiwic291cmNlTWFwIiwicmVmZXJlbmNlcyIsInVwZGF0ZXIiLCJhZGRTdHlsZSIsImluc2VydFN0eWxlRWxlbWVudCIsInN0eWxlIiwiY3JlYXRlRWxlbWVudCIsImF0dHJpYnV0ZXMiLCJub25jZSIsImtleXMiLCJmb3JFYWNoIiwic2V0QXR0cmlidXRlIiwiaW5zZXJ0IiwiRXJyb3IiLCJhcHBlbmRDaGlsZCIsInRleHRTdG9yZSIsInJlcGxhY2VUZXh0IiwicmVwbGFjZW1lbnQiLCJmaWx0ZXIiLCJqb2luIiwiYXBwbHlUb1NpbmdsZXRvblRhZyIsInJlbW92ZSIsInN0eWxlU2hlZXQiLCJjc3NUZXh0IiwiY3NzTm9kZSIsImNyZWF0ZVRleHROb2RlIiwiY2hpbGROb2RlcyIsInJlbW92ZUNoaWxkIiwiaW5zZXJ0QmVmb3JlIiwiYXBwbHlUb1RhZyIsInJlbW92ZUF0dHJpYnV0ZSIsImJ0b2EiLCJ1bmVzY2FwZSIsImVuY29kZVVSSUNvbXBvbmVudCIsIkpTT04iLCJzdHJpbmdpZnkiLCJmaXJzdENoaWxkIiwic2luZ2xldG9uIiwic2luZ2xldG9uQ291bnRlciIsInVwZGF0ZSIsInN0eWxlSW5kZXgiLCJwYXJlbnROb2RlIiwicmVtb3ZlU3R5bGVFbGVtZW50IiwibmV3T2JqIiwibGFzdElkZW50aWZpZXJzIiwibmV3TGlzdCIsInRvU3RyaW5nIiwibmV3TGFzdElkZW50aWZpZXJzIiwiX2luZGV4Iiwic3BsaWNlIiwiX19fQ1NTX0xPQURFUl9BUElfSU1QT1JUX19fIiwidXNlU291cmNlTWFwIiwibWFwIiwiY3NzTWFwcGluZyIsInNvdXJjZU1hcHBpbmciLCJiYXNlNjQiLCJzb3VyY2VVUkxzIiwic291cmNlcyIsInNvdXJjZSIsInNvdXJjZVJvb3QiLCJjc3NXaXRoTWFwcGluZ1RvU3RyaW5nIiwibWVkaWFRdWVyeSIsImRlZHVwZSIsImFscmVhZHlJbXBvcnRlZE1vZHVsZXMiLCJzdG9wRW5naW5lIiwiZW5naW5lTmFtZSIsImNsZWFySW50ZXJ2YWwiLCJnYW1lTWV0aG9kcyIsInNjcmVlbldpZHRoIiwic2NyZWVuSGVpZ2h0IiwiRVJST1JfTElTVCIsIm5vT2JqZWN0IiwiZ2FtZUZpZWxkXzEiLCJzY3JlZW5fMSIsImJhY2tncm91bmRDb25zdHJ1Y3RvciIsIm1hcE9iamVjdCIsInNob3dMZXZlbERhdGEiLCJsZXZlbE1hcCIsImdldENvbnRleHQiLCJjdHhBY3Rpb25GaWVsZCIsImN0eFVJRmllbGQiLCJyZXN1bHRIZWFkZXIiLCJhc3NpZ24iLCJmZXRjaCIsInJlcyIsImpzb24iLCJwb2ludHMiLCJsaWZlUG9pbnRzIiwic2hvd0luZm9ybWF0aW9uIiwiX19zcHJlYWRBcnJheXMiLCJpbCIsImFyZ3VtZW50cyIsIkFycmF5IiwiayIsImEiLCJqIiwiamwiLCJkcmF3IiwiY29udGV4dCIsImVsZW1lbnQiLCJjbGVhckZpZWxkIiwiY2xlYXIiLCJjcmVhdGVJbWFnZSIsInBpY3R1cmVOYW1lIiwicHJvcHMiLCJub0RhdGEiLCJiYWNrZ3JvdW5kVGV4dHVyZSIsImJhY2tncm91bmRTcGVlZCIsInNjcmVlbkRhdGEiLCJwYXJ0T2ZTY3JlZW5TdGF0dXMiLCJ4IiwiaW1nIiwiSW1hZ2UiLCJzcmMiLCJiYWNrZ3JvdW5kT2JqZWN0Iiwib25sb2FkIiwiY2hhbmdlTGV2ZWwiLCJuZXh0TGV2ZWwiLCJzaG93R2FtZUluZm8iLCJnZXRTZXJ2ZXJMZXZlbERhdGEiXSwibWFwcGluZ3MiOiJhQUNFLElBQUlBLEVBQW1CLEdBR3ZCLFNBQVNDLEVBQW9CQyxHQUc1QixHQUFHRixFQUFpQkUsR0FDbkIsT0FBT0YsRUFBaUJFLEdBQVVDLFFBR25DLElBQUlDLEVBQVNKLEVBQWlCRSxHQUFZLENBQ3pDRyxFQUFHSCxFQUNISSxHQUFHLEVBQ0hILFFBQVMsSUFVVixPQU5BSSxFQUFRTCxHQUFVTSxLQUFLSixFQUFPRCxRQUFTQyxFQUFRQSxFQUFPRCxRQUFTRixHQUcvREcsRUFBT0UsR0FBSSxFQUdKRixFQUFPRCxRQUtmRixFQUFvQlEsRUFBSUYsRUFHeEJOLEVBQW9CUyxFQUFJVixFQUd4QkMsRUFBb0JVLEVBQUksU0FBU1IsRUFBU1MsRUFBTUMsR0FDM0NaLEVBQW9CYSxFQUFFWCxFQUFTUyxJQUNsQ0csT0FBT0MsZUFBZWIsRUFBU1MsRUFBTSxDQUFFSyxZQUFZLEVBQU1DLElBQUtMLEtBS2hFWixFQUFvQmtCLEVBQUksU0FBU2hCLEdBQ1gsb0JBQVhpQixRQUEwQkEsT0FBT0MsYUFDMUNOLE9BQU9DLGVBQWViLEVBQVNpQixPQUFPQyxZQUFhLENBQUVDLE1BQU8sV0FFN0RQLE9BQU9DLGVBQWViLEVBQVMsYUFBYyxDQUFFbUIsT0FBTyxLQVF2RHJCLEVBQW9Cc0IsRUFBSSxTQUFTRCxFQUFPRSxHQUV2QyxHQURVLEVB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dGFsbGVkTW9kdWxlcyA9IHt9O1xuXG4gXHQvLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuIFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXG4gXHRcdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuIFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSkge1xuIFx0XHRcdHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xuIFx0XHR9XG4gXHRcdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG4gXHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSA9IHtcbiBcdFx0XHRpOiBtb2R1bGVJZCxcbiBcdFx0XHRsOiBmYWxzZSxcbiBcdFx0XHRleHBvcnRzOiB7fVxuIFx0XHR9O1xuXG4gXHRcdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuIFx0XHRtb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuIFx0XHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG4gXHRcdG1vZHVsZS5sID0gdHJ1ZTtcblxuIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuIFx0XHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG4gXHR9XG5cblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7XG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzO1xuXG4gXHQvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9uIGZvciBoYXJtb255IGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uZCA9IGZ1bmN0aW9uKGV4cG9ydHMsIG5hbWUsIGdldHRlcikge1xuIFx0XHRpZighX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIG5hbWUpKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIG5hbWUsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBnZXR0ZXIgfSk7XG4gXHRcdH1cbiBcdH07XG5cbiBcdC8vIGRlZmluZSBfX2VzTW9kdWxlIG9uIGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uciA9IGZ1bmN0aW9uKGV4cG9ydHMpIHtcbiBcdFx0aWYodHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgJiYgU3ltYm9sLnRvU3RyaW5nVGFnKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFN5bWJvbC50b1N0cmluZ1RhZywgeyB2YWx1ZTogJ01vZHVsZScgfSk7XG4gXHRcdH1cbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcbiBcdH07XG5cbiBcdC8vIGNyZWF0ZSBhIGZha2UgbmFtZXNwYWNlIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDE6IHZhbHVlIGlzIGEgbW9kdWxlIGlkLCByZXF1aXJlIGl0XG4gXHQvLyBtb2RlICYgMjogbWVyZ2UgYWxsIHByb3BlcnRpZXMgb2YgdmFsdWUgaW50byB0aGUgbnNcbiBcdC8vIG1vZGUgJiA0OiByZXR1cm4gdmFsdWUgd2hlbiBhbHJlYWR5IG5zIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDh8MTogYmVoYXZlIGxpa2UgcmVxdWlyZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy50ID0gZnVuY3Rpb24odmFsdWUsIG1vZGUpIHtcbiBcdFx0aWYobW9kZSAmIDEpIHZhbHVlID0gX193ZWJwYWNrX3JlcXVpcmVfXyh2YWx1ZSk7XG4gXHRcdGlmKG1vZGUgJiA4KSByZXR1cm4gdmFsdWU7XG4gXHRcdGlmKChtb2RlICYgNCkgJiYgdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyAmJiB2YWx1ZSAmJiB2YWx1ZS5fX2VzTW9kdWxlKSByZXR1cm4gdmFsdWU7XG4gXHRcdHZhciBucyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18ucihucyk7XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShucywgJ2RlZmF1bHQnLCB7IGVudW1lcmFibGU6IHRydWUsIHZhbHVlOiB2YWx1ZSB9KTtcbiBcdFx0aWYobW9kZSAmIDIgJiYgdHlwZW9mIHZhbHVlICE9ICdzdHJpbmcnKSBmb3IodmFyIGtleSBpbiB2YWx1ZSkgX193ZWJwYWNrX3JlcXVpcmVfXy5kKG5zLCBrZXksIGZ1bmN0aW9uKGtleSkgeyByZXR1cm4gdmFsdWVba2V5XTsgfS5iaW5kKG51bGwsIGtleSkpO1xuIFx0XHRyZXR1cm4gbnM7XG4gXHR9O1xuXG4gXHQvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5uID0gZnVuY3Rpb24obW9kdWxlKSB7XG4gXHRcdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuIFx0XHRcdGZ1bmN0aW9uIGdldERlZmF1bHQoKSB7IHJldHVybiBtb2R1bGVbJ2RlZmF1bHQnXTsgfSA6XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0TW9kdWxlRXhwb3J0cygpIHsgcmV0dXJuIG1vZHVsZTsgfTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgJ2EnLCBnZXR0ZXIpO1xuIFx0XHRyZXR1cm4gZ2V0dGVyO1xuIFx0fTtcblxuIFx0Ly8gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSBmdW5jdGlvbihvYmplY3QsIHByb3BlcnR5KSB7IHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBwcm9wZXJ0eSk7IH07XG5cbiBcdC8vIF9fd2VicGFja19wdWJsaWNfcGF0aF9fXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIi9wdWJsaWMvZGlzdFwiO1xuXG5cbiBcdC8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xuIFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18oX193ZWJwYWNrX3JlcXVpcmVfXy5zID0gMCk7XG4iLCJcInVzZSBzdHJpY3RcIjtcclxudmFyIF9fYXdhaXRlciA9ICh0aGlzICYmIHRoaXMuX19hd2FpdGVyKSB8fCBmdW5jdGlvbiAodGhpc0FyZywgX2FyZ3VtZW50cywgUCwgZ2VuZXJhdG9yKSB7XHJcbiAgICBmdW5jdGlvbiBhZG9wdCh2YWx1ZSkgeyByZXR1cm4gdmFsdWUgaW5zdGFuY2VvZiBQID8gdmFsdWUgOiBuZXcgUChmdW5jdGlvbiAocmVzb2x2ZSkgeyByZXNvbHZlKHZhbHVlKTsgfSk7IH1cclxuICAgIHJldHVybiBuZXcgKFAgfHwgKFAgPSBQcm9taXNlKSkoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xyXG4gICAgICAgIGZ1bmN0aW9uIGZ1bGZpbGxlZCh2YWx1ZSkgeyB0cnkgeyBzdGVwKGdlbmVyYXRvci5uZXh0KHZhbHVlKSk7IH0gY2F0Y2ggKGUpIHsgcmVqZWN0KGUpOyB9IH1cclxuICAgICAgICBmdW5jdGlvbiByZWplY3RlZCh2YWx1ZSkgeyB0cnkgeyBzdGVwKGdlbmVyYXRvcltcInRocm93XCJdKHZhbHVlKSk7IH0gY2F0Y2ggKGUpIHsgcmVqZWN0KGUpOyB9IH1cclxuICAgICAgICBmdW5jdGlvbiBzdGVwKHJlc3VsdCkgeyByZXN1bHQuZG9uZSA/IHJlc29sdmUocmVzdWx0LnZhbHVlKSA6IGFkb3B0KHJlc3VsdC52YWx1ZSkudGhlbihmdWxmaWxsZWQsIHJlamVjdGVkKTsgfVxyXG4gICAgICAgIHN0ZXAoKGdlbmVyYXRvciA9IGdlbmVyYXRvci5hcHBseSh0aGlzQXJnLCBfYXJndW1lbnRzIHx8IFtdKSkubmV4dCgpKTtcclxuICAgIH0pO1xyXG59O1xyXG52YXIgX19nZW5lcmF0b3IgPSAodGhpcyAmJiB0aGlzLl9fZ2VuZXJhdG9yKSB8fCBmdW5jdGlvbiAodGhpc0FyZywgYm9keSkge1xyXG4gICAgdmFyIF8gPSB7IGxhYmVsOiAwLCBzZW50OiBmdW5jdGlvbigpIHsgaWYgKHRbMF0gJiAxKSB0aHJvdyB0WzFdOyByZXR1cm4gdFsxXTsgfSwgdHJ5czogW10sIG9wczogW10gfSwgZiwgeSwgdCwgZztcclxuICAgIHJldHVybiBnID0geyBuZXh0OiB2ZXJiKDApLCBcInRocm93XCI6IHZlcmIoMSksIFwicmV0dXJuXCI6IHZlcmIoMikgfSwgdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIChnW1N5bWJvbC5pdGVyYXRvcl0gPSBmdW5jdGlvbigpIHsgcmV0dXJuIHRoaXM7IH0pLCBnO1xyXG4gICAgZnVuY3Rpb24gdmVyYihuKSB7IHJldHVybiBmdW5jdGlvbiAodikgeyByZXR1cm4gc3RlcChbbiwgdl0pOyB9OyB9XHJcbiAgICBmdW5jdGlvbiBzdGVwKG9wKSB7XHJcbiAgICAgICAgaWYgKGYpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJHZW5lcmF0b3IgaXMgYWxyZWFkeSBleGVjdXRpbmcuXCIpO1xyXG4gICAgICAgIHdoaWxlIChfKSB0cnkge1xyXG4gICAgICAgICAgICBpZiAoZiA9IDEsIHkgJiYgKHQgPSBvcFswXSAmIDIgPyB5W1wicmV0dXJuXCJdIDogb3BbMF0gPyB5W1widGhyb3dcIl0gfHwgKCh0ID0geVtcInJldHVyblwiXSkgJiYgdC5jYWxsKHkpLCAwKSA6IHkubmV4dCkgJiYgISh0ID0gdC5jYWxsKHksIG9wWzFdKSkuZG9uZSkgcmV0dXJuIHQ7XHJcbiAgICAgICAgICAgIGlmICh5ID0gMCwgdCkgb3AgPSBbb3BbMF0gJiAyLCB0LnZhbHVlXTtcclxuICAgICAgICAgICAgc3dpdGNoIChvcFswXSkge1xyXG4gICAgICAgICAgICAgICAgY2FzZSAwOiBjYXNlIDE6IHQgPSBvcDsgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlIDQ6IF8ubGFiZWwrKzsgcmV0dXJuIHsgdmFsdWU6IG9wWzFdLCBkb25lOiBmYWxzZSB9O1xyXG4gICAgICAgICAgICAgICAgY2FzZSA1OiBfLmxhYmVsKys7IHkgPSBvcFsxXTsgb3AgPSBbMF07IGNvbnRpbnVlO1xyXG4gICAgICAgICAgICAgICAgY2FzZSA3OiBvcCA9IF8ub3BzLnBvcCgpOyBfLnRyeXMucG9wKCk7IGNvbnRpbnVlO1xyXG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgICAgICAgICBpZiAoISh0ID0gXy50cnlzLCB0ID0gdC5sZW5ndGggPiAwICYmIHRbdC5sZW5ndGggLSAxXSkgJiYgKG9wWzBdID09PSA2IHx8IG9wWzBdID09PSAyKSkgeyBfID0gMDsgY29udGludWU7IH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAob3BbMF0gPT09IDMgJiYgKCF0IHx8IChvcFsxXSA+IHRbMF0gJiYgb3BbMV0gPCB0WzNdKSkpIHsgXy5sYWJlbCA9IG9wWzFdOyBicmVhazsgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChvcFswXSA9PT0gNiAmJiBfLmxhYmVsIDwgdFsxXSkgeyBfLmxhYmVsID0gdFsxXTsgdCA9IG9wOyBicmVhazsgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0ICYmIF8ubGFiZWwgPCB0WzJdKSB7IF8ubGFiZWwgPSB0WzJdOyBfLm9wcy5wdXNoKG9wKTsgYnJlYWs7IH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAodFsyXSkgXy5vcHMucG9wKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgXy50cnlzLnBvcCgpOyBjb250aW51ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBvcCA9IGJvZHkuY2FsbCh0aGlzQXJnLCBfKTtcclxuICAgICAgICB9IGNhdGNoIChlKSB7IG9wID0gWzYsIGVdOyB5ID0gMDsgfSBmaW5hbGx5IHsgZiA9IHQgPSAwOyB9XHJcbiAgICAgICAgaWYgKG9wWzBdICYgNSkgdGhyb3cgb3BbMV07IHJldHVybiB7IHZhbHVlOiBvcFswXSA/IG9wWzFdIDogdm9pZCAwLCBkb25lOiB0cnVlIH07XHJcbiAgICB9XHJcbn07XHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcclxucmVxdWlyZShcIi4uL3Nhc3MvbWFpbi5zYXNzXCIpO1xyXG52YXIgbGV2ZWxDb25zdHJ1Y3RvciA9IHJlcXVpcmUoJy4vY29uc3RydWN0b3JzL2xldmVsQ29uc3RydWN0b3JzJykubGV2ZWxDb25zdHJ1Y3RvcjtcclxudmFyIHBsYXllck1vZHVsZXMgPSByZXF1aXJlKCcuL2NvbnN0cnVjdG9ycy91c2VyQ29uc3RydWN0b3InKS5wbGF5ZXJNb2R1bGVzO1xyXG52YXIgZW5naW5lTW9kdWxlID0gcmVxdWlyZSgnLi9lbmdpbmUvZW5naW5lTW9kdWxlcycpLmVuZ2luZU1vZHVsZTtcclxudmFyIHNlcnZlck1vZHVsZXMgPSByZXF1aXJlKCcuL3NlcnZlci9zZXJ2ZXJSZXF1ZXN0TW9kdWxlcycpLnNlcnZlck1vZHVsZXM7XHJcbnZhciBlbmVtaWVzID0gcmVxdWlyZSgnLi9lbmVtaWVzL2VuZW1pZXNNb2R1bGVzJykuZW5lbWllcztcclxudmFyIHZpZXdNb2R1bGVzID0gcmVxdWlyZSgnLi92aWV3L2RzaXBsYXlNb2R1bGVzJykudmlld01vZHVsZXM7XHJcbihmdW5jdGlvbiBpbml0KCkge1xyXG4gICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGZ1bmN0aW9uIGdhbWVEYXRhSW5pdCgpIHtcclxuICAgICAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgdmFyIGdhbWVGaWVsZCwgZ2FtZUFjdGlvbkZpZWxkLCBnYW1lVUlmaWVsZCwgc2VydmVyTG9jYXRpb24sIGxldmVsRGF0YSwgZ2FtZVNldGluZ3MsIHVzZXJEYXRhO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsIGZ1bmN0aW9uIChfYSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHN3aXRjaCAoX2EubGFiZWwpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAwOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZ2FtZUZpZWxkID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2dhbWVmaWVsZCcpLCBnYW1lQWN0aW9uRmllbGQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjZ2FtZU9iamVjdHNmaWVsZCcpLCBnYW1lVUlmaWVsZCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNnYW1lVWlmaWVsZCcpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VydmVyTG9jYXRpb24gPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaG9zdDogKGRvY3VtZW50LmxvY2F0aW9uLmhvc3RuYW1lID09PSBcImxvY2FsaG9zdFwiKSA/IFwiaHR0cDovL2xvY2FsaG9zdDozMDAwL1wiIDogXCJcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwaWN0dXJlc0RpcmVjdGlvbjogbG9jYXRpb24ub3JpZ2luICsgJy9pbWFnZXMvJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXZlbERhdGE6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWV0aG9kOiBcIkdFVFwiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1cmw6IFwiYXBpL2xldmVsLWRhdGFcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5lbXlsRGF0YToge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXRob2Q6IFwiR0VUXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVybDogXCJhcGkvbGV2ZWwtZGF0YVwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBnYW1lU2V0aW5nczoge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXRob2Q6IFwiR0VUXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVybDogXCJhcGkvZ2FtZS1ldHRpbmdzXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVzZXJTaGlwOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1ldGhvZDogXCJHRVRcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdXJsOiBcImFwaS91c2VyLXNoaXBcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzQgLyp5aWVsZCovLCBzZXJ2ZXJNb2R1bGVzLmdldERhdGEoe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1cmw6IHNlcnZlckxvY2F0aW9uLmhvc3QgKyBzZXJ2ZXJMb2NhdGlvbi5sZXZlbERhdGEudXJsLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXRob2Q6IHNlcnZlckxvY2F0aW9uLmxldmVsRGF0YS5tZXRob2QsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGE6IG51bGwsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhlYWRlcnM6IHsgJ21hcGxldmVsJzogMiB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSldO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDE6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXZlbERhdGEgPSBfYS5zZW50KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzQgLyp5aWVsZCovLCBzZXJ2ZXJNb2R1bGVzLmdldERhdGEoe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1cmw6IHNlcnZlckxvY2F0aW9uLmhvc3QgKyBzZXJ2ZXJMb2NhdGlvbi5nYW1lU2V0aW5ncy51cmwsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1ldGhvZDogc2VydmVyTG9jYXRpb24uZ2FtZVNldGluZ3MubWV0aG9kLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhOiBudWxsLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBoZWFkZXJzOiBudWxsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSldO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDI6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBnYW1lU2V0aW5ncyA9IF9hLnNlbnQoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbNCAvKnlpZWxkKi8sIHNlcnZlck1vZHVsZXMuZ2V0RGF0YSh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVybDogc2VydmVyTG9jYXRpb24uaG9zdCArIHNlcnZlckxvY2F0aW9uLnVzZXJTaGlwLnVybCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWV0aG9kOiBzZXJ2ZXJMb2NhdGlvbi51c2VyU2hpcC5tZXRob2QsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGE6IG51bGwsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhlYWRlcnM6IHsgJ3VzZXJzaGlwJzogMSB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSldO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDM6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB1c2VyRGF0YSA9IF9hLnNlbnQoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbMiAvKnJldHVybiovLCB7IGRhdGE6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN0eDogbnVsbCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdhbWVGaWVsZDogKGdhbWVGaWVsZCkgPyBnYW1lRmllbGQgOiBudWxsLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZ2FtZUFjdGlvbkZpZWxkOiAoZ2FtZUFjdGlvbkZpZWxkKSA/IGdhbWVBY3Rpb25GaWVsZCA6IG51bGwsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBnYW1lVUlGaWVsZDogKGdhbWVVSWZpZWxkKSA/IGdhbWVVSWZpZWxkIDogbnVsbCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdhbWVEYXRhOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudExldmVsOiAyLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRQb2ludDogMCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbGF5ZXJPYmplY3Q6IG5ldyBwbGF5ZXJNb2R1bGVzLlBsYXllclNoaXAodXNlckRhdGEsIDAsIDMpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdhbWVTZXRpbmdzOiBnYW1lU2V0aW5ncyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdHJvbGxlcnM6IG51bGxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzY3JlZW46IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aWR0aDogd2luZG93LmlubmVyV2lkdGgsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaGVpZ2h0OiB3aW5kb3cuaW5uZXJIZWlnaHRcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbGxHYW1lRW5lbWllczogW10sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbGxHYW1lQnVsbGV0czogW10sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbGxHYW1lTWFwT0JqZWN0czogW10sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXBCYWNrZ3JvdW5kT2JqZWN0czogW10sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBnYW1lUGF1c2U6IGZhbHNlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYmFja1NjcmVlblBhdXNlOiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZ2FtZVN0YXR1czogZmFsc2UsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBnYW1lRW5naW5lOiBzZXRJbnRlcnZhbChnYW1lSW50ZXJ2YWwsIDIwKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldmVsRGF0YTogbGV2ZWxEYXRhXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIGxvY2F0aW9uczogc2VydmVyTG9jYXRpb25cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGZ1bmN0aW9uIGdhbWVJbnRlcnZhbCgpIHtcclxuICAgICAgICAgICAgLyp2aWV3TW9kdWxlcy5jbGVhckZpZWxkKGdhbWVPYmplY3QuZ2FtZUluaXREYXRhLmN0eCxcclxuICAgICAgICAgICAgICAgIGdhbWVPYmplY3QuZ2FtZUluaXREYXRhLnNjcmVlbi53aWR0aCxcclxuICAgICAgICAgICAgICAgIGdhbWVPYmplY3QuZ2FtZUluaXREYXRhLnNjcmVlbi5oZWlnaHQpOyovXHJcbiAgICAgICAgICAgIGlmIChnYW1lT2JqZWN0LmdhbWVJbml0RGF0YS5iYWNrU2NyZWVuUGF1c2UpIHtcclxuICAgICAgICAgICAgICAgIGdhbWVPYmplY3QuZ2FtZUluaXREYXRhLmJhY2tTY3JlZW5QYXVzZSA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgZ2FtZU9iamVjdC5sZXZlbEluaXQobGV2ZWxDb25zdHJ1Y3Rvci5HYW1lQmFja2dyb3VuZCwgZ2FtZU9iamVjdC5nYW1lSW5pdERhdGEuY3R4KTtcclxuICAgICAgICAgICAgICAgIGdhbWVPYmplY3QubGV2ZWxJbml0KGxldmVsQ29uc3RydWN0b3IuR2FtZUJhY2tncm91bmQsIGdhbWVPYmplY3QuZ2FtZUluaXREYXRhLmN0eCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKCFnYW1lT2JqZWN0LmdhbWVJbml0RGF0YS5iYWNrU2NyZWVuUGF1c2UpIHtcclxuICAgICAgICAgICAgICAgIGZvciAodmFyIF9pID0gMCwgX2EgPSBnYW1lT2JqZWN0LmdhbWVJbml0RGF0YS5tYXBCYWNrZ3JvdW5kT2JqZWN0czsgX2kgPCBfYS5sZW5ndGg7IF9pKyspIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgYmFja2dyb3VuZE1hcCA9IF9hW19pXTtcclxuICAgICAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kTWFwLnVwZGF0ZU1hcCgpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHZhciBnYW1lU3RhdGUsIGdhbWVPYmplY3Q7XHJcbiAgICAgICAgcmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsIGZ1bmN0aW9uIChfYSkge1xyXG4gICAgICAgICAgICBzd2l0Y2ggKF9hLmxhYmVsKSB7XHJcbiAgICAgICAgICAgICAgICBjYXNlIDA6IHJldHVybiBbNCAvKnlpZWxkKi8sIGdhbWVEYXRhSW5pdCgpXTtcclxuICAgICAgICAgICAgICAgIGNhc2UgMTpcclxuICAgICAgICAgICAgICAgICAgICBnYW1lU3RhdGUgPSBfYS5zZW50KCksIGdhbWVPYmplY3QgPSBuZXcgbGV2ZWxDb25zdHJ1Y3Rvci5HYW1lKGdhbWVTdGF0ZS5kYXRhLCBnYW1lU3RhdGUubG9jYXRpb25zKTtcclxuICAgICAgICAgICAgICAgICAgICBnYW1lT2JqZWN0LmluaXRGaWVsZCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIGdhbWVPYmplY3QuY3JlYXRlQ29udGV4dCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGdhbWVPYmplY3QpO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBbMiAvKnJldHVybiovXTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfSk7XHJcbn0pKCk7XHJcbiIsInZhciBhcGkgPSByZXF1aXJlKFwiIS4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL2luamVjdFN0eWxlc0ludG9TdHlsZVRhZy5qc1wiKTtcbiAgICAgICAgICAgIHZhciBjb250ZW50ID0gcmVxdWlyZShcIiEhLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9janMuanMhLi4vbm9kZV9tb2R1bGVzL3Nhc3MtbG9hZGVyL2Rpc3QvY2pzLmpzIS4vbWFpbi5zYXNzXCIpO1xuXG4gICAgICAgICAgICBjb250ZW50ID0gY29udGVudC5fX2VzTW9kdWxlID8gY29udGVudC5kZWZhdWx0IDogY29udGVudDtcblxuICAgICAgICAgICAgaWYgKHR5cGVvZiBjb250ZW50ID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgICBjb250ZW50ID0gW1ttb2R1bGUuaWQsIGNvbnRlbnQsICcnXV07XG4gICAgICAgICAgICB9XG5cbnZhciBvcHRpb25zID0ge307XG5cbm9wdGlvbnMuaW5zZXJ0ID0gXCJoZWFkXCI7XG5vcHRpb25zLnNpbmdsZXRvbiA9IGZhbHNlO1xuXG52YXIgdXBkYXRlID0gYXBpKGNvbnRlbnQsIG9wdGlvbnMpO1xuXG52YXIgZXhwb3J0ZWQgPSBjb250ZW50LmxvY2FscyA/IGNvbnRlbnQubG9jYWxzIDoge307XG5cblxuXG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydGVkOyIsIlwidXNlIHN0cmljdFwiO1xuXG52YXIgaXNPbGRJRSA9IGZ1bmN0aW9uIGlzT2xkSUUoKSB7XG4gIHZhciBtZW1vO1xuICByZXR1cm4gZnVuY3Rpb24gbWVtb3JpemUoKSB7XG4gICAgaWYgKHR5cGVvZiBtZW1vID09PSAndW5kZWZpbmVkJykge1xuICAgICAgLy8gVGVzdCBmb3IgSUUgPD0gOSBhcyBwcm9wb3NlZCBieSBCcm93c2VyaGFja3NcbiAgICAgIC8vIEBzZWUgaHR0cDovL2Jyb3dzZXJoYWNrcy5jb20vI2hhY2stZTcxZDg2OTJmNjUzMzQxNzNmZWU3MTVjMjIyY2I4MDVcbiAgICAgIC8vIFRlc3RzIGZvciBleGlzdGVuY2Ugb2Ygc3RhbmRhcmQgZ2xvYmFscyBpcyB0byBhbGxvdyBzdHlsZS1sb2FkZXJcbiAgICAgIC8vIHRvIG9wZXJhdGUgY29ycmVjdGx5IGludG8gbm9uLXN0YW5kYXJkIGVudmlyb25tZW50c1xuICAgICAgLy8gQHNlZSBodHRwczovL2dpdGh1Yi5jb20vd2VicGFjay1jb250cmliL3N0eWxlLWxvYWRlci9pc3N1ZXMvMTc3XG4gICAgICBtZW1vID0gQm9vbGVhbih3aW5kb3cgJiYgZG9jdW1lbnQgJiYgZG9jdW1lbnQuYWxsICYmICF3aW5kb3cuYXRvYik7XG4gICAgfVxuXG4gICAgcmV0dXJuIG1lbW87XG4gIH07XG59KCk7XG5cbnZhciBnZXRUYXJnZXQgPSBmdW5jdGlvbiBnZXRUYXJnZXQoKSB7XG4gIHZhciBtZW1vID0ge307XG4gIHJldHVybiBmdW5jdGlvbiBtZW1vcml6ZSh0YXJnZXQpIHtcbiAgICBpZiAodHlwZW9mIG1lbW9bdGFyZ2V0XSA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIHZhciBzdHlsZVRhcmdldCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IodGFyZ2V0KTsgLy8gU3BlY2lhbCBjYXNlIHRvIHJldHVybiBoZWFkIG9mIGlmcmFtZSBpbnN0ZWFkIG9mIGlmcmFtZSBpdHNlbGZcblxuICAgICAgaWYgKHdpbmRvdy5IVE1MSUZyYW1lRWxlbWVudCAmJiBzdHlsZVRhcmdldCBpbnN0YW5jZW9mIHdpbmRvdy5IVE1MSUZyYW1lRWxlbWVudCkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgIC8vIFRoaXMgd2lsbCB0aHJvdyBhbiBleGNlcHRpb24gaWYgYWNjZXNzIHRvIGlmcmFtZSBpcyBibG9ja2VkXG4gICAgICAgICAgLy8gZHVlIHRvIGNyb3NzLW9yaWdpbiByZXN0cmljdGlvbnNcbiAgICAgICAgICBzdHlsZVRhcmdldCA9IHN0eWxlVGFyZ2V0LmNvbnRlbnREb2N1bWVudC5oZWFkO1xuICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgLy8gaXN0YW5idWwgaWdub3JlIG5leHRcbiAgICAgICAgICBzdHlsZVRhcmdldCA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgbWVtb1t0YXJnZXRdID0gc3R5bGVUYXJnZXQ7XG4gICAgfVxuXG4gICAgcmV0dXJuIG1lbW9bdGFyZ2V0XTtcbiAgfTtcbn0oKTtcblxudmFyIHN0eWxlc0luRG9tID0gW107XG5cbmZ1bmN0aW9uIGdldEluZGV4QnlJZGVudGlmaWVyKGlkZW50aWZpZXIpIHtcbiAgdmFyIHJlc3VsdCA9IC0xO1xuXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgc3R5bGVzSW5Eb20ubGVuZ3RoOyBpKyspIHtcbiAgICBpZiAoc3R5bGVzSW5Eb21baV0uaWRlbnRpZmllciA9PT0gaWRlbnRpZmllcikge1xuICAgICAgcmVzdWx0ID0gaTtcbiAgICAgIGJyZWFrO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiByZXN1bHQ7XG59XG5cbmZ1bmN0aW9uIG1vZHVsZXNUb0RvbShsaXN0LCBvcHRpb25zKSB7XG4gIHZhciBpZENvdW50TWFwID0ge307XG4gIHZhciBpZGVudGlmaWVycyA9IFtdO1xuXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgbGlzdC5sZW5ndGg7IGkrKykge1xuICAgIHZhciBpdGVtID0gbGlzdFtpXTtcbiAgICB2YXIgaWQgPSBvcHRpb25zLmJhc2UgPyBpdGVtWzBdICsgb3B0aW9ucy5iYXNlIDogaXRlbVswXTtcbiAgICB2YXIgY291bnQgPSBpZENvdW50TWFwW2lkXSB8fCAwO1xuICAgIHZhciBpZGVudGlmaWVyID0gXCJcIi5jb25jYXQoaWQsIFwiIFwiKS5jb25jYXQoY291bnQpO1xuICAgIGlkQ291bnRNYXBbaWRdID0gY291bnQgKyAxO1xuICAgIHZhciBpbmRleCA9IGdldEluZGV4QnlJZGVudGlmaWVyKGlkZW50aWZpZXIpO1xuICAgIHZhciBvYmogPSB7XG4gICAgICBjc3M6IGl0ZW1bMV0sXG4gICAgICBtZWRpYTogaXRlbVsyXSxcbiAgICAgIHNvdXJjZU1hcDogaXRlbVszXVxuICAgIH07XG5cbiAgICBpZiAoaW5kZXggIT09IC0xKSB7XG4gICAgICBzdHlsZXNJbkRvbVtpbmRleF0ucmVmZXJlbmNlcysrO1xuICAgICAgc3R5bGVzSW5Eb21baW5kZXhdLnVwZGF0ZXIob2JqKTtcbiAgICB9IGVsc2Uge1xuICAgICAgc3R5bGVzSW5Eb20ucHVzaCh7XG4gICAgICAgIGlkZW50aWZpZXI6IGlkZW50aWZpZXIsXG4gICAgICAgIHVwZGF0ZXI6IGFkZFN0eWxlKG9iaiwgb3B0aW9ucyksXG4gICAgICAgIHJlZmVyZW5jZXM6IDFcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIGlkZW50aWZpZXJzLnB1c2goaWRlbnRpZmllcik7XG4gIH1cblxuICByZXR1cm4gaWRlbnRpZmllcnM7XG59XG5cbmZ1bmN0aW9uIGluc2VydFN0eWxlRWxlbWVudChvcHRpb25zKSB7XG4gIHZhciBzdHlsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3N0eWxlJyk7XG4gIHZhciBhdHRyaWJ1dGVzID0gb3B0aW9ucy5hdHRyaWJ1dGVzIHx8IHt9O1xuXG4gIGlmICh0eXBlb2YgYXR0cmlidXRlcy5ub25jZSA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICB2YXIgbm9uY2UgPSB0eXBlb2YgX193ZWJwYWNrX25vbmNlX18gIT09ICd1bmRlZmluZWQnID8gX193ZWJwYWNrX25vbmNlX18gOiBudWxsO1xuXG4gICAgaWYgKG5vbmNlKSB7XG4gICAgICBhdHRyaWJ1dGVzLm5vbmNlID0gbm9uY2U7XG4gICAgfVxuICB9XG5cbiAgT2JqZWN0LmtleXMoYXR0cmlidXRlcykuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG4gICAgc3R5bGUuc2V0QXR0cmlidXRlKGtleSwgYXR0cmlidXRlc1trZXldKTtcbiAgfSk7XG5cbiAgaWYgKHR5cGVvZiBvcHRpb25zLmluc2VydCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIG9wdGlvbnMuaW5zZXJ0KHN0eWxlKTtcbiAgfSBlbHNlIHtcbiAgICB2YXIgdGFyZ2V0ID0gZ2V0VGFyZ2V0KG9wdGlvbnMuaW5zZXJ0IHx8ICdoZWFkJyk7XG5cbiAgICBpZiAoIXRhcmdldCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiQ291bGRuJ3QgZmluZCBhIHN0eWxlIHRhcmdldC4gVGhpcyBwcm9iYWJseSBtZWFucyB0aGF0IHRoZSB2YWx1ZSBmb3IgdGhlICdpbnNlcnQnIHBhcmFtZXRlciBpcyBpbnZhbGlkLlwiKTtcbiAgICB9XG5cbiAgICB0YXJnZXQuYXBwZW5kQ2hpbGQoc3R5bGUpO1xuICB9XG5cbiAgcmV0dXJuIHN0eWxlO1xufVxuXG5mdW5jdGlvbiByZW1vdmVTdHlsZUVsZW1lbnQoc3R5bGUpIHtcbiAgLy8gaXN0YW5idWwgaWdub3JlIGlmXG4gIGlmIChzdHlsZS5wYXJlbnROb2RlID09PSBudWxsKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgc3R5bGUucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChzdHlsZSk7XG59XG4vKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAgKi9cblxuXG52YXIgcmVwbGFjZVRleHQgPSBmdW5jdGlvbiByZXBsYWNlVGV4dCgpIHtcbiAgdmFyIHRleHRTdG9yZSA9IFtdO1xuICByZXR1cm4gZnVuY3Rpb24gcmVwbGFjZShpbmRleCwgcmVwbGFjZW1lbnQpIHtcbiAgICB0ZXh0U3RvcmVbaW5kZXhdID0gcmVwbGFjZW1lbnQ7XG4gICAgcmV0dXJuIHRleHRTdG9yZS5maWx0ZXIoQm9vbGVhbikuam9pbignXFxuJyk7XG4gIH07XG59KCk7XG5cbmZ1bmN0aW9uIGFwcGx5VG9TaW5nbGV0b25UYWcoc3R5bGUsIGluZGV4LCByZW1vdmUsIG9iaikge1xuICB2YXIgY3NzID0gcmVtb3ZlID8gJycgOiBvYmoubWVkaWEgPyBcIkBtZWRpYSBcIi5jb25jYXQob2JqLm1lZGlhLCBcIiB7XCIpLmNvbmNhdChvYmouY3NzLCBcIn1cIikgOiBvYmouY3NzOyAvLyBGb3Igb2xkIElFXG5cbiAgLyogaXN0YW5idWwgaWdub3JlIGlmICAqL1xuXG4gIGlmIChzdHlsZS5zdHlsZVNoZWV0KSB7XG4gICAgc3R5bGUuc3R5bGVTaGVldC5jc3NUZXh0ID0gcmVwbGFjZVRleHQoaW5kZXgsIGNzcyk7XG4gIH0gZWxzZSB7XG4gICAgdmFyIGNzc05vZGUgPSBkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShjc3MpO1xuICAgIHZhciBjaGlsZE5vZGVzID0gc3R5bGUuY2hpbGROb2RlcztcblxuICAgIGlmIChjaGlsZE5vZGVzW2luZGV4XSkge1xuICAgICAgc3R5bGUucmVtb3ZlQ2hpbGQoY2hpbGROb2Rlc1tpbmRleF0pO1xuICAgIH1cblxuICAgIGlmIChjaGlsZE5vZGVzLmxlbmd0aCkge1xuICAgICAgc3R5bGUuaW5zZXJ0QmVmb3JlKGNzc05vZGUsIGNoaWxkTm9kZXNbaW5kZXhdKTtcbiAgICB9IGVsc2Uge1xuICAgICAgc3R5bGUuYXBwZW5kQ2hpbGQoY3NzTm9kZSk7XG4gICAgfVxuICB9XG59XG5cbmZ1bmN0aW9uIGFwcGx5VG9UYWcoc3R5bGUsIG9wdGlvbnMsIG9iaikge1xuICB2YXIgY3NzID0gb2JqLmNzcztcbiAgdmFyIG1lZGlhID0gb2JqLm1lZGlhO1xuICB2YXIgc291cmNlTWFwID0gb2JqLnNvdXJjZU1hcDtcblxuICBpZiAobWVkaWEpIHtcbiAgICBzdHlsZS5zZXRBdHRyaWJ1dGUoJ21lZGlhJywgbWVkaWEpO1xuICB9IGVsc2Uge1xuICAgIHN0eWxlLnJlbW92ZUF0dHJpYnV0ZSgnbWVkaWEnKTtcbiAgfVxuXG4gIGlmIChzb3VyY2VNYXAgJiYgYnRvYSkge1xuICAgIGNzcyArPSBcIlxcbi8qIyBzb3VyY2VNYXBwaW5nVVJMPWRhdGE6YXBwbGljYXRpb24vanNvbjtiYXNlNjQsXCIuY29uY2F0KGJ0b2EodW5lc2NhcGUoZW5jb2RlVVJJQ29tcG9uZW50KEpTT04uc3RyaW5naWZ5KHNvdXJjZU1hcCkpKSksIFwiICovXCIpO1xuICB9IC8vIEZvciBvbGQgSUVcblxuICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgICovXG5cblxuICBpZiAoc3R5bGUuc3R5bGVTaGVldCkge1xuICAgIHN0eWxlLnN0eWxlU2hlZXQuY3NzVGV4dCA9IGNzcztcbiAgfSBlbHNlIHtcbiAgICB3aGlsZSAoc3R5bGUuZmlyc3RDaGlsZCkge1xuICAgICAgc3R5bGUucmVtb3ZlQ2hpbGQoc3R5bGUuZmlyc3RDaGlsZCk7XG4gICAgfVxuXG4gICAgc3R5bGUuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoY3NzKSk7XG4gIH1cbn1cblxudmFyIHNpbmdsZXRvbiA9IG51bGw7XG52YXIgc2luZ2xldG9uQ291bnRlciA9IDA7XG5cbmZ1bmN0aW9uIGFkZFN0eWxlKG9iaiwgb3B0aW9ucykge1xuICB2YXIgc3R5bGU7XG4gIHZhciB1cGRhdGU7XG4gIHZhciByZW1vdmU7XG5cbiAgaWYgKG9wdGlvbnMuc2luZ2xldG9uKSB7XG4gICAgdmFyIHN0eWxlSW5kZXggPSBzaW5nbGV0b25Db3VudGVyKys7XG4gICAgc3R5bGUgPSBzaW5nbGV0b24gfHwgKHNpbmdsZXRvbiA9IGluc2VydFN0eWxlRWxlbWVudChvcHRpb25zKSk7XG4gICAgdXBkYXRlID0gYXBwbHlUb1NpbmdsZXRvblRhZy5iaW5kKG51bGwsIHN0eWxlLCBzdHlsZUluZGV4LCBmYWxzZSk7XG4gICAgcmVtb3ZlID0gYXBwbHlUb1NpbmdsZXRvblRhZy5iaW5kKG51bGwsIHN0eWxlLCBzdHlsZUluZGV4LCB0cnVlKTtcbiAgfSBlbHNlIHtcbiAgICBzdHlsZSA9IGluc2VydFN0eWxlRWxlbWVudChvcHRpb25zKTtcbiAgICB1cGRhdGUgPSBhcHBseVRvVGFnLmJpbmQobnVsbCwgc3R5bGUsIG9wdGlvbnMpO1xuXG4gICAgcmVtb3ZlID0gZnVuY3Rpb24gcmVtb3ZlKCkge1xuICAgICAgcmVtb3ZlU3R5bGVFbGVtZW50KHN0eWxlKTtcbiAgICB9O1xuICB9XG5cbiAgdXBkYXRlKG9iaik7XG4gIHJldHVybiBmdW5jdGlvbiB1cGRhdGVTdHlsZShuZXdPYmopIHtcbiAgICBpZiAobmV3T2JqKSB7XG4gICAgICBpZiAobmV3T2JqLmNzcyA9PT0gb2JqLmNzcyAmJiBuZXdPYmoubWVkaWEgPT09IG9iai5tZWRpYSAmJiBuZXdPYmouc291cmNlTWFwID09PSBvYmouc291cmNlTWFwKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgdXBkYXRlKG9iaiA9IG5ld09iaik7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJlbW92ZSgpO1xuICAgIH1cbiAgfTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAobGlzdCwgb3B0aW9ucykge1xuICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTsgLy8gRm9yY2Ugc2luZ2xlLXRhZyBzb2x1dGlvbiBvbiBJRTYtOSwgd2hpY2ggaGFzIGEgaGFyZCBsaW1pdCBvbiB0aGUgIyBvZiA8c3R5bGU+XG4gIC8vIHRhZ3MgaXQgd2lsbCBhbGxvdyBvbiBhIHBhZ2VcblxuICBpZiAoIW9wdGlvbnMuc2luZ2xldG9uICYmIHR5cGVvZiBvcHRpb25zLnNpbmdsZXRvbiAhPT0gJ2Jvb2xlYW4nKSB7XG4gICAgb3B0aW9ucy5zaW5nbGV0b24gPSBpc09sZElFKCk7XG4gIH1cblxuICBsaXN0ID0gbGlzdCB8fCBbXTtcbiAgdmFyIGxhc3RJZGVudGlmaWVycyA9IG1vZHVsZXNUb0RvbShsaXN0LCBvcHRpb25zKTtcbiAgcmV0dXJuIGZ1bmN0aW9uIHVwZGF0ZShuZXdMaXN0KSB7XG4gICAgbmV3TGlzdCA9IG5ld0xpc3QgfHwgW107XG5cbiAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKG5ld0xpc3QpICE9PSAnW29iamVjdCBBcnJheV0nKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsYXN0SWRlbnRpZmllcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhciBpZGVudGlmaWVyID0gbGFzdElkZW50aWZpZXJzW2ldO1xuICAgICAgdmFyIGluZGV4ID0gZ2V0SW5kZXhCeUlkZW50aWZpZXIoaWRlbnRpZmllcik7XG4gICAgICBzdHlsZXNJbkRvbVtpbmRleF0ucmVmZXJlbmNlcy0tO1xuICAgIH1cblxuICAgIHZhciBuZXdMYXN0SWRlbnRpZmllcnMgPSBtb2R1bGVzVG9Eb20obmV3TGlzdCwgb3B0aW9ucyk7XG5cbiAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgbGFzdElkZW50aWZpZXJzLmxlbmd0aDsgX2krKykge1xuICAgICAgdmFyIF9pZGVudGlmaWVyID0gbGFzdElkZW50aWZpZXJzW19pXTtcblxuICAgICAgdmFyIF9pbmRleCA9IGdldEluZGV4QnlJZGVudGlmaWVyKF9pZGVudGlmaWVyKTtcblxuICAgICAgaWYgKHN0eWxlc0luRG9tW19pbmRleF0ucmVmZXJlbmNlcyA9PT0gMCkge1xuICAgICAgICBzdHlsZXNJbkRvbVtfaW5kZXhdLnVwZGF0ZXIoKTtcblxuICAgICAgICBzdHlsZXNJbkRvbS5zcGxpY2UoX2luZGV4LCAxKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBsYXN0SWRlbnRpZmllcnMgPSBuZXdMYXN0SWRlbnRpZmllcnM7XG4gIH07XG59OyIsIi8vIEltcG9ydHNcbnZhciBfX19DU1NfTE9BREVSX0FQSV9JTVBPUlRfX18gPSByZXF1aXJlKFwiLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9ydW50aW1lL2FwaS5qc1wiKTtcbmV4cG9ydHMgPSBfX19DU1NfTE9BREVSX0FQSV9JTVBPUlRfX18oZmFsc2UpO1xuLy8gTW9kdWxlXG5leHBvcnRzLnB1c2goW21vZHVsZS5pZCwgXCJib2R5e2NvbG9yOm9yYW5nZTtiYWNrZ3JvdW5kOiMzMzM7bWFyZ2luOjA7cGFkZGluZzowfS5nYW1lQmFja2dyb3VuZHtiYWNrZ3JvdW5kOiMwMDB9LmdhbWUtZmllbGRze3Bvc2l0aW9uOmFic29sdXRlfVxcblwiLCBcIlwiXSk7XG4vLyBFeHBvcnRzXG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHM7XG4iLCJcInVzZSBzdHJpY3RcIjtcblxuLypcbiAgTUlUIExpY2Vuc2UgaHR0cDovL3d3dy5vcGVuc291cmNlLm9yZy9saWNlbnNlcy9taXQtbGljZW5zZS5waHBcbiAgQXV0aG9yIFRvYmlhcyBLb3BwZXJzIEBzb2tyYVxuKi9cbi8vIGNzcyBiYXNlIGNvZGUsIGluamVjdGVkIGJ5IHRoZSBjc3MtbG9hZGVyXG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZnVuYy1uYW1lc1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAodXNlU291cmNlTWFwKSB7XG4gIHZhciBsaXN0ID0gW107IC8vIHJldHVybiB0aGUgbGlzdCBvZiBtb2R1bGVzIGFzIGNzcyBzdHJpbmdcblxuICBsaXN0LnRvU3RyaW5nID0gZnVuY3Rpb24gdG9TdHJpbmcoKSB7XG4gICAgcmV0dXJuIHRoaXMubWFwKGZ1bmN0aW9uIChpdGVtKSB7XG4gICAgICB2YXIgY29udGVudCA9IGNzc1dpdGhNYXBwaW5nVG9TdHJpbmcoaXRlbSwgdXNlU291cmNlTWFwKTtcblxuICAgICAgaWYgKGl0ZW1bMl0pIHtcbiAgICAgICAgcmV0dXJuIFwiQG1lZGlhIFwiLmNvbmNhdChpdGVtWzJdLCBcIiB7XCIpLmNvbmNhdChjb250ZW50LCBcIn1cIik7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBjb250ZW50O1xuICAgIH0pLmpvaW4oJycpO1xuICB9OyAvLyBpbXBvcnQgYSBsaXN0IG9mIG1vZHVsZXMgaW50byB0aGUgbGlzdFxuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZnVuYy1uYW1lc1xuXG5cbiAgbGlzdC5pID0gZnVuY3Rpb24gKG1vZHVsZXMsIG1lZGlhUXVlcnksIGRlZHVwZSkge1xuICAgIGlmICh0eXBlb2YgbW9kdWxlcyA9PT0gJ3N0cmluZycpIHtcbiAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1wYXJhbS1yZWFzc2lnblxuICAgICAgbW9kdWxlcyA9IFtbbnVsbCwgbW9kdWxlcywgJyddXTtcbiAgICB9XG5cbiAgICB2YXIgYWxyZWFkeUltcG9ydGVkTW9kdWxlcyA9IHt9O1xuXG4gICAgaWYgKGRlZHVwZSkge1xuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBwcmVmZXItZGVzdHJ1Y3R1cmluZ1xuICAgICAgICB2YXIgaWQgPSB0aGlzW2ldWzBdO1xuXG4gICAgICAgIGlmIChpZCAhPSBudWxsKSB7XG4gICAgICAgICAgYWxyZWFkeUltcG9ydGVkTW9kdWxlc1tpZF0gPSB0cnVlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IG1vZHVsZXMubGVuZ3RoOyBfaSsrKSB7XG4gICAgICB2YXIgaXRlbSA9IFtdLmNvbmNhdChtb2R1bGVzW19pXSk7XG5cbiAgICAgIGlmIChkZWR1cGUgJiYgYWxyZWFkeUltcG9ydGVkTW9kdWxlc1tpdGVtWzBdXSkge1xuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tY29udGludWVcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG5cbiAgICAgIGlmIChtZWRpYVF1ZXJ5KSB7XG4gICAgICAgIGlmICghaXRlbVsyXSkge1xuICAgICAgICAgIGl0ZW1bMl0gPSBtZWRpYVF1ZXJ5O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGl0ZW1bMl0gPSBcIlwiLmNvbmNhdChtZWRpYVF1ZXJ5LCBcIiBhbmQgXCIpLmNvbmNhdChpdGVtWzJdKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBsaXN0LnB1c2goaXRlbSk7XG4gICAgfVxuICB9O1xuXG4gIHJldHVybiBsaXN0O1xufTtcblxuZnVuY3Rpb24gY3NzV2l0aE1hcHBpbmdUb1N0cmluZyhpdGVtLCB1c2VTb3VyY2VNYXApIHtcbiAgdmFyIGNvbnRlbnQgPSBpdGVtWzFdIHx8ICcnOyAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgcHJlZmVyLWRlc3RydWN0dXJpbmdcblxuICB2YXIgY3NzTWFwcGluZyA9IGl0ZW1bM107XG5cbiAgaWYgKCFjc3NNYXBwaW5nKSB7XG4gICAgcmV0dXJuIGNvbnRlbnQ7XG4gIH1cblxuICBpZiAodXNlU291cmNlTWFwICYmIHR5cGVvZiBidG9hID09PSAnZnVuY3Rpb24nKSB7XG4gICAgdmFyIHNvdXJjZU1hcHBpbmcgPSB0b0NvbW1lbnQoY3NzTWFwcGluZyk7XG4gICAgdmFyIHNvdXJjZVVSTHMgPSBjc3NNYXBwaW5nLnNvdXJjZXMubWFwKGZ1bmN0aW9uIChzb3VyY2UpIHtcbiAgICAgIHJldHVybiBcIi8qIyBzb3VyY2VVUkw9XCIuY29uY2F0KGNzc01hcHBpbmcuc291cmNlUm9vdCB8fCAnJykuY29uY2F0KHNvdXJjZSwgXCIgKi9cIik7XG4gICAgfSk7XG4gICAgcmV0dXJuIFtjb250ZW50XS5jb25jYXQoc291cmNlVVJMcykuY29uY2F0KFtzb3VyY2VNYXBwaW5nXSkuam9pbignXFxuJyk7XG4gIH1cblxuICByZXR1cm4gW2NvbnRlbnRdLmpvaW4oJ1xcbicpO1xufSAvLyBBZGFwdGVkIGZyb20gY29udmVydC1zb3VyY2UtbWFwIChNSVQpXG5cblxuZnVuY3Rpb24gdG9Db21tZW50KHNvdXJjZU1hcCkge1xuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW5kZWZcbiAgdmFyIGJhc2U2NCA9IGJ0b2EodW5lc2NhcGUoZW5jb2RlVVJJQ29tcG9uZW50KEpTT04uc3RyaW5naWZ5KHNvdXJjZU1hcCkpKSk7XG4gIHZhciBkYXRhID0gXCJzb3VyY2VNYXBwaW5nVVJMPWRhdGE6YXBwbGljYXRpb24vanNvbjtjaGFyc2V0PXV0Zi04O2Jhc2U2NCxcIi5jb25jYXQoYmFzZTY0KTtcbiAgcmV0dXJuIFwiLyojIFwiLmNvbmNhdChkYXRhLCBcIiAqL1wiKTtcbn0iLCJ2YXIgbGV2ZWxDb25zdHJ1Y3RvciA9IHJlcXVpcmUoJy4uL2NvbnN0cnVjdG9ycy9sZXZlbENvbnN0cnVjdG9ycycpLmxldmVsQ29uc3RydWN0b3I7XHJcbmZ1bmN0aW9uIGluaXRGaWVsZChzY3JlZW5XaWR0aCwgc2NyZWVuSGVpZ2h0KSB7XHJcbiAgICBpZiAoc2NyZWVuV2lkdGggPT09IHZvaWQgMCkgeyBzY3JlZW5XaWR0aCA9IHdpbmRvdy5pbm5lcldpZHRoOyB9XHJcbiAgICBpZiAoc2NyZWVuSGVpZ2h0ID09PSB2b2lkIDApIHsgc2NyZWVuSGVpZ2h0ID0gd2luZG93LmlubmVySGVpZ2h0OyB9XHJcbiAgICB2YXIgZ2FtZUZpZWxkID0gW10uY29uY2F0KHRoaXMuZ2FtZUluaXREYXRhLmdhbWVGaWVsZCwgdGhpcy5nYW1lSW5pdERhdGEuZ2FtZUFjdGlvbkZpZWxkLCB0aGlzLmdhbWVJbml0RGF0YS5nYW1lVUlGaWVsZCk7XHJcbiAgICBpZiAoIWdhbWVGaWVsZClcclxuICAgICAgICB0aHJvdyBFcnJvcihFUlJPUl9MSVNULm5vT2JqZWN0KTtcclxuICAgIGZvciAodmFyIF9pID0gMCwgZ2FtZUZpZWxkXzEgPSBnYW1lRmllbGQ7IF9pIDwgZ2FtZUZpZWxkXzEubGVuZ3RoOyBfaSsrKSB7XHJcbiAgICAgICAgdmFyIHNjcmVlbl8xID0gZ2FtZUZpZWxkXzFbX2ldO1xyXG4gICAgICAgIHNjcmVlbl8xLndpZHRoID0gc2NyZWVuV2lkdGggLSA0O1xyXG4gICAgICAgIHNjcmVlbl8xLmhlaWdodCA9IHNjcmVlbkhlaWdodCAtIDQ7XHJcbiAgICB9XHJcbn1cclxuZnVuY3Rpb24gbGV2ZWxJbml0KGJhY2tncm91bmRDb25zdHJ1Y3RvciwgY3R4KSB7XHJcbiAgICB2YXIgZ2FtZURhdGEgPSB0aGlzLnNob3dMZXZlbERhdGEoKTtcclxuICAgIHZhciBiYWNrZ3J1bmRJbWFnZXMgPSBnYW1lRGF0YS5sZXZlbE1hcDtcclxuICAgIHZhciBtYXBPYmplY3QgPSBuZXcgYmFja2dyb3VuZENvbnN0cnVjdG9yKGJhY2tncnVuZEltYWdlcywgMSwgdGhpcy5nYW1lSW5pdERhdGEuc2NyZWVuLCBjdHgsICh0aGlzLmdhbWVJbml0RGF0YS5tYXBCYWNrZ3JvdW5kT2JqZWN0cy5sZW5ndGggJSAyID09IDApID8gdHJ1ZSA6IG51bGwgLy8vICAgJTJcclxuICAgICk7XHJcbiAgICB0aGlzLmdhbWVJbml0RGF0YS5tYXBCYWNrZ3JvdW5kT2JqZWN0cyA9IHRoaXMuZ2FtZUluaXREYXRhLm1hcEJhY2tncm91bmRPYmplY3RzLmNvbmNhdChtYXBPYmplY3QpO1xyXG59XHJcbmZ1bmN0aW9uIGNyZWF0ZUNvbnRleHQoKSB7XHJcbiAgICB0aGlzLmdhbWVJbml0RGF0YS5jdHggPSB0aGlzLmdhbWVJbml0RGF0YS5nYW1lRmllbGQuZ2V0Q29udGV4dCgnMmQnKTtcclxuICAgIHRoaXMuZ2FtZUluaXREYXRhLmN0eEFjdGlvbkZpZWxkID0gdGhpcy5nYW1lSW5pdERhdGEuZ2FtZUFjdGlvbkZpZWxkLmdldENvbnRleHQoJzJkJyk7XHJcbiAgICB0aGlzLmdhbWVJbml0RGF0YS5jdHhVSUZpZWxkID0gdGhpcy5nYW1lSW5pdERhdGEuZ2FtZVVJRmllbGQuZ2V0Q29udGV4dCgnMmQnKTtcclxufVxyXG5mdW5jdGlvbiBzdG9wRW5naW5lKGVuZ2luZU5hbWUpIHtcclxuICAgIGNsZWFySW50ZXJ2YWwoZW5naW5lTmFtZSk7XHJcbn1cclxubW9kdWxlLmV4cG9ydHMuZW5naW5lTW9kdWxlID0ge1xyXG4gICAgc3RvcEVuZ2luZTogc3RvcEVuZ2luZVxyXG59O1xyXG5tb2R1bGUuZXhwb3J0cy5nYW1lTWV0aG9kcyA9IHtcclxuICAgIGluaXRGaWVsZDogaW5pdEZpZWxkLFxyXG4gICAgbGV2ZWxJbml0OiBsZXZlbEluaXQsXHJcbiAgICBjcmVhdGVDb250ZXh0OiBjcmVhdGVDb250ZXh0XHJcbn07XHJcbiIsImZ1bmN0aW9uIGdldERhdGEoX2EpIHtcclxuICAgIHZhciB1cmwgPSBfYS51cmwsIG1ldGhvZCA9IF9hLm1ldGhvZCwgZGF0YSA9IF9hLmRhdGEsIGhlYWRlcnMgPSBfYS5oZWFkZXJzO1xyXG4gICAgdmFyIHJlc3VsdEhlYWRlciA9IE9iamVjdC5hc3NpZ24oe1xyXG4gICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbidcclxuICAgIH0sIGhlYWRlcnMgfHwgZmFsc2UpO1xyXG4gICAgcmV0dXJuIGZldGNoKHVybCwge1xyXG4gICAgICAgIG1ldGhvZDogbWV0aG9kLFxyXG4gICAgICAgIG1vZGU6ICdjb3JzJyxcclxuICAgICAgICBoZWFkZXJzOiByZXN1bHRIZWFkZXIsXHJcbiAgICAgICAgYm9keTogKGRhdGEpID8gSlNPTi5zdHJpbmdpZnkoZGF0YSkgOiBudWxsXHJcbiAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXMpIHsgcmV0dXJuIHJlcy5qc29uKCk7IH0pLnRoZW4oZnVuY3Rpb24gKGRhdGEpIHsgcmV0dXJuIGRhdGE7IH0pO1xyXG59XHJcbm1vZHVsZS5leHBvcnRzLnNlcnZlck1vZHVsZXMgPSB7XHJcbiAgICBnZXREYXRhOiBnZXREYXRhXHJcbn07XHJcbiIsImZ1bmN0aW9uIGRpc3BsYXlEYXRhKGRhdGEpIHtcclxuICAgIHZhciByZXMgPSBkYXRhICsgJyBNeSBXb3JsZCAxMTEnO1xyXG4gICAgcmV0dXJuIHJlcztcclxufVxyXG5tb2R1bGUuZXhwb3J0cy5lbmVtaWVzID0gZGlzcGxheURhdGE7XHJcbiIsInZhciBQbGF5ZXJTaGlwID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xyXG4gICAgZnVuY3Rpb24gUGxheWVyU2hpcChkYXRhLCBwb2ludHMsIGxpZmVQb2ludHMpIHtcclxuICAgICAgICB0aGlzLmRhdGEgPSBkYXRhO1xyXG4gICAgICAgIHRoaXMucG9pbnRzID0gcG9pbnRzO1xyXG4gICAgICAgIHRoaXMubGlmZVBvaW50cyA9IGxpZmVQb2ludHM7XHJcbiAgICB9XHJcbiAgICBQbGF5ZXJTaGlwLnByb3RvdHlwZS5zaG93SW5mb3JtYXRpb24gPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgY29uc29sZS5sb2codGhpcyk7XHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIFBsYXllclNoaXA7XHJcbn0oKSk7XHJcbm1vZHVsZS5leHBvcnRzLnBsYXllck1vZHVsZXMgPSB7XHJcbiAgICBQbGF5ZXJTaGlwOiBQbGF5ZXJTaGlwXHJcbn07XHJcbiIsInZhciBfX3NwcmVhZEFycmF5cyA9ICh0aGlzICYmIHRoaXMuX19zcHJlYWRBcnJheXMpIHx8IGZ1bmN0aW9uICgpIHtcclxuICAgIGZvciAodmFyIHMgPSAwLCBpID0gMCwgaWwgPSBhcmd1bWVudHMubGVuZ3RoOyBpIDwgaWw7IGkrKykgcyArPSBhcmd1bWVudHNbaV0ubGVuZ3RoO1xyXG4gICAgZm9yICh2YXIgciA9IEFycmF5KHMpLCBrID0gMCwgaSA9IDA7IGkgPCBpbDsgaSsrKVxyXG4gICAgICAgIGZvciAodmFyIGEgPSBhcmd1bWVudHNbaV0sIGogPSAwLCBqbCA9IGEubGVuZ3RoOyBqIDwgamw7IGorKywgaysrKVxyXG4gICAgICAgICAgICByW2tdID0gYVtqXTtcclxuICAgIHJldHVybiByO1xyXG59O1xyXG52YXIgRVJST1JfTElTVCA9IHJlcXVpcmUoJy4uL2VuZ2luZS9hcHBFcnJvckxpc3RNb2R1bGUnKS5FUlJPUl9MSVNUO1xyXG5mdW5jdGlvbiBkcmF3KGNvbnRleHQsIGVsZW1lbnQpIHtcclxuICAgIHZhciBwcm9wZXJ0eSA9IFtdO1xyXG4gICAgZm9yICh2YXIgX2kgPSAyOyBfaSA8IGFyZ3VtZW50cy5sZW5ndGg7IF9pKyspIHtcclxuICAgICAgICBwcm9wZXJ0eVtfaSAtIDJdID0gYXJndW1lbnRzW19pXTtcclxuICAgIH1cclxuICAgIGNvbnRleHRbZWxlbWVudF0uYXBwbHkoY29udGV4dCwgcHJvcGVydHkpO1xyXG59XHJcbmZ1bmN0aW9uIGNyZWF0ZUltYWdlKGN0eCwgcGljdHVyZU5hbWUpIHtcclxuICAgIHZhciBwcm9wcyA9IFtdO1xyXG4gICAgZm9yICh2YXIgX2kgPSAyOyBfaSA8IGFyZ3VtZW50cy5sZW5ndGg7IF9pKyspIHtcclxuICAgICAgICBwcm9wc1tfaSAtIDJdID0gYXJndW1lbnRzW19pXTtcclxuICAgIH1cclxuICAgIGRyYXcuYXBwbHkodm9pZCAwLCBfX3NwcmVhZEFycmF5cyhbY3R4LCAnZHJhd0ltYWdlJywgcGljdHVyZU5hbWVdLCBwcm9wcykpO1xyXG59XHJcbmZ1bmN0aW9uIGNsZWFyRmllbGQoY3R4LCB3aWR0aCwgaGVpZ2h0KSB7XHJcbiAgICBkcmF3KGN0eCwgJ2NsZWFyUmVjdCcsIDAsIDAsIHdpZHRoLCBoZWlnaHQpO1xyXG59XHJcbm1vZHVsZS5leHBvcnRzLnZpZXdNb2R1bGVzID0ge1xyXG4gICAgY2xlYXJGaWVsZDogY2xlYXJGaWVsZCxcclxuICAgIGRyYXc6IGRyYXcsXHJcbiAgICBjbGVhcjogY2xlYXJGaWVsZCxcclxuICAgIGNyZWF0ZUltYWdlOiBjcmVhdGVJbWFnZVxyXG59O1xyXG4iLCJtb2R1bGUuZXhwb3J0cy5FUlJPUl9MSVNUID0ge1xyXG4gICAgbm9EYXRhOiAnVGhlcmUgaXMgbm8gZGF0YScsXHJcbiAgICBub09iamVjdDogJ1RoZXJlIGlzIG5vIE9iamVjdCdcclxufTtcclxuIiwidmFyIHZpZXdNb2R1bGVzID0gcmVxdWlyZSgnLi4vdmlldy9kc2lwbGF5TW9kdWxlcycpLnZpZXdNb2R1bGVzO1xyXG52YXIgZ2FtZU1ldGhvZHMgPSByZXF1aXJlKCcuLi9lbmdpbmUvZW5naW5lTW9kdWxlcycpLmdhbWVNZXRob2RzO1xyXG52YXIgR2FtZUJhY2tncm91bmQgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XHJcbiAgICBmdW5jdGlvbiBHYW1lQmFja2dyb3VuZChiYWNrZ3JvdW5kVGV4dHVyZSwgYmFja2dyb3VuZFNwZWVkLCBzY3JlZW5EYXRhLCBjdHgsIHBhcnRPZlNjcmVlblN0YXR1cykge1xyXG4gICAgICAgIHRoaXMueCA9IDA7XHJcbiAgICAgICAgdGhpcy55ID0gMDtcclxuICAgICAgICB0aGlzLmJhY2tncm91bmRUZXh0dXJlID0gYmFja2dyb3VuZFRleHR1cmU7XHJcbiAgICAgICAgdGhpcy5iYWNrZ3JvdW5kU3BlZWQgPSBiYWNrZ3JvdW5kU3BlZWQ7XHJcbiAgICAgICAgdGhpcy5zY3JlZW5EYXRhID0gc2NyZWVuRGF0YTtcclxuICAgICAgICB0aGlzLmN0eCA9IGN0eDtcclxuICAgICAgICB0aGlzLnggPSAocGFydE9mU2NyZWVuU3RhdHVzKSA/IDAgOiBzY3JlZW5EYXRhLndpZHRoO1xyXG4gICAgICAgIHRoaXMueSA9IDA7XHJcbiAgICAgICAgdGhpcy5pbWcgPSBuZXcgSW1hZ2UoKTtcclxuICAgICAgICB0aGlzLmltZy5zcmMgPSBsb2NhdGlvbi5vcmlnaW4gKyAnL2ltYWdlcy9sb2NhdGlvbnMvJyArIHRoaXMuYmFja2dyb3VuZFRleHR1cmU7XHJcbiAgICB9XHJcbiAgICBHYW1lQmFja2dyb3VuZC5wcm90b3R5cGUudXBkYXRlTWFwID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHRoaXMuaW1nID0gdGhpcy5pbWcgfHwgbmV3IEltYWdlKCk7XHJcbiAgICAgICAgdmFyIGJhY2tncm91bmRPYmplY3QgPSB0aGlzO1xyXG4gICAgICAgIHRoaXMueCAtPSB0aGlzLmJhY2tncm91bmRTcGVlZDtcclxuICAgICAgICBpZiAodGhpcy54ICsgdGhpcy5zY3JlZW5EYXRhLndpZHRoIDwgMCkge1xyXG4gICAgICAgICAgICB0aGlzLnggPSB0aGlzLnNjcmVlbkRhdGEud2lkdGg7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuaW1nLm9ubG9hZCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgLy92aWV3TW9kdWxlcy5jbGVhckZpZWxkKGJhY2tncm91bmRPYmplY3QuY3R4LCBiYWNrZ3JvdW5kT2JqZWN0LnNjcmVlbkRhdGEud2lkdGgsIGJhY2tncm91bmRPYmplY3Quc2NyZWVuRGF0YS5oZWlnaHQpO1xyXG4gICAgICAgICAgICB2aWV3TW9kdWxlcy5jcmVhdGVJbWFnZShiYWNrZ3JvdW5kT2JqZWN0LmN0eCwgYmFja2dyb3VuZE9iamVjdC5pbWcsIGJhY2tncm91bmRPYmplY3QueCwgMCwgYmFja2dyb3VuZE9iamVjdC5zY3JlZW5EYXRhLndpZHRoICsgMiwgYmFja2dyb3VuZE9iamVjdC5zY3JlZW5EYXRhLmhlaWdodCk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICB0aGlzLmltZy5zcmMgPSB0aGlzLmltZy5zcmMgfHwgbG9jYXRpb24ub3JpZ2luICsgJy9pbWFnZXMvbG9jYXRpb25zLycgKyB0aGlzLmJhY2tncm91bmRUZXh0dXJlO1xyXG4gICAgfTtcclxuICAgIHJldHVybiBHYW1lQmFja2dyb3VuZDtcclxufSgpKTtcclxudmFyIEdhbWUgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XHJcbiAgICBmdW5jdGlvbiBHYW1lKGdhbWVJbml0RGF0YSwgc2VydmVyTG9jYXRpb24pIHtcclxuICAgICAgICB0aGlzLmdhbWVJbml0RGF0YSA9IGdhbWVJbml0RGF0YTtcclxuICAgICAgICB0aGlzLnNlcnZlckxvY2F0aW9uID0gc2VydmVyTG9jYXRpb247XHJcbiAgICAgICAgdGhpcy5nYW1lSW5pdERhdGEgPSBnYW1lSW5pdERhdGE7XHJcbiAgICAgICAgdGhpcy5zZXJ2ZXJMb2NhdGlvbiA9IHNlcnZlckxvY2F0aW9uO1xyXG4gICAgfVxyXG4gICAgR2FtZS5wcm90b3R5cGUuY2hhbmdlTGV2ZWwgPSBmdW5jdGlvbiAobmV4dExldmVsKSB7XHJcbiAgICAgICAgdGhpcy5nYW1lSW5pdERhdGEuZ2FtZURhdGEuY3VycmVudExldmVsID0gbmV4dExldmVsO1xyXG4gICAgfTtcclxuICAgIEdhbWUucHJvdG90eXBlLnNob3dHYW1lSW5mbyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICBjdXJyZW50TGV2ZWw6IHRoaXMuZ2FtZUluaXREYXRhLmdhbWVEYXRhLmN1cnJlbnRMZXZlbCxcclxuICAgICAgICAgICAgY3VycmVudFBvaW50OiB0aGlzLmdhbWVJbml0RGF0YS5nYW1lRGF0YS5jdXJyZW50UG9pbnQsXHJcbiAgICAgICAgfTtcclxuICAgIH07XHJcbiAgICBHYW1lLnByb3RvdHlwZS5zaG93TGV2ZWxEYXRhID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmdhbWVJbml0RGF0YS5sZXZlbERhdGE7XHJcbiAgICB9O1xyXG4gICAgR2FtZS5wcm90b3R5cGUuZ2V0U2VydmVyTGV2ZWxEYXRhID0gZnVuY3Rpb24gKCkge1xyXG4gICAgfTtcclxuICAgIHJldHVybiBHYW1lO1xyXG59KCkpO1xyXG5HYW1lLnByb3RvdHlwZS5pbml0RmllbGQgPSBnYW1lTWV0aG9kcy5pbml0RmllbGQ7XHJcbkdhbWUucHJvdG90eXBlLmxldmVsSW5pdCA9IGdhbWVNZXRob2RzLmxldmVsSW5pdDsgLy8gY3JlYXRlQ29udGV4dFxyXG5HYW1lLnByb3RvdHlwZS5jcmVhdGVDb250ZXh0ID0gZ2FtZU1ldGhvZHMuY3JlYXRlQ29udGV4dDtcclxubW9kdWxlLmV4cG9ydHMubGV2ZWxDb25zdHJ1Y3RvciA9IHtcclxuICAgIEdhbWU6IEdhbWUsXHJcbiAgICBHYW1lQmFja2dyb3VuZDogR2FtZUJhY2tncm91bmRcclxufTtcclxuIl0sInNvdXJjZVJvb3QiOiIifQ==