!function(e){var t={};function i(a){if(t[a])return t[a].exports;var n=t[a]={i:a,l:!1,exports:{}};return e[a].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=e,i.c=t,i.d=function(e,t,a){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(i.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)i.d(a,n,function(t){return e[t]}.bind(null,n));return a},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/public/dist",i(i.s=10)}([function(e,t,i){"use strict";var a=this&&this.__spreadArrays||function(){for(var e=0,t=0,i=arguments.length;t<i;t++)e+=arguments[t].length;var a=Array(e),n=0;for(t=0;t<i;t++)for(var r=arguments[t],o=0,s=r.length;o<s;o++,n++)a[n]=r[o];return a};Object.defineProperty(t,"__esModule",{value:!0});var n=i(19);t.createWindow=n.createWindow,t.createShapeRoundBorder=n.createShapeRoundBorder;var r=i(20);function o(e,t){for(var i=[],a=2;a<arguments.length;a++)i[a-2]=arguments[a];e[t].apply(e,i)}t.draw=o,t.createLaserBullet=function(e){if(!e.ctx)return new Error("no context");"player"==e.objectOwner&&1==e.type&&r.weapon1(e,o),"enemy"==e.objectOwner&&1==e.type&&r.weapon1(e,o)},t.createImage=function(e,t){for(var i=[],n=2;n<arguments.length;n++)i[n-2]=arguments[n];o.apply(void 0,a([e,"drawImage",t],i))},t.clearField=function(e,t,i){o(e,"clearRect",0,0,t,i)}},function(e,t,i){"use strict";var a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)Object.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var n=i(0),r=i(21),o=a(i(3));t.placeEnemyes=function(e){n.createImage(e.gameInitData.ctxActionField,this.img,this.sx,this.sy,this.sWidth,this.sHeight,this.x,this.y,this.width,this.height)},t.moveEnemyes=function(e,t){void 0===t&&(t=0),this.x-=this.enemySpeed,this.y-=t},t.loadEnemyes=function(){this.img=new Image,this.img.src=this.shipTexture},t.shoot=function(e,t){if(t.gameInitData.gamePause)return!1;if(t.gameRandomizer(Math.pow(this.rapidFire,2))<t.gameRandomizer(this.rapidFire))for(var i=this.guns,a=function(i){var a=new e(n.x,n.y+i.firePosition,i.name,i.color,"enemy",i.speed+n.enemySpeed,i.width,i.height,i.damage,i.type,i.texture,i.sx,i.sy,i.sWidth,i.sHeight,i.explosionAnimation);a.img.src=a.texture,a.img.onload=function(){t.gameInitData.allGameBullets=t.gameInitData.allGameBullets.concat(a)}},n=this,r=0,o=i;r<o.length;r++){a(o[r])}},t.enemyAnimation=function(e){void 0===e&&(e=!0),this.detectFrame+=1,this.detectFrame%this.animationSteps==0&&e&&(this.detectFrame=0,this.sx+=this.sWidth,this.sx>=this.picturesWidth&&(this.sx=0))},t.takeDamage=function(e,t,i){if(this.hasOwnProperty("bulletType")&&"enemy"==this.objectOwner&&"player"==t.objectOwner||this.hasOwnProperty("bulletType")&&"player"==this.objectOwner&&"enemy"==t.objectOwner)return r.explosionFire(this,i,t,o.SideObject),this.objectPresent=!1;if(this.hasOwnProperty("healthPoint")&&"enemy"==this.objectOwner&&"player"==t.objectOwner)a.call(this);else{if(!this.hasOwnProperty("healthPoint")||"player"!=this.objectOwner||"enemy"!=t.objectOwner)return!1;this.collisionAllow&&a.call(this,i.getLevelUserData())}function a(t){if(this.healthPoint-=e,this.healthPoint<=0)return t&&t.life>0?(t.sourse.playerObject.numberOflife-=1,t.sourse.playerObject.numberOflife<=0&&(alert("Game Over"),i.backToStartScreen(o.PlayerShip)),this.healthPoint=t.sourse.playerObject.maxHealth,!1):(i.collectPoints(this.pointsPerUnit),this.objectPresent=!1)}},t.hitDetection=function(e,t,i){for(var a=null,n=0,r=t;n<r.length;n++){var o=r[n],s=e.getObjectPosition.call(e),l=Math.max(s.x,o.x),c=Math.max(s.y,o.y),u=Math.min(s.x+(e.width||s.width),o.x+o.width)-l,h=Math.min(s.y+(e.height||s.height),o.y+o.height)-c;if("collision"==(a=!(Math.sign(u)<0||Math.sign(h)<0)&&"collision")){e.takeDamage&&o.takeDamage&&(e.takeDamage(o.damage?o.damage:0,o,i),o.takeDamage(e.damage?e.damage:0,e,i));break}}return"collision"==a&&e}},function(e,t,i){"use strict";var a=this&&this.__spreadArrays||function(){for(var e=0,t=0,i=arguments.length;t<i;t++)e+=arguments[t].length;var a=Array(e),n=0;for(t=0;t<i;t++)for(var r=arguments[t],o=0,s=r.length;o<s;o++,n++)a[n]=r[o];return a};Object.defineProperty(t,"__esModule",{value:!0});var n=i(0);t.initField=function(e,t){void 0===e&&(e=window.innerWidth),void 0===t&&(t=window.innerHeight);var i=[].concat(this.gameInitData.gameField,this.gameInitData.gameActionField,this.gameInitData.gameUIField);if(!i)throw Error("Error");for(var a=0,n=i;a<n.length;a++){var r=n[a];r=Object.assign(r,{width:e-4,height:t-4})}},t.setGameFields=function(){this.initField(),this.createContext(),this.initPlayerShip()},t.warpEffect=function(){var e=this.getScreenSize(),t=this.gameInitData.ctx,i=this.gameInitData.warpObjects;if(this.getSecondMeasure((function(e){var t=!(this.gameInitData.timeToEressLevel>=0);this.gameInitData.timeToEressLevel>=0&&!t&&(this.gameInitData.timeToEressLevel-=1);this.gameInitData.timeToEressLevel<0&&!t&&this.changeLevelProcedure()}),{timeToEressLevel:this.gameInitData.timeToEressLevel,ctx:t,screenSiz:this.getScreenSize()}),this.gameInitData.warpObjects=i.length<350?this.gameInitData.warpObjects.concat({x:e.width,y:this.gameRandomizer(e.height),height:this.gameRandomizer(20,10),width:10,speed:this.gameRandomizer(10,5),background:this.getRandomColor()}):this.gameInitData.warpObjects,i.length>0)for(var a=0,r=i;a<r.length;a++){var o=r[a];o.x-=o.x>0?o.speed:0,o.width=i.length<150?o.width-o.speed:i.length>150&&i.length<350?o.width+o.speed:o.width-o.speed,t.fillStyle=o.background,n.draw(t,"fillRect",o.x,o.y,o.width,o.height),t.fill()}},t.levelInit=function(e,t,i){var a=this.showLevelData(),n=(a.levelMap,a.levelBackgroundElements);i.gameInitData.backScreenPause=!1;for(var r=0,o=n;r<o.length;r++){var s=o[r],l=new e(s.levelMap,s.speed,this.gameInitData.screen,t,this.gameInitData.mapBackgroundObjects.length%2==0||null);i.gameInitData.mapBackgroundObjects=i.gameInitData.mapBackgroundObjects.concat(l),l.img.src=this.showGameInfo().imageDirrection+l.backgroundTexture}},t.createContext=function(){this.gameInitData.ctx=this.gameInitData.gameField.getContext("2d"),this.gameInitData.ctxActionField=this.gameInitData.gameActionField.getContext("2d"),this.gameInitData.ctxUIField=this.gameInitData.gameUIField.getContext("2d")},t.getScreenSize=function(){return{width:this.gameInitData.screen.width,height:this.gameInitData.screen.height}},t.changeLevelProcedure=function(){var e=this.showGameInfo();this.changeLevel(e.gameData.currentLevel+1)<=e.gameData.levelData.allLevels?this.nextLevelDataReload(e):alert("Win Game Screen ")},t.levelTimer=function(){var e=this.getLevelUserData();e.sourse.levelData.levelDetails,this.gameInitData.levelChange||this.getSecondMeasure((function(e){e.levelSeconds<=0&&(0==e.levelMinutes&&0==e.levelSeconds&&(e.levelSeconds=0,this.gameInitData.levelChange=!0),e.levelMinutes=e.levelMinutes>0?e.levelMinutes-1:0);e.levelSeconds=e.levelSeconds>0?e.levelSeconds-1:this.gameInitData.levelChange?0:59}),e.sourse.levelData.levelDetails)},t.getSecondMeasure=function(e){for(var t=[],i=1;i<arguments.length;i++)t[i-1]=arguments[i];this.gameInitData.gemeExtraSeconds+=1;var n=1e3/this.gameInitData.intervalCount;if(this.gameInitData.gemeExtraSeconds%n==0)return this.gameInitData.gemeExtraSeconds=0,e?e.call.apply(e,a([this],t)):n},t.getLevelUserData=function(){var e=this.gameInitData.gameData,t=e.levelData.levelDetails;return{sourse:e,currentLevel:e.currentLevel,allLevels:e.levelData.allLevels,points:e.currentPoint,life:e.playerObject.numberOflife,minutes:t.levelMinutes,seconds:t.levelSeconds}},t.deleteBullet=function(e){if(e.x>this.gameInitData.screen.width||e.x<-1*e.width||!e.objectPresent){var t=this.gameInitData.allGameBullets.indexOf(e);this.gameInitData.allGameBullets.splice(t,1)}},t.deleteObjects=function(e){if(e.x+e.sWidth<0||!e.objectPresent){var t=this.gameInitData.allGameEnemies.indexOf(e);this.gameInitData.allGameEnemies.splice(t,1)}},t.delateSideObject=function(e){if(!e.objectPresent){var t=this.gameInitData.allGameSideObjects.indexOf(e);this.gameInitData.allGameSideObjects.splice(t,1)}},t.collectPoints=function(e){this.gameInitData.gameData.currentPoint+=e},t.getObjectPosition=function(){return{x:this.x,y:this.y,width:this.width,height:this.height}},t.getRandomColor=function(){for(var e="#",t=0;t<6;t++)e+="0123456789ABCDEF"[Math.floor(16*Math.random())];return e}},function(e,t,i){"use strict";function a(e){for(var i in e)t.hasOwnProperty(i)||(t[i]=e[i])}Object.defineProperty(t,"__esModule",{value:!0}),a(i(17)),a(i(30)),a(i(8)),a(i(32)),a(i(33)),a(i(35))},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.init=function(e,t){e(t=t||this)},t.getUIObjectPosition=function(){return{x:this.propertyes.x,y:this.propertyes.y,width:this.propertyes.width,height:this.propertyes.height}}},function(e,t,i){"use strict";var a=this&&this.__awaiter||function(e,t,i,a){return new(i||(i=Promise))((function(n,r){function o(e){try{l(a.next(e))}catch(e){r(e)}}function s(e){try{l(a.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?n(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(o,s)}l((a=a.apply(e,t||[])).next())}))},n=this&&this.__generator||function(e,t){var i,a,n,r,o={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(r){return function(s){return function(r){if(i)throw new TypeError("Generator is already executing.");for(;o;)try{if(i=1,a&&(n=2&r[0]?a.return:r[0]?a.throw||((n=a.return)&&n.call(a),0):a.next)&&!(n=n.call(a,r[1])).done)return n;switch(a=0,n&&(r=[2&r[0],n.value]),r[0]){case 0:case 1:n=r;break;case 4:return o.label++,{value:r[1],done:!1};case 5:o.label++,a=r[1],r=[0];continue;case 7:r=o.ops.pop(),o.trys.pop();continue;default:if(!(n=(n=o.trys).length>0&&n[n.length-1])&&(6===r[0]||2===r[0])){o=0;continue}if(3===r[0]&&(!n||r[1]>n[0]&&r[1]<n[3])){o.label=r[1];break}if(6===r[0]&&o.label<n[1]){o.label=n[1],n=r;break}if(n&&o.label<n[2]){o.label=n[2],o.ops.push(r);break}n[2]&&o.ops.pop(),o.trys.pop();continue}r=t.call(e,o)}catch(e){r=[6,e],a=0}finally{i=n=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,s])}}};Object.defineProperty(t,"__esModule",{value:!0});var r=i(16);function o(e){return a(this,void 0,void 0,(function(){var t,i,a,o,s;return n(this,(function(n){switch(n.label){case 0:return t={host:"localhost"===document.location.hostname?"http://localhost:3000/":"",picturesDirection:location.origin+"/images/",levelData:{method:"GET",url:"api/level-data"},gameSetings:{method:"GET",url:"api/game-ettings"},userShip:{method:"GET",url:"api/user-ship"},enemylData:{method:"GET",url:"api/enemy-ship"}},[4,r.getData({url:t.host+t.levelData.url,method:t.levelData.method,data:null,headers:{maplevel:e.level}})];case 1:return i=n.sent(),[4,r.getData({url:t.host+t.gameSetings.url,method:t.gameSetings.method,data:null,headers:null})];case 2:return a=n.sent(),[4,r.getData({url:t.host+t.userShip.url,method:t.userShip.method,data:null,headers:{usership:e.shipConfiguration}})];case 3:return o=n.sent(),[4,r.getData({url:t.host+t.enemylData.url,method:t.enemylData.method,data:null,headers:{"ship-type-number":e.enemyType}})];case 4:return s=n.sent(),[2,{levelData:i,gameSetings:a,userData:o,enemyData:s}]}}))}))}function s(e){return a(this,void 0,void 0,(function(){var t,i,a,r,s,l,c,u,h;return n(this,(function(n){switch(n.label){case 0:return t=document.querySelector("#gamefield"),i=document.querySelector("#gameObjectsfield"),a=document.querySelector("#gameUifield"),1,1,[4,o({level:r=1,shipConfiguration:1,enemyType:1})];case 1:return s=n.sent(),l=s.levelData,c=s.gameSetings,u=s.userData,h=s.enemyData,[2,{data:{ctx:null,gameField:t||null,gameActionField:i||null,gameUIField:a||null,gameData:{currentLevel:r,currentPoint:0,playerObject:new e(u,0,300,5,100,100,u.size.width,u.size.height),levelData:l,gameSetings:c,enemyData:h,controllers:null},screen:{width:window.innerWidth,height:window.innerHeight},intervalCount:20,enemyType:null,allGameSideObjects:[],allGameEnemies:[],allGameBullets:[],allGameMapOBjects:[],mapBackgroundObjects:[],warpObjects:[],timeToEressLevel:6,levelChange:!1,gamePause:!1,gameUiPause:!1,backScreenPause:!0,gameStatus:!1,gemeExtraSeconds:0}}]}}))}))}t.serverRequest=o,t.gameDataInit=s,t.gameEngine=function(e){return a(this,void 0,void 0,(function(){return n(this,(function(e){return[2]}))}))},t.gameStart=function(){this.gameInitData.gameStatus=!0},t.backToStartScreen=function(e){return a(this,void 0,void 0,(function(){var t,i,a,r,o,l;return n(this,(function(n){switch(n.label){case 0:return[4,s(e)];case 1:for(t=n.sent(),i=0,a=Object.entries(t.data);i<a.length;i++)r=a[i],o=r[0],null!==(l=r[1])&&(this.gameInitData[o]=l);return this.gameInitData.gameStatus=!1,[2]}}))}))}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.uiImage=function(e){var t=e.propertyes;t.ctx.drawImage(t.background,0,0,t.sWidth,t.sHeight,t.x,t.y,t.width,t.height)},t.uiText=function(e){var t=e.propertyes;t.ctx.font=e.fontSize,t.ctx.fillStyle=t.borderColor,t.ctx.fillText(e.text,t.x+t.width,t.y+t.height)},t.uiRepeatImage=function(e){var t=e.propertyes,i=t.ctx.createPattern(t.background,"repeat-x");t.ctx.rect(t.x,t.y,t.width,t.height),t.ctx.fillStyle=i,t.ctx.fill()}},function(e,t,i){"use strict";var a=this&&this.__awaiter||function(e,t,i,a){return new(i||(i=Promise))((function(n,r){function o(e){try{l(a.next(e))}catch(e){r(e)}}function s(e){try{l(a.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?n(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(o,s)}l((a=a.apply(e,t||[])).next())}))},n=this&&this.__generator||function(e,t){var i,a,n,r,o={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(r){return function(s){return function(r){if(i)throw new TypeError("Generator is already executing.");for(;o;)try{if(i=1,a&&(n=2&r[0]?a.return:r[0]?a.throw||((n=a.return)&&n.call(a),0):a.next)&&!(n=n.call(a,r[1])).done)return n;switch(a=0,n&&(r=[2&r[0],n.value]),r[0]){case 0:case 1:n=r;break;case 4:return o.label++,{value:r[1],done:!1};case 5:o.label++,a=r[1],r=[0];continue;case 7:r=o.ops.pop(),o.trys.pop();continue;default:if(!(n=(n=o.trys).length>0&&n[n.length-1])&&(6===r[0]||2===r[0])){o=0;continue}if(3===r[0]&&(!n||r[1]>n[0]&&r[1]<n[3])){o.label=r[1];break}if(6===r[0]&&o.label<n[1]){o.label=n[1],n=r;break}if(n&&o.label<n[2]){o.label=n[2],o.ops.push(r);break}n[2]&&o.ops.pop(),o.trys.pop();continue}r=t.call(e,o)}catch(e){r=[6,e],a=0}finally{i=n=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,s])}}};Object.defineProperty(t,"__esModule",{value:!0});var r=i(5);t.nextLevelDataReload=function(e){return a(this,void 0,void 0,(function(){function t(e){for(var a=0,n=Object.entries(e);a<n.length;a++){var r=n[a],o=r[0],s=r[1];"object"!=typeof e[o]||null==s||e[o].length||t(e[o]),i.call(this,o,e)}}function i(e,t){for(var i=0,a=Object.entries(l);i<a.length;i++){var n=a[i],r=n[0],o=n[1];r==e&&null!=o&&(this.gameInitData[r]=o)}}var a,o,s,l;return n(this,(function(i){switch(i.label){case 0:return a=e.gameData.currentLevel,[4,r.serverRequest({level:a,shipConfiguration:1,enemyType:1})];case 1:return o=i.sent(),l={gameData:{currentLevel:a,currentPoint:(s=this).gameInitData.gameData.currentPoint,playerObject:s.gameInitData.gameData.playerObject,levelData:o.levelData,gameSetings:s.gameInitData.gameData.gameSetings,enemyData:o.enemyData,controllers:s.gameInitData.gameData.controllers},enemyType:null,allGameSideObjects:[],allGameEnemies:[],allGameBullets:[],allGameMapOBjects:[],mapBackgroundObjects:[],gamePause:!1,gameUiPause:!1,backScreenPause:!0,gemeExtraSeconds:0},setTimeout((function(){s.gameInitData.warpObjects=[],s.gameInitData.timeToEressLevel=6,s.gameInitData.levelChange=!1}),5e3),t.call(this,this.gameInitData),[2]}}))}))}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=i(1),n=i(2),r=function(e,t,i,a,n,r,o,s,l,c,u,h,d,m,g,p,f,y,v,b,x,w){this.id=(new Date).getTime(),this.x=e,this.y=t,this.sx=i,this.sy=a,this.sWidth=n,this.sHeight=r,this.picturesWidth=o,this.numberOfItems=s,this.width=l,this.height=c,this.shipTexture=location.origin+"/images/spaceShips/"+u,this.enemySpeed=h,this.status=d,this.name=m,this.bulletTypeNumber=g,this.rapidFire=p,this.pointsPerUnit=f,this.healthPoint=y,this.animationSteps=v,this.damage=b,this.guns=w,this.detectFrame=0,this.objectPresent=!0,this.objectOwner=x,this.guns=w};t.EnemyObject=r,r.prototype.placeEnemyes=a.placeEnemyes,r.prototype.moveEnemyes=a.moveEnemyes,r.prototype.loadEnemyes=a.loadEnemyes,r.prototype.shoot=a.shoot,r.prototype.enemyAnimation=a.enemyAnimation,r.prototype.getObjectPosition=n.getObjectPosition,r.prototype.takeDamage=a.takeDamage},function(e,t,i){"use strict";var a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)Object.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var n=a(i(3)),r=a(i(22));t.initPlayerShip=function(e){var t=this;if(this.ctx){var i=this.data.texture,a=e.showGameInfo().imageDirrection;this.img=new Image,this.img.onload=function(){return t.placePlayerShip&&t.placePlayerShip(),t.img},this.img.src=a+i}},t.movePlayerShip=function(){this.img&&this.ctx&&this.img&&r.createImage(this.ctx,this.img,this.x-this.width/2,this.y-this.height/2,this.width,this.height)},t.shipControl=function(e){var t=this,i=e.gameInitData.gameData.gameSetings.keyControls;document.addEventListener("keydown",(function(a){if(e.gameInitData.gamePause)return!1;i.down.some((function(e){return a.keyCode==e}))&&t.moveShip({xPos:0,yPos:t.data.speed}),i.left.some((function(e){return a.keyCode==e}))&&t.moveShip({xPos:-1*t.data.speed,yPos:0}),i.right.some((function(e){return a.keyCode==e}))&&t.moveShip({xPos:t.data.speed,yPos:0}),i.up.some((function(e){return a.keyCode==e}))&&t.moveShip({xPos:0,yPos:-1*t.data.speed})})),document.addEventListener("mousemove",(function(i){if(e.gameInitData.gamePause)return!1;if("CANVAS"===i.target.tagName&&!e.gameInitData.gamePause&&e.gameInitData.gameStatus){var a=i.clientX-i.target.offsetLeft,n=i.clientY-i.target.offsetTop;t.xFinal=a%t.data.speed==0?a:t.data.speed*Math.floor(a/t.data.speed),t.yFinal=n%t.data.speed==0?n:t.data.speed*Math.floor(n/t.data.speed)}})),document.addEventListener("click",(function(i){if(e.gameInitData.gamePause)return!1;for(var a=function(i){var a=new n.BulletConstruct(t.x,t.y+i.firePosition,i.name,i.color,"player",i.speed+t.xAdj,i.width,i.height,i.damage,i.type,i.texture,i.sx,i.sy,i.sWidth,i.sHeight,i.explosionAnimation);a.img.src=a.texture,a.img.onload=function(){e.gameInitData.allGameBullets=e.gameInitData.allGameBullets.concat(a)}},r=0,o=t.data.guns;r<o.length;r++){a(o[r])}}))},t.showInformation=function(){console.log(this)},t.setContext=function(e){this.ctx=e},t.placeShip=function(){var e=(this.xFinal-this.x)/this.data.speed,t=(this.yFinal-this.y)/this.data.speed;e=Math.sign(e)>0?e:-1*e,t=Math.sign(t)>0?t:-1*t,e=e>this.data.minSpeed?this.data.minSpeed:e,t=t>this.data.minSpeed?this.data.minSpeed:t,this.xAdj=this.x>this.xFinal?0:e,this.x=this.x>this.xFinal?this.x-e:this.x<this.xFinal?this.x+e:this.xFinal,this.y=this.y>this.yFinal?this.y-t:this.y<this.yFinal?this.y+t:this.yFinal},t.moveShip=function(e){var t=e.xPos,i=void 0===t?0:t,a=e.yPos,n=void 0===a?0:a;this.x+=i,this.y+=n}},function(e,t,i){"use strict";var a=this&&this.__awaiter||function(e,t,i,a){return new(i||(i=Promise))((function(n,r){function o(e){try{l(a.next(e))}catch(e){r(e)}}function s(e){try{l(a.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?n(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(o,s)}l((a=a.apply(e,t||[])).next())}))},n=this&&this.__generator||function(e,t){var i,a,n,r,o={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(r){return function(s){return function(r){if(i)throw new TypeError("Generator is already executing.");for(;o;)try{if(i=1,a&&(n=2&r[0]?a.return:r[0]?a.throw||((n=a.return)&&n.call(a),0):a.next)&&!(n=n.call(a,r[1])).done)return n;switch(a=0,n&&(r=[2&r[0],n.value]),r[0]){case 0:case 1:n=r;break;case 4:return o.label++,{value:r[1],done:!1};case 5:o.label++,a=r[1],r=[0];continue;case 7:r=o.ops.pop(),o.trys.pop();continue;default:if(!(n=(n=o.trys).length>0&&n[n.length-1])&&(6===r[0]||2===r[0])){o=0;continue}if(3===r[0]&&(!n||r[1]>n[0]&&r[1]<n[3])){o.label=r[1];break}if(6===r[0]&&o.label<n[1]){o.label=n[1],n=r;break}if(n&&o.label<n[2]){o.label=n[2],o.ops.push(r);break}n[2]&&o.ops.pop(),o.trys.pop();continue}r=t.call(e,o)}catch(e){r=[6,e],a=0}finally{i=n=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,s])}}},r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)Object.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0}),i(11);var o=r(i(15)),s=r(i(3)),l=i(0);!function(){a(this,void 0,void 0,(function(){function e(){return a(this,void 0,void 0,(function(){var e,t,a,o,c,u,h,d,m,g,p;return n(this,(function(n){if(i.gameInitData.ctxUIField&&l.clearField(i.gameInitData.ctxUIField,i.gameInitData.screen.width,i.gameInitData.screen.height),i.gameInitData.ctxActionField&&!i.gameInitData.gamePause&&l.clearField(i.gameInitData.ctxActionField,i.gameInitData.screen.width,i.gameInitData.screen.height),i.gameInitData.backScreenPause&&i.levelInit(s.GameBackground,i.gameInitData.ctx,i),!i.gameInitData.gamePause&&i.gameInitData.gameStatus)if(1==i.gameInitData.gameStatus){if(i.gameInitData.levelChange||i.spawnEnemyLogic(i),i.gameInitData.allGameBullets.length>0)for(e=0,t=i.gameInitData.allGameBullets;e<t.length;e++)(a=t[e]).moveBullets(),a.createBullets(i),i.deleteBullet(a),i.hitDetection(a,i.gameInitData.allGameEnemies,i),i.hitDetection(r,[a],i);if(i.gameInitData.allGameEnemies.length>0)for(o=0,c=i.gameInitData.allGameEnemies;o<c.length;o++)(u=c[o]).placeEnemyes(i),u.moveEnemyes(),u.enemyAnimation(!0),u.shoot(s.BulletConstruct,i),i.deleteObjects(u);if(i.gameInitData.allGameSideObjects.length>0)for(h=0,d=i.gameInitData.allGameSideObjects;h<d.length;h++)(m=d[h]).placeEnemyes(i),m.fireAnimationEnded(i.gameInitData.allGameSideObjects),i.delateSideObject(m);i.levelTimer(),r.placeShip(),r.movePlayerShip()}else i.gameInitData.gameStatus;if(!(i.gameInitData.backScreenPause&&i.gameInitData.gamePause&&i.gameInitData.gameStatus||i.gameInitData.gamePause&&i.gameInitData.gameStatus)){for(i.gameInitData.ctx&&l.clearField(i.gameInitData.ctx,i.gameInitData.screen.width,i.gameInitData.screen.height),g=0,p=i.gameInitData.mapBackgroundObjects;g<p.length;g++)p[g].updateMap();i.gameInitData.levelChange&&i.warpEffect(i)}return i.gameInitData.gameStatus||i.showStartWindow(),i.gameInitData.gameStatus&&i.showGameStats(),i.gameInitData.gamePause&&i.showPauseWindow(),i.gameInitData.gameUiPause&&(i.showMenuWindow(),i.showPauseWindow()),[2]}))}))}var t,i,r,c;return n(this,(function(a){switch(a.label){case 0:return[4,o.gameDataInit(s.PlayerShip)];case 1:return t=a.sent(),[4,new s.Game(t.data)];case 2:return i=a.sent(),r=i.gameInitData.gameData.playerObject,setInterval(e,i.gameInitData.intervalCount),i.uiController(),i.setGameFields(),i.getScreenSize(),c=i.returnContext(),r.ctx=c.gameActionField,r.initPlayerShip(i),r.shipControl(i),[2]}}))}))}()},function(e,t,i){var a=i(12),n=i(13);"string"==typeof(n=n.__esModule?n.default:n)&&(n=[[e.i,n,""]]);var r={insert:"head",singleton:!1},o=(a(n,r),n.locals?n.locals:{});e.exports=o},function(e,t,i){"use strict";var a,n=function(){return void 0===a&&(a=Boolean(window&&document&&document.all&&!window.atob)),a},r=function(){var e={};return function(t){if(void 0===e[t]){var i=document.querySelector(t);if(window.HTMLIFrameElement&&i instanceof window.HTMLIFrameElement)try{i=i.contentDocument.head}catch(e){i=null}e[t]=i}return e[t]}}(),o=[];function s(e){for(var t=-1,i=0;i<o.length;i++)if(o[i].identifier===e){t=i;break}return t}function l(e,t){for(var i={},a=[],n=0;n<e.length;n++){var r=e[n],l=t.base?r[0]+t.base:r[0],c=i[l]||0,u="".concat(l," ").concat(c);i[l]=c+1;var h=s(u),d={css:r[1],media:r[2],sourceMap:r[3]};-1!==h?(o[h].references++,o[h].updater(d)):o.push({identifier:u,updater:f(d,t),references:1}),a.push(u)}return a}function c(e){var t=document.createElement("style"),a=e.attributes||{};if(void 0===a.nonce){var n=i.nc;n&&(a.nonce=n)}if(Object.keys(a).forEach((function(e){t.setAttribute(e,a[e])})),"function"==typeof e.insert)e.insert(t);else{var o=r(e.insert||"head");if(!o)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");o.appendChild(t)}return t}var u,h=(u=[],function(e,t){return u[e]=t,u.filter(Boolean).join("\n")});function d(e,t,i,a){var n=i?"":a.media?"@media ".concat(a.media," {").concat(a.css,"}"):a.css;if(e.styleSheet)e.styleSheet.cssText=h(t,n);else{var r=document.createTextNode(n),o=e.childNodes;o[t]&&e.removeChild(o[t]),o.length?e.insertBefore(r,o[t]):e.appendChild(r)}}function m(e,t,i){var a=i.css,n=i.media,r=i.sourceMap;if(n?e.setAttribute("media",n):e.removeAttribute("media"),r&&btoa&&(a+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(r))))," */")),e.styleSheet)e.styleSheet.cssText=a;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(a))}}var g=null,p=0;function f(e,t){var i,a,n;if(t.singleton){var r=p++;i=g||(g=c(t)),a=d.bind(null,i,r,!1),n=d.bind(null,i,r,!0)}else i=c(t),a=m.bind(null,i,t),n=function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(i)};return a(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;a(e=t)}else n()}}e.exports=function(e,t){(t=t||{}).singleton||"boolean"==typeof t.singleton||(t.singleton=n());var i=l(e=e||[],t);return function(e){if(e=e||[],"[object Array]"===Object.prototype.toString.call(e)){for(var a=0;a<i.length;a++){var n=s(i[a]);o[n].references--}for(var r=l(e,t),c=0;c<i.length;c++){var u=s(i[c]);0===o[u].references&&(o[u].updater(),o.splice(u,1))}i=r}}}},function(e,t,i){(t=i(14)(!1)).push([e.i,"body{font-family:'Roboto';color:orange;background:#333;margin:0;padding:0}canvas{cursor:crosshair}.gameBackground{background:#000}.game-fields{position:absolute}.game-field-wrapper{display:flex;justify-content:center;height:100vh;align-items:center}\n",""]),e.exports=t},function(e,t,i){"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var i=function(e,t){var i=e[1]||"",a=e[3];if(!a)return i;if(t&&"function"==typeof btoa){var n=(o=a,s=btoa(unescape(encodeURIComponent(JSON.stringify(o)))),l="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(s),"/*# ".concat(l," */")),r=a.sources.map((function(e){return"/*# sourceURL=".concat(a.sourceRoot||"").concat(e," */")}));return[i].concat(r).concat([n]).join("\n")}var o,s,l;return[i].join("\n")}(t,e);return t[2]?"@media ".concat(t[2]," {").concat(i,"}"):i})).join("")},t.i=function(e,i,a){"string"==typeof e&&(e=[[null,e,""]]);var n={};if(a)for(var r=0;r<this.length;r++){var o=this[r][0];null!=o&&(n[o]=!0)}for(var s=0;s<e.length;s++){var l=[].concat(e[s]);a&&n[l[0]]||(i&&(l[2]?l[2]="".concat(i," and ").concat(l[2]):l[2]=i),t.push(l))}},t}},function(e,t,i){"use strict";function a(e){for(var i in e)t.hasOwnProperty(i)||(t[i]=e[i])}Object.defineProperty(t,"__esModule",{value:!0}),a(i(5)),a(i(7))},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getData=function(e){var t=e.url,i=e.method,a=e.data,n=e.headers,r=Object.assign({"Content-Type":"application/json"},n||!1);return fetch(t,{method:i,mode:"cors",headers:r,body:a?JSON.stringify(a):null}).then((function(e){return e.json()})).then((function(e){return e}))}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=i(18),n=i(1),r=i(7),o=i(2),s=i(9),l=i(25),c=i(5),u=function(){function e(e){this.gameInitData=e}return e.prototype.changeLevel=function(e){return this.gameInitData.gameData.currentLevel=e,this.gameInitData.gameData.currentLevel},e.prototype.showGameInfo=function(){return{levelToChange:this.gameInitData.gameData.currentLevel,currentPoint:this.gameInitData.gameData.currentPoint,gameData:this.gameInitData.gameData,imageDirrection:location.origin+"/images/"}},e.prototype.showLevelData=function(){return this.gameInitData.gameData.levelData},e.prototype.getServerLevelData=function(){},e.prototype.returnContext=function(){return this.gameInitData.gameField&&this.gameInitData.gameActionField&&this.gameInitData.gameUIField?{gameField:this.gameInitData.gameField,gameActionField:this.gameInitData.ctxActionField,gameUIField:this.gameInitData.gameUIField}:null},e}();t.Game=u,u.prototype.createContext=o.createContext,u.prototype.initField=o.initField,u.prototype.levelInit=o.levelInit,u.prototype.setGameFields=o.setGameFields,u.prototype.warpEffect=o.warpEffect,u.prototype.getScreenSize=o.getScreenSize,u.prototype.getLevelUserData=o.getLevelUserData,u.prototype.levelTimer=o.levelTimer,u.prototype.getSecondMeasure=o.getSecondMeasure,u.prototype.initPlayerShip=s.initPlayerShip,u.prototype.deleteBullet=o.deleteBullet,u.prototype.deleteObjects=o.deleteObjects,u.prototype.delateSideObject=o.delateSideObject,u.prototype.hitDetection=n.hitDetection,u.prototype.collectPoints=o.collectPoints,u.prototype.spawnEnemyLogic=a.spawnEnemyLogic,u.prototype.createNewEnemy=a.createNewEnemy,u.prototype.gameRandomizer=a.gameRandomizer,u.prototype.uiController=l.uiController,u.prototype.gameUiPause=l.gameUiPause,u.prototype.gameUiMenu=l.gameUiMenu,u.prototype.showMenuWindow=l.showMenuWindow,u.prototype.showUiPopupWindow=l.showUiPopupWindow,u.prototype.showStartWindow=l.showStartWindow,u.prototype.showPauseWindow=l.showPauseWindow,u.prototype.showGameStats=l.showGameStats,u.prototype.initUiElements=l.initUiElements,u.prototype.gameStart=c.gameStart,u.prototype.backToStartScreen=c.backToStartScreen,u.prototype.nextLevelDataReload=r.nextLevelDataReload,u.prototype.changeLevelProcedure=o.changeLevelProcedure,u.prototype.getRandomColor=o.getRandomColor},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=i(8);t.dartShipLogic=function(){},t.spawnEnemyLogic=function(e){var t=this.gameInitData.gameData,i=t.levelData,a=t.enemyData;if(!this.gameInitData.gameData.levelChange&&this.gameRandomizer(i.enemyProbability)<=i.enemyRandomizerIndex)for(var n=this.gameRandomizer(i.enemyMaxNumber);n<i.enemyMaxNumber;n++){var r=a[this.gameRandomizer(a.length)],o=this.createNewEnemy(r);o.loadEnemyes(),this.gameInitData.allGameEnemies=this.gameInitData.allGameEnemies.concat(o)}},t.createNewEnemy=function(e){var t=this.gameInitData.screen.width+300,i=this.gameRandomizer(this.gameInitData.screen.height-200,100),n=e.details;return new a.EnemyObject(t,i,n.sx,n.sy,n.imageWidth/n.numberOfItems,n.imageHeight,n.imageWidth,n.numberOfItems,n.width,n.height,n.skinName,n.speed,n.status,n.name,n.bulletType,n.rapidFire,n.pointsPerUnit,n.healthPoint,n.animationSteps,n.damage,n.objectOwner,n.guns)},t.gameRandomizer=function(e,t){return void 0===t&&(t=0),Math.floor(Math.random()*e+t)}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createWindow=function(e,t){var i=this.getScreenSize();i.width,i.height,e.fillRect(t.x,t.y,t.width,t.height)},t.createShapeRoundBorder=function(e){var t=e.propertyes;t.ctx.fillStyle=t.background,t.ctx.beginPath(),t.ctx.moveTo(t.x+t.radius,t.y),t.ctx.lineTo(t.x+t.width-t.radius,t.y),t.ctx.quadraticCurveTo(t.x+t.width,t.y,t.x+t.width,t.y+t.radius),t.ctx.lineTo(t.x+t.width,t.y+t.height-t.radius),t.ctx.quadraticCurveTo(t.x+t.width,t.y+t.height,t.x+t.width-t.radius,t.y+t.height),t.ctx.lineTo(t.x+t.radius,t.y+t.height),t.ctx.quadraticCurveTo(t.x,t.y+t.height,t.x,t.y+t.height-t.radius),t.ctx.lineTo(t.x,t.y+t.radius),t.ctx.quadraticCurveTo(t.x,t.y,t.x+t.radius,t.y),t.ctx.closePath(),t.ctx.fill()}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.weapon1=function(e,t){t(e.ctx,"drawImage",e.img,e.sx,e.sy,e.sWidth,e.sHeight,e.x,e.y,e.width+10,e.height+10)},t.weapon1backward=function(e,t){t(e.ctx,"drawImage",e.img,0,0,e.width,e.height,e.x,e.y,e.width+10,e.height+10)}},function(e,t,i){"use strict";var a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,i=1,a=arguments.length;i<a;i++)for(var n in t=arguments[i])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.explosionFire=function(e,t,i,n){console.log(e,t,i,n);var r={x:e.x-30,y:e.y-30,sx:0,sy:0,sWidth:e.explosion.imageWidth/e.explosion.numberOfItems,sHeight:e.explosion.imageHeight,width:70,height:70,animationSteps:e.explosion.animationSteps,target:i.objectOwner,numberOfItems:e.explosion.imageWidth/e.explosion.numberOfItems,texture:e.explosion.texture,speed:"boos"!=i.objectOwner?i.enemySpeed/2:0,picturesWidth:e.explosion.imageWidth},o=new n(a({},r));o.img.src=o.texture,o.img.onload=function(){t.gameInitData.allGameSideObjects=t.gameInitData.allGameSideObjects.concat(o),console.log(t.gameInitData.allGameSideObjects)}},t.fireAnimationEnded=function(e){this.detectFrame+=1,this.detectFrame%this.animationSteps==0&&(this.detectFrame=0,this.sx+=this.sWidth,this.x-=this.speed,this.sx>=this.picturesWidth&&(this.objectPresent=!1,this.sx=0)),this.sx>=this.picturesWidth&&(this.animationState=!1)}},function(e,t,i){"use strict";function a(e){for(var i in e)t.hasOwnProperty(i)||(t[i]=e[i])}Object.defineProperty(t,"__esModule",{value:!0}),a(i(0)),a(i(6)),a(i(23))},function(e,t,i){"use strict";function a(e){for(var i in e)t.hasOwnProperty(i)||(t[i]=e[i])}Object.defineProperty(t,"__esModule",{value:!0}),a(i(6)),a(i(24))},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.warpElement=function(){var e=null.createLinearGradient(0,0,170,0);e.addColorStop("0","magenta"),e.addColorStop("0.5","blue"),e.addColorStop("1.0","red")}},function(e,t,i){"use strict";var a=this&&this.__spreadArrays||function(){for(var e=0,t=0,i=arguments.length;t<i;t++)e+=arguments[t].length;var a=Array(e),n=0;for(t=0;t<i;t++)for(var r=arguments[t],o=0,s=r.length;o<s;o++,n++)a[n]=r[o];return a};Object.defineProperty(t,"__esModule",{value:!0});var n=i(0),r=i(26),o=i(27),s=i(28),l=i(29),c=i(6),u=i(1);t.gameUiPause=function(){!this.gameInitData.gameUiPause&&this.gameInitData.gameStatus&&(this.gameInitData.gamePause=!this.gameInitData.gamePause)},t.gameUiMenu=function(e){this.gameInitData.gameUiPause=!this.gameInitData.gameUiPause,this.gameInitData.gamePause=!e},t.uiController=function(){var e=this,t=this.gameInitData.gameData.gameSetings.keyControls,i=this;document.addEventListener("keydown",(function(a){t.escape.some((function(e){return a.keyCode==e}))&&i.gameUiMenu(e.gameInitData.gameUiPause),t.pause.some((function(e){return a.keyCode==e}))&&i.gameUiPause()})),document.addEventListener("click",(function(t){if("CANVAS"===t.target.tagName){var i=t.clientX-t.target.offsetLeft,a=t.clientY-t.target.offsetTop,n=null,s=e.gameInitData.ctxUIField,l=e.getScreenSize();for(var c in 0==e.gameInitData.gameStatus&&(n=r.gameLoadMenu(null,s,l.width,l.height,null)),e.gameInitData.gameUiPause&&(n=o.gameSettingsMenu(null,s,l.width,l.height)),n){if(u.hitDetection(n[c],[].concat({x:i,y:a,width:10,height:10,name:"cursor"}),e)&&n[c].action){n[c].action.call(e);break}}}}))},t.showUiPopupWindow=function(){n.createWindow.call(this)},t.showStartWindow=function(){var e=[n.createShapeRoundBorder,c.uiImage,c.uiText,c.uiText,c.uiText];this.initUiElements(e,r.gameLoadMenu)},t.showMenuWindow=function(){var e=[n.createShapeRoundBorder,n.createShapeRoundBorder,c.uiText,c.uiText];this.initUiElements(e,o.gameSettingsMenu)},t.showPauseWindow=function(){var e=[c.uiText];this.initUiElements(e,s.gamePause)},t.showGameStats=function(){var e=this.getLevelUserData(),t=[c.uiImage,c.uiText,c.uiText,c.uiText];this.initUiElements(t,l.gameInformationScreen,e)},t.initUiElements=function(e,t){for(var i=[],n=2;n<arguments.length;n++)i[n-2]=arguments[n];for(var r=this.gameInitData.ctxUIField,o=this.getScreenSize(),s=this.showGameInfo().imageDirrection,l=t.apply(void 0,a([null,r,o.width,o.height,s],i)),c=0;c<l.length;c++)l[c].hasOwnProperty("loadPicture")&&l[c].loadPicture(),l[c].init(e[c])}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=i(4);t.gameLoadMenu=function(e,t,i,n,r){return e||[{name:"Start button",text:"Press Start to begin",description:"Main start game button in the main load screen",fontSize:"30px Arial",clicked:!1,propertyes:{ctx:t,width:400,height:90,x:i/2-200,y:n/2+50,background:"rgba(255, 255, 255, 1)",borderColor:"rgba(255, 255, 255, 1)",radius:45},action:function(){this.gameStart()},init:a.init,getObjectPosition:a.getUIObjectPosition},{name:"Logotype",text:"",description:"Game logotype",clicked:!1,propertyes:{ctx:t,width:100,height:140,sWidth:503,sHeight:669,x:i/2-80,y:50,background:new Image,borderColor:!1,radius:null},loadPicture:function(){this.propertyes.background.src=r+"misc/logo-half-white_1.png"},init:a.init,getObjectPosition:a.getUIObjectPosition},{name:"Game name",text:"Space",description:"Game part the name",clicked:!1,fontSize:"bold 100px Roboto",propertyes:{ctx:t,width:-290,height:0,x:i/2,y:300,background:!1,borderColor:"rgba(255, 255, 255, 1)",radius:null},init:a.init,getObjectPosition:a.getUIObjectPosition},{name:"Game name",text:"Attack",description:"Game part the name",clicked:!1,fontSize:"lighter 100px Roboto",propertyes:{ctx:t,width:0,height:0,x:i/2,y:300,background:!1,borderColor:"rgba(255, 255, 255, 1)",radius:null},init:a.init,getObjectPosition:a.getUIObjectPosition},{name:"Start button",text:"Press Start to begin",description:"Text in main button",fontSize:"30px Roboto",clicked:!1,propertyes:{ctx:t,width:-130,height:105,x:i/2,y:n/2,background:!1,borderColor:"#007BD1",radius:null},init:a.init,getObjectPosition:a.getUIObjectPosition}]}},function(e,t,i){"use strict";var a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)Object.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var n=i(4),r=a(i(3));t.gameSettingsMenu=function(e,t,i,a){return e||[{name:"menu background",text:"",description:"back part of menu ",fontSize:"30px Arial",clicked:!1,propertyes:{ctx:t,width:i,height:a/2,x:0,y:a/4,background:"rgba(38, 38, 86, 1)",borderColor:"rgba(255, 255, 255, 1)",radius:5},init:n.init,getObjectPosition:n.getUIObjectPosition},{name:"Button end game",text:"",description:"back to start screen",fontSize:"30px Arial",clicked:!1,propertyes:{ctx:t,width:200,height:50,x:i/2-150,y:a/2+50,background:"rgba(255, 255, 255, 1)",borderColor:"rgba(255, 255, 255, 1)",radius:15},action:function(){this.backToStartScreen.call(this,r.PlayerShip)},init:n.init,getObjectPosition:n.getUIObjectPosition},{name:"textin button",text:"go to start",description:"Text in the menu button",fontSize:"25px Roboto",clicked:!1,propertyes:{ctx:t,width:45,height:0,x:i/2-150,y:a/2+80,background:!1,borderColor:"#007BD1",radius:null},init:n.init,getObjectPosition:n.getUIObjectPosition},{name:"Main game menu name",text:"Menu",description:"Text in main top",fontSize:"25px Roboto",clicked:!1,propertyes:{ctx:t,width:-45,height:0,x:i/2,y:a/3,background:!1,borderColor:"rgba(255, 255, 255, 1)",radius:null},init:n.init,getObjectPosition:n.getUIObjectPosition}]}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=i(4);t.gamePause=function(e,t,i,n,r){return e||[{name:"Pause text",text:"Pause",description:"part of pause window",fontSize:"60px Arial",clicked:!1,propertyes:{ctx:t,width:400,height:90,x:i/2-150,y:n/2+50,background:"rgba(255, 255, 255, 1)",borderColor:"rgba(255, 255, 255, 1)",radius:45},init:a.init,getObjectPosition:a.getUIObjectPosition}]}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=i(4);t.gameInformationScreen=function(e,t,i,n,r,o){return[{name:"lifePoint",text:"",number:o.life,step:[o.life].map((function(e){return 50*e})),description:"Game logotype",clicked:!1,propertyes:{ctx:t,width:70,height:70,sWidth:500,sHeight:500,x:10,y:20,background:new Image,borderColor:!1,radius:null},loadPicture:function(){this.propertyes.background.src=r+"misc/ruby.png"},init:function(e,t){t=t||this;for(var i=Array(o.life).fill(0).map((function(e,t){return 30*t})),a=0;a<this.number;a++)this.propertyes.x=0==a?30:0+i[a]+(0!=a?30:0),e(t)},getObjectPosition:a.getUIObjectPosition},{name:"level",text:"Current Level "+o.currentLevel+"/"+o.allLevels+" ",description:"Game part the name",clicked:!1,fontSize:"bold 16px Roboto",propertyes:{ctx:t,width:0,height:0,x:30,y:70,background:!1,borderColor:"rgba(255, 255, 255, 1)",radius:null},init:a.init,getObjectPosition:a.getUIObjectPosition},{name:"Time to end f level",text:"Time to end "+(o.minutes-10>=0?"":0)+o.minutes+":"+(o.seconds-10>=0?"":0)+o.seconds,description:"Game part the name",clicked:!1,fontSize:"lighter 16px Roboto",propertyes:{ctx:t,width:50,height:0,x:i-300,y:30,background:!1,borderColor:"rgba(255, 255, 255, 1)",radius:null},init:a.init,getObjectPosition:a.getUIObjectPosition},{name:"Game points",text:o.points,description:"Game part the name",clicked:!1,fontSize:"lighter 18px Roboto",propertyes:{ctx:t,width:-50,height:0,x:i/2,y:50,background:!1,borderColor:"rgba(255, 255, 255, 1)",radius:null},init:a.init,getObjectPosition:a.getUIObjectPosition}]}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=i(2),n=i(31),r=function(e,t,i,a,n,r){this.x=0,this.y=0,this.backgroundTexture=e,this.backgroundSpeed=t,this.screenData=i,this.ctx=a,this.x=n?0:i.width,this.y=0,this.img=new Image,this.timeToEressLevel=4,this.warpObjects=[]};t.GameBackground=r,r.prototype.updateMap=n.updateMap,r.prototype.warpEffect=a.warpEffect},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=i(0);t.updateMap=function(){this.x-=this.backgroundSpeed,this.x+this.screenData.width<0&&(this.x=this.screenData.width),a.createImage(this.ctx,this.img,this.x,0,this.screenData.width+2,this.screenData.height)}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=i(9),n=i(2),r=i(1),o=function(e,t,i,a,n,r,o,s){void 0===n&&(n=100),void 0===r&&(r=100),this.data=e,this.points=t,this.numberOflife=a,this.healthPoint=i+e.armor,this.maxHealth=i+e.armor,this.x=n,this.y=r,this.xFinal=n,this.yFinal=r,this.collisionAllow=!0,this.objectOwner="player",this.width=o,this.height=s,this.xAdj=0};t.PlayerShip=o,o.prototype.initPlayerShip=a.initPlayerShip,o.prototype.movePlayerShip=a.movePlayerShip,o.prototype.shipControl=a.shipControl,o.prototype.moveShip=a.moveShip,o.prototype.placeShip=a.placeShip,o.prototype.setContext=a.setContext,o.prototype.getObjectPosition=n.getObjectPosition,o.prototype.takeDamage=r.takeDamage},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=i(34),n=i(2),r=i(1),o=function(e,t,i,a,n,r,o,s,l,c,u,h,d,m,g,p){this.x=e,this.y=t,this.bulletType=i,this.bulletTexture=a,this.objectOwner=n,this.bulletSpeed=r,this.width=o,this.height=s,this.damage=l,this.id=(new Date).getTime(),this.objectPresent=!0,this.type=c,this.img=new Image,this.texture=location.origin+"/images/"+u,this.sx=h,this.sy=d,this.sWidth=m,this.sHeight=g,this.explosion=p};t.BulletConstruct=o,o.prototype.createBullets=a.createBullets,o.prototype.initBullets=a.initBullets,o.prototype.moveBullets=a.moveBullets,o.prototype.getObjectPosition=n.getObjectPosition,o.prototype.takeDamage=r.takeDamage},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=i(0);t.createBullets=function(e){a.createLaserBullet({source:this,objectOwner:this.objectOwner,ctx:e.gameInitData.ctxActionField,x:this.x,y:this.y,color:this.bulletTexture,width:this.width,height:this.height,radius:5,type:this.type,img:this.img,sx:this.sx,sy:this.sy,sWidth:this.sWidth,sHeight:this.sHeight})},t.initBullets=function(){},t.moveBullets=function(){"player"==this.objectOwner?this.x+=this.bulletSpeed:this.x-=this.bulletSpeed}},function(e,t,i){"use strict";var a=this&&this.__rest||function(e,t){var i={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(i[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var n=0;for(a=Object.getOwnPropertySymbols(e);n<a.length;n++)t.indexOf(a[n])<0&&Object.prototype.propertyIsEnumerable.call(e,a[n])&&(i[a[n]]=e[a[n]])}return i},n=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)Object.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var r=n(i(36)),o=i(21),s=function(e){var t=a(e,[]);this.x=t.x,this.y=t.y,this.sx=t.sx,this.sy=t.sy,this.sWidth=t.sWidth,this.sHeight=t.sHeight,this.width=t.width,this.height=t.height,this.img=new Image,this.texture=location.origin+"/images/"+t.texture,this.animationSteps=t.animationSteps,this.numberOfItems=t.numberOfItems,this.target=t.target,this.animationState=!0,this.detectFrame=0,this.objectPresent=!0,this.speed=t.speed,this.picturesWidth=t.picturesWidth};t.SideObject=s,s.prototype.enemyAnimation=r.enemyAnimation,s.prototype.placeEnemyes=r.placeEnemyes,s.prototype.fireAnimationEnded=o.fireAnimationEnded},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var i in e)t.hasOwnProperty(i)||(t[i]=e[i])}(i(1))}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibWFpbi5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy9tYWluLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIiFmdW5jdGlvbihlKXt2YXIgdD17fTtmdW5jdGlvbiBpKGEpe2lmKHRbYV0pcmV0dXJuIHRbYV0uZXhwb3J0czt2YXIgbj10W2FdPXtpOmEsbDohMSxleHBvcnRzOnt9fTtyZXR1cm4gZVthXS5jYWxsKG4uZXhwb3J0cyxuLG4uZXhwb3J0cyxpKSxuLmw9ITAsbi5leHBvcnRzfWkubT1lLGkuYz10LGkuZD1mdW5jdGlvbihlLHQsYSl7aS5vKGUsdCl8fE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLHQse2VudW1lcmFibGU6ITAsZ2V0OmF9KX0saS5yPWZ1bmN0aW9uKGUpe1widW5kZWZpbmVkXCIhPXR5cGVvZiBTeW1ib2wmJlN5bWJvbC50b1N0cmluZ1RhZyYmT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsU3ltYm9sLnRvU3RyaW5nVGFnLHt2YWx1ZTpcIk1vZHVsZVwifSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSl9LGkudD1mdW5jdGlvbihlLHQpe2lmKDEmdCYmKGU9aShlKSksOCZ0KXJldHVybiBlO2lmKDQmdCYmXCJvYmplY3RcIj09dHlwZW9mIGUmJmUmJmUuX19lc01vZHVsZSlyZXR1cm4gZTt2YXIgYT1PYmplY3QuY3JlYXRlKG51bGwpO2lmKGkucihhKSxPYmplY3QuZGVmaW5lUHJvcGVydHkoYSxcImRlZmF1bHRcIix7ZW51bWVyYWJsZTohMCx2YWx1ZTplfSksMiZ0JiZcInN0cmluZ1wiIT10eXBlb2YgZSlmb3IodmFyIG4gaW4gZSlpLmQoYSxuLGZ1bmN0aW9uKHQpe3JldHVybiBlW3RdfS5iaW5kKG51bGwsbikpO3JldHVybiBhfSxpLm49ZnVuY3Rpb24oZSl7dmFyIHQ9ZSYmZS5fX2VzTW9kdWxlP2Z1bmN0aW9uKCl7cmV0dXJuIGUuZGVmYXVsdH06ZnVuY3Rpb24oKXtyZXR1cm4gZX07cmV0dXJuIGkuZCh0LFwiYVwiLHQpLHR9LGkubz1mdW5jdGlvbihlLHQpe3JldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZSx0KX0saS5wPVwiL3B1YmxpYy9kaXN0XCIsaShpLnM9MTApfShbZnVuY3Rpb24oZSx0LGkpe1widXNlIHN0cmljdFwiO3ZhciBhPXRoaXMmJnRoaXMuX19zcHJlYWRBcnJheXN8fGZ1bmN0aW9uKCl7Zm9yKHZhciBlPTAsdD0wLGk9YXJndW1lbnRzLmxlbmd0aDt0PGk7dCsrKWUrPWFyZ3VtZW50c1t0XS5sZW5ndGg7dmFyIGE9QXJyYXkoZSksbj0wO2Zvcih0PTA7dDxpO3QrKylmb3IodmFyIHI9YXJndW1lbnRzW3RdLG89MCxzPXIubGVuZ3RoO288cztvKyssbisrKWFbbl09cltvXTtyZXR1cm4gYX07T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIG49aSgxOSk7dC5jcmVhdGVXaW5kb3c9bi5jcmVhdGVXaW5kb3csdC5jcmVhdGVTaGFwZVJvdW5kQm9yZGVyPW4uY3JlYXRlU2hhcGVSb3VuZEJvcmRlcjt2YXIgcj1pKDIwKTtmdW5jdGlvbiBvKGUsdCl7Zm9yKHZhciBpPVtdLGE9MjthPGFyZ3VtZW50cy5sZW5ndGg7YSsrKWlbYS0yXT1hcmd1bWVudHNbYV07ZVt0XS5hcHBseShlLGkpfXQuZHJhdz1vLHQuY3JlYXRlTGFzZXJCdWxsZXQ9ZnVuY3Rpb24oZSl7aWYoIWUuY3R4KXJldHVybiBuZXcgRXJyb3IoXCJubyBjb250ZXh0XCIpO1wicGxheWVyXCI9PWUub2JqZWN0T3duZXImJjE9PWUudHlwZSYmci53ZWFwb24xKGUsbyksXCJlbmVteVwiPT1lLm9iamVjdE93bmVyJiYxPT1lLnR5cGUmJnIud2VhcG9uMShlLG8pfSx0LmNyZWF0ZUltYWdlPWZ1bmN0aW9uKGUsdCl7Zm9yKHZhciBpPVtdLG49MjtuPGFyZ3VtZW50cy5sZW5ndGg7bisrKWlbbi0yXT1hcmd1bWVudHNbbl07by5hcHBseSh2b2lkIDAsYShbZSxcImRyYXdJbWFnZVwiLHRdLGkpKX0sdC5jbGVhckZpZWxkPWZ1bmN0aW9uKGUsdCxpKXtvKGUsXCJjbGVhclJlY3RcIiwwLDAsdCxpKX19LGZ1bmN0aW9uKGUsdCxpKXtcInVzZSBzdHJpY3RcIjt2YXIgYT10aGlzJiZ0aGlzLl9faW1wb3J0U3Rhcnx8ZnVuY3Rpb24oZSl7aWYoZSYmZS5fX2VzTW9kdWxlKXJldHVybiBlO3ZhciB0PXt9O2lmKG51bGwhPWUpZm9yKHZhciBpIGluIGUpT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwoZSxpKSYmKHRbaV09ZVtpXSk7cmV0dXJuIHQuZGVmYXVsdD1lLHR9O09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciBuPWkoMCkscj1pKDIxKSxvPWEoaSgzKSk7dC5wbGFjZUVuZW15ZXM9ZnVuY3Rpb24oZSl7bi5jcmVhdGVJbWFnZShlLmdhbWVJbml0RGF0YS5jdHhBY3Rpb25GaWVsZCx0aGlzLmltZyx0aGlzLnN4LHRoaXMuc3ksdGhpcy5zV2lkdGgsdGhpcy5zSGVpZ2h0LHRoaXMueCx0aGlzLnksdGhpcy53aWR0aCx0aGlzLmhlaWdodCl9LHQubW92ZUVuZW15ZXM9ZnVuY3Rpb24oZSx0KXt2b2lkIDA9PT10JiYodD0wKSx0aGlzLngtPXRoaXMuZW5lbXlTcGVlZCx0aGlzLnktPXR9LHQubG9hZEVuZW15ZXM9ZnVuY3Rpb24oKXt0aGlzLmltZz1uZXcgSW1hZ2UsdGhpcy5pbWcuc3JjPXRoaXMuc2hpcFRleHR1cmV9LHQuc2hvb3Q9ZnVuY3Rpb24oZSx0KXtpZih0LmdhbWVJbml0RGF0YS5nYW1lUGF1c2UpcmV0dXJuITE7aWYodC5nYW1lUmFuZG9taXplcihNYXRoLnBvdyh0aGlzLnJhcGlkRmlyZSwyKSk8dC5nYW1lUmFuZG9taXplcih0aGlzLnJhcGlkRmlyZSkpZm9yKHZhciBpPXRoaXMuZ3VucyxhPWZ1bmN0aW9uKGkpe3ZhciBhPW5ldyBlKG4ueCxuLnkraS5maXJlUG9zaXRpb24saS5uYW1lLGkuY29sb3IsXCJlbmVteVwiLGkuc3BlZWQrbi5lbmVteVNwZWVkLGkud2lkdGgsaS5oZWlnaHQsaS5kYW1hZ2UsaS50eXBlLGkudGV4dHVyZSxpLnN4LGkuc3ksaS5zV2lkdGgsaS5zSGVpZ2h0LGkuZXhwbG9zaW9uQW5pbWF0aW9uKTthLmltZy5zcmM9YS50ZXh0dXJlLGEuaW1nLm9ubG9hZD1mdW5jdGlvbigpe3QuZ2FtZUluaXREYXRhLmFsbEdhbWVCdWxsZXRzPXQuZ2FtZUluaXREYXRhLmFsbEdhbWVCdWxsZXRzLmNvbmNhdChhKX19LG49dGhpcyxyPTAsbz1pO3I8by5sZW5ndGg7cisrKXthKG9bcl0pfX0sdC5lbmVteUFuaW1hdGlvbj1mdW5jdGlvbihlKXt2b2lkIDA9PT1lJiYoZT0hMCksdGhpcy5kZXRlY3RGcmFtZSs9MSx0aGlzLmRldGVjdEZyYW1lJXRoaXMuYW5pbWF0aW9uU3RlcHM9PTAmJmUmJih0aGlzLmRldGVjdEZyYW1lPTAsdGhpcy5zeCs9dGhpcy5zV2lkdGgsdGhpcy5zeD49dGhpcy5waWN0dXJlc1dpZHRoJiYodGhpcy5zeD0wKSl9LHQudGFrZURhbWFnZT1mdW5jdGlvbihlLHQsaSl7aWYodGhpcy5oYXNPd25Qcm9wZXJ0eShcImJ1bGxldFR5cGVcIikmJlwiZW5lbXlcIj09dGhpcy5vYmplY3RPd25lciYmXCJwbGF5ZXJcIj09dC5vYmplY3RPd25lcnx8dGhpcy5oYXNPd25Qcm9wZXJ0eShcImJ1bGxldFR5cGVcIikmJlwicGxheWVyXCI9PXRoaXMub2JqZWN0T3duZXImJlwiZW5lbXlcIj09dC5vYmplY3RPd25lcilyZXR1cm4gci5leHBsb3Npb25GaXJlKHRoaXMsaSx0LG8uU2lkZU9iamVjdCksdGhpcy5vYmplY3RQcmVzZW50PSExO2lmKHRoaXMuaGFzT3duUHJvcGVydHkoXCJoZWFsdGhQb2ludFwiKSYmXCJlbmVteVwiPT10aGlzLm9iamVjdE93bmVyJiZcInBsYXllclwiPT10Lm9iamVjdE93bmVyKWEuY2FsbCh0aGlzKTtlbHNle2lmKCF0aGlzLmhhc093blByb3BlcnR5KFwiaGVhbHRoUG9pbnRcIil8fFwicGxheWVyXCIhPXRoaXMub2JqZWN0T3duZXJ8fFwiZW5lbXlcIiE9dC5vYmplY3RPd25lcilyZXR1cm4hMTt0aGlzLmNvbGxpc2lvbkFsbG93JiZhLmNhbGwodGhpcyxpLmdldExldmVsVXNlckRhdGEoKSl9ZnVuY3Rpb24gYSh0KXtpZih0aGlzLmhlYWx0aFBvaW50LT1lLHRoaXMuaGVhbHRoUG9pbnQ8PTApcmV0dXJuIHQmJnQubGlmZT4wPyh0LnNvdXJzZS5wbGF5ZXJPYmplY3QubnVtYmVyT2ZsaWZlLT0xLHQuc291cnNlLnBsYXllck9iamVjdC5udW1iZXJPZmxpZmU8PTAmJihhbGVydChcIkdhbWUgT3ZlclwiKSxpLmJhY2tUb1N0YXJ0U2NyZWVuKG8uUGxheWVyU2hpcCkpLHRoaXMuaGVhbHRoUG9pbnQ9dC5zb3Vyc2UucGxheWVyT2JqZWN0Lm1heEhlYWx0aCwhMSk6KGkuY29sbGVjdFBvaW50cyh0aGlzLnBvaW50c1BlclVuaXQpLHRoaXMub2JqZWN0UHJlc2VudD0hMSl9fSx0LmhpdERldGVjdGlvbj1mdW5jdGlvbihlLHQsaSl7Zm9yKHZhciBhPW51bGwsbj0wLHI9dDtuPHIubGVuZ3RoO24rKyl7dmFyIG89cltuXSxzPWUuZ2V0T2JqZWN0UG9zaXRpb24uY2FsbChlKSxsPU1hdGgubWF4KHMueCxvLngpLGM9TWF0aC5tYXgocy55LG8ueSksdT1NYXRoLm1pbihzLngrKGUud2lkdGh8fHMud2lkdGgpLG8ueCtvLndpZHRoKS1sLGg9TWF0aC5taW4ocy55KyhlLmhlaWdodHx8cy5oZWlnaHQpLG8ueStvLmhlaWdodCktYztpZihcImNvbGxpc2lvblwiPT0oYT0hKE1hdGguc2lnbih1KTwwfHxNYXRoLnNpZ24oaCk8MCkmJlwiY29sbGlzaW9uXCIpKXtlLnRha2VEYW1hZ2UmJm8udGFrZURhbWFnZSYmKGUudGFrZURhbWFnZShvLmRhbWFnZT9vLmRhbWFnZTowLG8saSksby50YWtlRGFtYWdlKGUuZGFtYWdlP2UuZGFtYWdlOjAsZSxpKSk7YnJlYWt9fXJldHVyblwiY29sbGlzaW9uXCI9PWEmJmV9fSxmdW5jdGlvbihlLHQsaSl7XCJ1c2Ugc3RyaWN0XCI7dmFyIGE9dGhpcyYmdGhpcy5fX3NwcmVhZEFycmF5c3x8ZnVuY3Rpb24oKXtmb3IodmFyIGU9MCx0PTAsaT1hcmd1bWVudHMubGVuZ3RoO3Q8aTt0KyspZSs9YXJndW1lbnRzW3RdLmxlbmd0aDt2YXIgYT1BcnJheShlKSxuPTA7Zm9yKHQ9MDt0PGk7dCsrKWZvcih2YXIgcj1hcmd1bWVudHNbdF0sbz0wLHM9ci5sZW5ndGg7bzxzO28rKyxuKyspYVtuXT1yW29dO3JldHVybiBhfTtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgbj1pKDApO3QuaW5pdEZpZWxkPWZ1bmN0aW9uKGUsdCl7dm9pZCAwPT09ZSYmKGU9d2luZG93LmlubmVyV2lkdGgpLHZvaWQgMD09PXQmJih0PXdpbmRvdy5pbm5lckhlaWdodCk7dmFyIGk9W10uY29uY2F0KHRoaXMuZ2FtZUluaXREYXRhLmdhbWVGaWVsZCx0aGlzLmdhbWVJbml0RGF0YS5nYW1lQWN0aW9uRmllbGQsdGhpcy5nYW1lSW5pdERhdGEuZ2FtZVVJRmllbGQpO2lmKCFpKXRocm93IEVycm9yKFwiRXJyb3JcIik7Zm9yKHZhciBhPTAsbj1pO2E8bi5sZW5ndGg7YSsrKXt2YXIgcj1uW2FdO3I9T2JqZWN0LmFzc2lnbihyLHt3aWR0aDplLTQsaGVpZ2h0OnQtNH0pfX0sdC5zZXRHYW1lRmllbGRzPWZ1bmN0aW9uKCl7dGhpcy5pbml0RmllbGQoKSx0aGlzLmNyZWF0ZUNvbnRleHQoKSx0aGlzLmluaXRQbGF5ZXJTaGlwKCl9LHQud2FycEVmZmVjdD1mdW5jdGlvbigpe3ZhciBlPXRoaXMuZ2V0U2NyZWVuU2l6ZSgpLHQ9dGhpcy5nYW1lSW5pdERhdGEuY3R4LGk9dGhpcy5nYW1lSW5pdERhdGEud2FycE9iamVjdHM7aWYodGhpcy5nZXRTZWNvbmRNZWFzdXJlKChmdW5jdGlvbihlKXt2YXIgdD0hKHRoaXMuZ2FtZUluaXREYXRhLnRpbWVUb0VyZXNzTGV2ZWw+PTApO3RoaXMuZ2FtZUluaXREYXRhLnRpbWVUb0VyZXNzTGV2ZWw+PTAmJiF0JiYodGhpcy5nYW1lSW5pdERhdGEudGltZVRvRXJlc3NMZXZlbC09MSk7dGhpcy5nYW1lSW5pdERhdGEudGltZVRvRXJlc3NMZXZlbDwwJiYhdCYmdGhpcy5jaGFuZ2VMZXZlbFByb2NlZHVyZSgpfSkse3RpbWVUb0VyZXNzTGV2ZWw6dGhpcy5nYW1lSW5pdERhdGEudGltZVRvRXJlc3NMZXZlbCxjdHg6dCxzY3JlZW5TaXo6dGhpcy5nZXRTY3JlZW5TaXplKCl9KSx0aGlzLmdhbWVJbml0RGF0YS53YXJwT2JqZWN0cz1pLmxlbmd0aDwzNTA/dGhpcy5nYW1lSW5pdERhdGEud2FycE9iamVjdHMuY29uY2F0KHt4OmUud2lkdGgseTp0aGlzLmdhbWVSYW5kb21pemVyKGUuaGVpZ2h0KSxoZWlnaHQ6dGhpcy5nYW1lUmFuZG9taXplcigyMCwxMCksd2lkdGg6MTAsc3BlZWQ6dGhpcy5nYW1lUmFuZG9taXplcigxMCw1KSxiYWNrZ3JvdW5kOnRoaXMuZ2V0UmFuZG9tQ29sb3IoKX0pOnRoaXMuZ2FtZUluaXREYXRhLndhcnBPYmplY3RzLGkubGVuZ3RoPjApZm9yKHZhciBhPTAscj1pO2E8ci5sZW5ndGg7YSsrKXt2YXIgbz1yW2FdO28ueC09by54PjA/by5zcGVlZDowLG8ud2lkdGg9aS5sZW5ndGg8MTUwP28ud2lkdGgtby5zcGVlZDppLmxlbmd0aD4xNTAmJmkubGVuZ3RoPDM1MD9vLndpZHRoK28uc3BlZWQ6by53aWR0aC1vLnNwZWVkLHQuZmlsbFN0eWxlPW8uYmFja2dyb3VuZCxuLmRyYXcodCxcImZpbGxSZWN0XCIsby54LG8ueSxvLndpZHRoLG8uaGVpZ2h0KSx0LmZpbGwoKX19LHQubGV2ZWxJbml0PWZ1bmN0aW9uKGUsdCxpKXt2YXIgYT10aGlzLnNob3dMZXZlbERhdGEoKSxuPShhLmxldmVsTWFwLGEubGV2ZWxCYWNrZ3JvdW5kRWxlbWVudHMpO2kuZ2FtZUluaXREYXRhLmJhY2tTY3JlZW5QYXVzZT0hMTtmb3IodmFyIHI9MCxvPW47cjxvLmxlbmd0aDtyKyspe3ZhciBzPW9bcl0sbD1uZXcgZShzLmxldmVsTWFwLHMuc3BlZWQsdGhpcy5nYW1lSW5pdERhdGEuc2NyZWVuLHQsdGhpcy5nYW1lSW5pdERhdGEubWFwQmFja2dyb3VuZE9iamVjdHMubGVuZ3RoJTI9PTB8fG51bGwpO2kuZ2FtZUluaXREYXRhLm1hcEJhY2tncm91bmRPYmplY3RzPWkuZ2FtZUluaXREYXRhLm1hcEJhY2tncm91bmRPYmplY3RzLmNvbmNhdChsKSxsLmltZy5zcmM9dGhpcy5zaG93R2FtZUluZm8oKS5pbWFnZURpcnJlY3Rpb24rbC5iYWNrZ3JvdW5kVGV4dHVyZX19LHQuY3JlYXRlQ29udGV4dD1mdW5jdGlvbigpe3RoaXMuZ2FtZUluaXREYXRhLmN0eD10aGlzLmdhbWVJbml0RGF0YS5nYW1lRmllbGQuZ2V0Q29udGV4dChcIjJkXCIpLHRoaXMuZ2FtZUluaXREYXRhLmN0eEFjdGlvbkZpZWxkPXRoaXMuZ2FtZUluaXREYXRhLmdhbWVBY3Rpb25GaWVsZC5nZXRDb250ZXh0KFwiMmRcIiksdGhpcy5nYW1lSW5pdERhdGEuY3R4VUlGaWVsZD10aGlzLmdhbWVJbml0RGF0YS5nYW1lVUlGaWVsZC5nZXRDb250ZXh0KFwiMmRcIil9LHQuZ2V0U2NyZWVuU2l6ZT1mdW5jdGlvbigpe3JldHVybnt3aWR0aDp0aGlzLmdhbWVJbml0RGF0YS5zY3JlZW4ud2lkdGgsaGVpZ2h0OnRoaXMuZ2FtZUluaXREYXRhLnNjcmVlbi5oZWlnaHR9fSx0LmNoYW5nZUxldmVsUHJvY2VkdXJlPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5zaG93R2FtZUluZm8oKTt0aGlzLmNoYW5nZUxldmVsKGUuZ2FtZURhdGEuY3VycmVudExldmVsKzEpPD1lLmdhbWVEYXRhLmxldmVsRGF0YS5hbGxMZXZlbHM/dGhpcy5uZXh0TGV2ZWxEYXRhUmVsb2FkKGUpOmFsZXJ0KFwiV2luIEdhbWUgU2NyZWVuIFwiKX0sdC5sZXZlbFRpbWVyPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5nZXRMZXZlbFVzZXJEYXRhKCk7ZS5zb3Vyc2UubGV2ZWxEYXRhLmxldmVsRGV0YWlscyx0aGlzLmdhbWVJbml0RGF0YS5sZXZlbENoYW5nZXx8dGhpcy5nZXRTZWNvbmRNZWFzdXJlKChmdW5jdGlvbihlKXtlLmxldmVsU2Vjb25kczw9MCYmKDA9PWUubGV2ZWxNaW51dGVzJiYwPT1lLmxldmVsU2Vjb25kcyYmKGUubGV2ZWxTZWNvbmRzPTAsdGhpcy5nYW1lSW5pdERhdGEubGV2ZWxDaGFuZ2U9ITApLGUubGV2ZWxNaW51dGVzPWUubGV2ZWxNaW51dGVzPjA/ZS5sZXZlbE1pbnV0ZXMtMTowKTtlLmxldmVsU2Vjb25kcz1lLmxldmVsU2Vjb25kcz4wP2UubGV2ZWxTZWNvbmRzLTE6dGhpcy5nYW1lSW5pdERhdGEubGV2ZWxDaGFuZ2U/MDo1OX0pLGUuc291cnNlLmxldmVsRGF0YS5sZXZlbERldGFpbHMpfSx0LmdldFNlY29uZE1lYXN1cmU9ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PVtdLGk9MTtpPGFyZ3VtZW50cy5sZW5ndGg7aSsrKXRbaS0xXT1hcmd1bWVudHNbaV07dGhpcy5nYW1lSW5pdERhdGEuZ2VtZUV4dHJhU2Vjb25kcys9MTt2YXIgbj0xZTMvdGhpcy5nYW1lSW5pdERhdGEuaW50ZXJ2YWxDb3VudDtpZih0aGlzLmdhbWVJbml0RGF0YS5nZW1lRXh0cmFTZWNvbmRzJW49PTApcmV0dXJuIHRoaXMuZ2FtZUluaXREYXRhLmdlbWVFeHRyYVNlY29uZHM9MCxlP2UuY2FsbC5hcHBseShlLGEoW3RoaXNdLHQpKTpufSx0LmdldExldmVsVXNlckRhdGE9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmdhbWVJbml0RGF0YS5nYW1lRGF0YSx0PWUubGV2ZWxEYXRhLmxldmVsRGV0YWlscztyZXR1cm57c291cnNlOmUsY3VycmVudExldmVsOmUuY3VycmVudExldmVsLGFsbExldmVsczplLmxldmVsRGF0YS5hbGxMZXZlbHMscG9pbnRzOmUuY3VycmVudFBvaW50LGxpZmU6ZS5wbGF5ZXJPYmplY3QubnVtYmVyT2ZsaWZlLG1pbnV0ZXM6dC5sZXZlbE1pbnV0ZXMsc2Vjb25kczp0LmxldmVsU2Vjb25kc319LHQuZGVsZXRlQnVsbGV0PWZ1bmN0aW9uKGUpe2lmKGUueD50aGlzLmdhbWVJbml0RGF0YS5zY3JlZW4ud2lkdGh8fGUueDwtMSplLndpZHRofHwhZS5vYmplY3RQcmVzZW50KXt2YXIgdD10aGlzLmdhbWVJbml0RGF0YS5hbGxHYW1lQnVsbGV0cy5pbmRleE9mKGUpO3RoaXMuZ2FtZUluaXREYXRhLmFsbEdhbWVCdWxsZXRzLnNwbGljZSh0LDEpfX0sdC5kZWxldGVPYmplY3RzPWZ1bmN0aW9uKGUpe2lmKGUueCtlLnNXaWR0aDwwfHwhZS5vYmplY3RQcmVzZW50KXt2YXIgdD10aGlzLmdhbWVJbml0RGF0YS5hbGxHYW1lRW5lbWllcy5pbmRleE9mKGUpO3RoaXMuZ2FtZUluaXREYXRhLmFsbEdhbWVFbmVtaWVzLnNwbGljZSh0LDEpfX0sdC5kZWxhdGVTaWRlT2JqZWN0PWZ1bmN0aW9uKGUpe2lmKCFlLm9iamVjdFByZXNlbnQpe3ZhciB0PXRoaXMuZ2FtZUluaXREYXRhLmFsbEdhbWVTaWRlT2JqZWN0cy5pbmRleE9mKGUpO3RoaXMuZ2FtZUluaXREYXRhLmFsbEdhbWVTaWRlT2JqZWN0cy5zcGxpY2UodCwxKX19LHQuY29sbGVjdFBvaW50cz1mdW5jdGlvbihlKXt0aGlzLmdhbWVJbml0RGF0YS5nYW1lRGF0YS5jdXJyZW50UG9pbnQrPWV9LHQuZ2V0T2JqZWN0UG9zaXRpb249ZnVuY3Rpb24oKXtyZXR1cm57eDp0aGlzLngseTp0aGlzLnksd2lkdGg6dGhpcy53aWR0aCxoZWlnaHQ6dGhpcy5oZWlnaHR9fSx0LmdldFJhbmRvbUNvbG9yPWZ1bmN0aW9uKCl7Zm9yKHZhciBlPVwiI1wiLHQ9MDt0PDY7dCsrKWUrPVwiMDEyMzQ1Njc4OUFCQ0RFRlwiW01hdGguZmxvb3IoMTYqTWF0aC5yYW5kb20oKSldO3JldHVybiBlfX0sZnVuY3Rpb24oZSx0LGkpe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIGEoZSl7Zm9yKHZhciBpIGluIGUpdC5oYXNPd25Qcm9wZXJ0eShpKXx8KHRbaV09ZVtpXSl9T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksYShpKDE3KSksYShpKDMwKSksYShpKDgpKSxhKGkoMzIpKSxhKGkoMzMpKSxhKGkoMzUpKX0sZnVuY3Rpb24oZSx0LGkpe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLHQuaW5pdD1mdW5jdGlvbihlLHQpe2UodD10fHx0aGlzKX0sdC5nZXRVSU9iamVjdFBvc2l0aW9uPWZ1bmN0aW9uKCl7cmV0dXJue3g6dGhpcy5wcm9wZXJ0eWVzLngseTp0aGlzLnByb3BlcnR5ZXMueSx3aWR0aDp0aGlzLnByb3BlcnR5ZXMud2lkdGgsaGVpZ2h0OnRoaXMucHJvcGVydHllcy5oZWlnaHR9fX0sZnVuY3Rpb24oZSx0LGkpe1widXNlIHN0cmljdFwiO3ZhciBhPXRoaXMmJnRoaXMuX19hd2FpdGVyfHxmdW5jdGlvbihlLHQsaSxhKXtyZXR1cm4gbmV3KGl8fChpPVByb21pc2UpKSgoZnVuY3Rpb24obixyKXtmdW5jdGlvbiBvKGUpe3RyeXtsKGEubmV4dChlKSl9Y2F0Y2goZSl7cihlKX19ZnVuY3Rpb24gcyhlKXt0cnl7bChhLnRocm93KGUpKX1jYXRjaChlKXtyKGUpfX1mdW5jdGlvbiBsKGUpe3ZhciB0O2UuZG9uZT9uKGUudmFsdWUpOih0PWUudmFsdWUsdCBpbnN0YW5jZW9mIGk/dDpuZXcgaSgoZnVuY3Rpb24oZSl7ZSh0KX0pKSkudGhlbihvLHMpfWwoKGE9YS5hcHBseShlLHR8fFtdKSkubmV4dCgpKX0pKX0sbj10aGlzJiZ0aGlzLl9fZ2VuZXJhdG9yfHxmdW5jdGlvbihlLHQpe3ZhciBpLGEsbixyLG89e2xhYmVsOjAsc2VudDpmdW5jdGlvbigpe2lmKDEmblswXSl0aHJvdyBuWzFdO3JldHVybiBuWzFdfSx0cnlzOltdLG9wczpbXX07cmV0dXJuIHI9e25leHQ6cygwKSx0aHJvdzpzKDEpLHJldHVybjpzKDIpfSxcImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJihyW1N5bWJvbC5pdGVyYXRvcl09ZnVuY3Rpb24oKXtyZXR1cm4gdGhpc30pLHI7ZnVuY3Rpb24gcyhyKXtyZXR1cm4gZnVuY3Rpb24ocyl7cmV0dXJuIGZ1bmN0aW9uKHIpe2lmKGkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkdlbmVyYXRvciBpcyBhbHJlYWR5IGV4ZWN1dGluZy5cIik7Zm9yKDtvOyl0cnl7aWYoaT0xLGEmJihuPTImclswXT9hLnJldHVybjpyWzBdP2EudGhyb3d8fCgobj1hLnJldHVybikmJm4uY2FsbChhKSwwKTphLm5leHQpJiYhKG49bi5jYWxsKGEsclsxXSkpLmRvbmUpcmV0dXJuIG47c3dpdGNoKGE9MCxuJiYocj1bMiZyWzBdLG4udmFsdWVdKSxyWzBdKXtjYXNlIDA6Y2FzZSAxOm49cjticmVhaztjYXNlIDQ6cmV0dXJuIG8ubGFiZWwrKyx7dmFsdWU6clsxXSxkb25lOiExfTtjYXNlIDU6by5sYWJlbCsrLGE9clsxXSxyPVswXTtjb250aW51ZTtjYXNlIDc6cj1vLm9wcy5wb3AoKSxvLnRyeXMucG9wKCk7Y29udGludWU7ZGVmYXVsdDppZighKG49KG49by50cnlzKS5sZW5ndGg+MCYmbltuLmxlbmd0aC0xXSkmJig2PT09clswXXx8Mj09PXJbMF0pKXtvPTA7Y29udGludWV9aWYoMz09PXJbMF0mJighbnx8clsxXT5uWzBdJiZyWzFdPG5bM10pKXtvLmxhYmVsPXJbMV07YnJlYWt9aWYoNj09PXJbMF0mJm8ubGFiZWw8blsxXSl7by5sYWJlbD1uWzFdLG49cjticmVha31pZihuJiZvLmxhYmVsPG5bMl0pe28ubGFiZWw9blsyXSxvLm9wcy5wdXNoKHIpO2JyZWFrfW5bMl0mJm8ub3BzLnBvcCgpLG8udHJ5cy5wb3AoKTtjb250aW51ZX1yPXQuY2FsbChlLG8pfWNhdGNoKGUpe3I9WzYsZV0sYT0wfWZpbmFsbHl7aT1uPTB9aWYoNSZyWzBdKXRocm93IHJbMV07cmV0dXJue3ZhbHVlOnJbMF0/clsxXTp2b2lkIDAsZG9uZTohMH19KFtyLHNdKX19fTtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgcj1pKDE2KTtmdW5jdGlvbiBvKGUpe3JldHVybiBhKHRoaXMsdm9pZCAwLHZvaWQgMCwoZnVuY3Rpb24oKXt2YXIgdCxpLGEsbyxzO3JldHVybiBuKHRoaXMsKGZ1bmN0aW9uKG4pe3N3aXRjaChuLmxhYmVsKXtjYXNlIDA6cmV0dXJuIHQ9e2hvc3Q6XCJsb2NhbGhvc3RcIj09PWRvY3VtZW50LmxvY2F0aW9uLmhvc3RuYW1lP1wiaHR0cDovL2xvY2FsaG9zdDozMDAwL1wiOlwiXCIscGljdHVyZXNEaXJlY3Rpb246bG9jYXRpb24ub3JpZ2luK1wiL2ltYWdlcy9cIixsZXZlbERhdGE6e21ldGhvZDpcIkdFVFwiLHVybDpcImFwaS9sZXZlbC1kYXRhXCJ9LGdhbWVTZXRpbmdzOnttZXRob2Q6XCJHRVRcIix1cmw6XCJhcGkvZ2FtZS1ldHRpbmdzXCJ9LHVzZXJTaGlwOnttZXRob2Q6XCJHRVRcIix1cmw6XCJhcGkvdXNlci1zaGlwXCJ9LGVuZW15bERhdGE6e21ldGhvZDpcIkdFVFwiLHVybDpcImFwaS9lbmVteS1zaGlwXCJ9fSxbNCxyLmdldERhdGEoe3VybDp0Lmhvc3QrdC5sZXZlbERhdGEudXJsLG1ldGhvZDp0LmxldmVsRGF0YS5tZXRob2QsZGF0YTpudWxsLGhlYWRlcnM6e21hcGxldmVsOmUubGV2ZWx9fSldO2Nhc2UgMTpyZXR1cm4gaT1uLnNlbnQoKSxbNCxyLmdldERhdGEoe3VybDp0Lmhvc3QrdC5nYW1lU2V0aW5ncy51cmwsbWV0aG9kOnQuZ2FtZVNldGluZ3MubWV0aG9kLGRhdGE6bnVsbCxoZWFkZXJzOm51bGx9KV07Y2FzZSAyOnJldHVybiBhPW4uc2VudCgpLFs0LHIuZ2V0RGF0YSh7dXJsOnQuaG9zdCt0LnVzZXJTaGlwLnVybCxtZXRob2Q6dC51c2VyU2hpcC5tZXRob2QsZGF0YTpudWxsLGhlYWRlcnM6e3VzZXJzaGlwOmUuc2hpcENvbmZpZ3VyYXRpb259fSldO2Nhc2UgMzpyZXR1cm4gbz1uLnNlbnQoKSxbNCxyLmdldERhdGEoe3VybDp0Lmhvc3QrdC5lbmVteWxEYXRhLnVybCxtZXRob2Q6dC5lbmVteWxEYXRhLm1ldGhvZCxkYXRhOm51bGwsaGVhZGVyczp7XCJzaGlwLXR5cGUtbnVtYmVyXCI6ZS5lbmVteVR5cGV9fSldO2Nhc2UgNDpyZXR1cm4gcz1uLnNlbnQoKSxbMix7bGV2ZWxEYXRhOmksZ2FtZVNldGluZ3M6YSx1c2VyRGF0YTpvLGVuZW15RGF0YTpzfV19fSkpfSkpfWZ1bmN0aW9uIHMoZSl7cmV0dXJuIGEodGhpcyx2b2lkIDAsdm9pZCAwLChmdW5jdGlvbigpe3ZhciB0LGksYSxyLHMsbCxjLHUsaDtyZXR1cm4gbih0aGlzLChmdW5jdGlvbihuKXtzd2l0Y2gobi5sYWJlbCl7Y2FzZSAwOnJldHVybiB0PWRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjZ2FtZWZpZWxkXCIpLGk9ZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNnYW1lT2JqZWN0c2ZpZWxkXCIpLGE9ZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNnYW1lVWlmaWVsZFwiKSwxLDEsWzQsbyh7bGV2ZWw6cj0xLHNoaXBDb25maWd1cmF0aW9uOjEsZW5lbXlUeXBlOjF9KV07Y2FzZSAxOnJldHVybiBzPW4uc2VudCgpLGw9cy5sZXZlbERhdGEsYz1zLmdhbWVTZXRpbmdzLHU9cy51c2VyRGF0YSxoPXMuZW5lbXlEYXRhLFsyLHtkYXRhOntjdHg6bnVsbCxnYW1lRmllbGQ6dHx8bnVsbCxnYW1lQWN0aW9uRmllbGQ6aXx8bnVsbCxnYW1lVUlGaWVsZDphfHxudWxsLGdhbWVEYXRhOntjdXJyZW50TGV2ZWw6cixjdXJyZW50UG9pbnQ6MCxwbGF5ZXJPYmplY3Q6bmV3IGUodSwwLDMwMCw1LDEwMCwxMDAsdS5zaXplLndpZHRoLHUuc2l6ZS5oZWlnaHQpLGxldmVsRGF0YTpsLGdhbWVTZXRpbmdzOmMsZW5lbXlEYXRhOmgsY29udHJvbGxlcnM6bnVsbH0sc2NyZWVuOnt3aWR0aDp3aW5kb3cuaW5uZXJXaWR0aCxoZWlnaHQ6d2luZG93LmlubmVySGVpZ2h0fSxpbnRlcnZhbENvdW50OjIwLGVuZW15VHlwZTpudWxsLGFsbEdhbWVTaWRlT2JqZWN0czpbXSxhbGxHYW1lRW5lbWllczpbXSxhbGxHYW1lQnVsbGV0czpbXSxhbGxHYW1lTWFwT0JqZWN0czpbXSxtYXBCYWNrZ3JvdW5kT2JqZWN0czpbXSx3YXJwT2JqZWN0czpbXSx0aW1lVG9FcmVzc0xldmVsOjYsbGV2ZWxDaGFuZ2U6ITEsZ2FtZVBhdXNlOiExLGdhbWVVaVBhdXNlOiExLGJhY2tTY3JlZW5QYXVzZTohMCxnYW1lU3RhdHVzOiExLGdlbWVFeHRyYVNlY29uZHM6MH19XX19KSl9KSl9dC5zZXJ2ZXJSZXF1ZXN0PW8sdC5nYW1lRGF0YUluaXQ9cyx0LmdhbWVFbmdpbmU9ZnVuY3Rpb24oZSl7cmV0dXJuIGEodGhpcyx2b2lkIDAsdm9pZCAwLChmdW5jdGlvbigpe3JldHVybiBuKHRoaXMsKGZ1bmN0aW9uKGUpe3JldHVyblsyXX0pKX0pKX0sdC5nYW1lU3RhcnQ9ZnVuY3Rpb24oKXt0aGlzLmdhbWVJbml0RGF0YS5nYW1lU3RhdHVzPSEwfSx0LmJhY2tUb1N0YXJ0U2NyZWVuPWZ1bmN0aW9uKGUpe3JldHVybiBhKHRoaXMsdm9pZCAwLHZvaWQgMCwoZnVuY3Rpb24oKXt2YXIgdCxpLGEscixvLGw7cmV0dXJuIG4odGhpcywoZnVuY3Rpb24obil7c3dpdGNoKG4ubGFiZWwpe2Nhc2UgMDpyZXR1cm5bNCxzKGUpXTtjYXNlIDE6Zm9yKHQ9bi5zZW50KCksaT0wLGE9T2JqZWN0LmVudHJpZXModC5kYXRhKTtpPGEubGVuZ3RoO2krKylyPWFbaV0sbz1yWzBdLG51bGwhPT0obD1yWzFdKSYmKHRoaXMuZ2FtZUluaXREYXRhW29dPWwpO3JldHVybiB0aGlzLmdhbWVJbml0RGF0YS5nYW1lU3RhdHVzPSExLFsyXX19KSl9KSl9fSxmdW5jdGlvbihlLHQsaSl7XCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksdC51aUltYWdlPWZ1bmN0aW9uKGUpe3ZhciB0PWUucHJvcGVydHllczt0LmN0eC5kcmF3SW1hZ2UodC5iYWNrZ3JvdW5kLDAsMCx0LnNXaWR0aCx0LnNIZWlnaHQsdC54LHQueSx0LndpZHRoLHQuaGVpZ2h0KX0sdC51aVRleHQ9ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5wcm9wZXJ0eWVzO3QuY3R4LmZvbnQ9ZS5mb250U2l6ZSx0LmN0eC5maWxsU3R5bGU9dC5ib3JkZXJDb2xvcix0LmN0eC5maWxsVGV4dChlLnRleHQsdC54K3Qud2lkdGgsdC55K3QuaGVpZ2h0KX0sdC51aVJlcGVhdEltYWdlPWZ1bmN0aW9uKGUpe3ZhciB0PWUucHJvcGVydHllcyxpPXQuY3R4LmNyZWF0ZVBhdHRlcm4odC5iYWNrZ3JvdW5kLFwicmVwZWF0LXhcIik7dC5jdHgucmVjdCh0LngsdC55LHQud2lkdGgsdC5oZWlnaHQpLHQuY3R4LmZpbGxTdHlsZT1pLHQuY3R4LmZpbGwoKX19LGZ1bmN0aW9uKGUsdCxpKXtcInVzZSBzdHJpY3RcIjt2YXIgYT10aGlzJiZ0aGlzLl9fYXdhaXRlcnx8ZnVuY3Rpb24oZSx0LGksYSl7cmV0dXJuIG5ldyhpfHwoaT1Qcm9taXNlKSkoKGZ1bmN0aW9uKG4scil7ZnVuY3Rpb24gbyhlKXt0cnl7bChhLm5leHQoZSkpfWNhdGNoKGUpe3IoZSl9fWZ1bmN0aW9uIHMoZSl7dHJ5e2woYS50aHJvdyhlKSl9Y2F0Y2goZSl7cihlKX19ZnVuY3Rpb24gbChlKXt2YXIgdDtlLmRvbmU/bihlLnZhbHVlKToodD1lLnZhbHVlLHQgaW5zdGFuY2VvZiBpP3Q6bmV3IGkoKGZ1bmN0aW9uKGUpe2UodCl9KSkpLnRoZW4obyxzKX1sKChhPWEuYXBwbHkoZSx0fHxbXSkpLm5leHQoKSl9KSl9LG49dGhpcyYmdGhpcy5fX2dlbmVyYXRvcnx8ZnVuY3Rpb24oZSx0KXt2YXIgaSxhLG4scixvPXtsYWJlbDowLHNlbnQ6ZnVuY3Rpb24oKXtpZigxJm5bMF0pdGhyb3cgblsxXTtyZXR1cm4gblsxXX0sdHJ5czpbXSxvcHM6W119O3JldHVybiByPXtuZXh0OnMoMCksdGhyb3c6cygxKSxyZXR1cm46cygyKX0sXCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiYocltTeW1ib2wuaXRlcmF0b3JdPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9KSxyO2Z1bmN0aW9uIHMocil7cmV0dXJuIGZ1bmN0aW9uKHMpe3JldHVybiBmdW5jdGlvbihyKXtpZihpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJHZW5lcmF0b3IgaXMgYWxyZWFkeSBleGVjdXRpbmcuXCIpO2Zvcig7bzspdHJ5e2lmKGk9MSxhJiYobj0yJnJbMF0/YS5yZXR1cm46clswXT9hLnRocm93fHwoKG49YS5yZXR1cm4pJiZuLmNhbGwoYSksMCk6YS5uZXh0KSYmIShuPW4uY2FsbChhLHJbMV0pKS5kb25lKXJldHVybiBuO3N3aXRjaChhPTAsbiYmKHI9WzImclswXSxuLnZhbHVlXSksclswXSl7Y2FzZSAwOmNhc2UgMTpuPXI7YnJlYWs7Y2FzZSA0OnJldHVybiBvLmxhYmVsKysse3ZhbHVlOnJbMV0sZG9uZTohMX07Y2FzZSA1Om8ubGFiZWwrKyxhPXJbMV0scj1bMF07Y29udGludWU7Y2FzZSA3OnI9by5vcHMucG9wKCksby50cnlzLnBvcCgpO2NvbnRpbnVlO2RlZmF1bHQ6aWYoIShuPShuPW8udHJ5cykubGVuZ3RoPjAmJm5bbi5sZW5ndGgtMV0pJiYoNj09PXJbMF18fDI9PT1yWzBdKSl7bz0wO2NvbnRpbnVlfWlmKDM9PT1yWzBdJiYoIW58fHJbMV0+blswXSYmclsxXTxuWzNdKSl7by5sYWJlbD1yWzFdO2JyZWFrfWlmKDY9PT1yWzBdJiZvLmxhYmVsPG5bMV0pe28ubGFiZWw9blsxXSxuPXI7YnJlYWt9aWYobiYmby5sYWJlbDxuWzJdKXtvLmxhYmVsPW5bMl0sby5vcHMucHVzaChyKTticmVha31uWzJdJiZvLm9wcy5wb3AoKSxvLnRyeXMucG9wKCk7Y29udGludWV9cj10LmNhbGwoZSxvKX1jYXRjaChlKXtyPVs2LGVdLGE9MH1maW5hbGx5e2k9bj0wfWlmKDUmclswXSl0aHJvdyByWzFdO3JldHVybnt2YWx1ZTpyWzBdP3JbMV06dm9pZCAwLGRvbmU6ITB9fShbcixzXSl9fX07T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIHI9aSg1KTt0Lm5leHRMZXZlbERhdGFSZWxvYWQ9ZnVuY3Rpb24oZSl7cmV0dXJuIGEodGhpcyx2b2lkIDAsdm9pZCAwLChmdW5jdGlvbigpe2Z1bmN0aW9uIHQoZSl7Zm9yKHZhciBhPTAsbj1PYmplY3QuZW50cmllcyhlKTthPG4ubGVuZ3RoO2ErKyl7dmFyIHI9blthXSxvPXJbMF0scz1yWzFdO1wib2JqZWN0XCIhPXR5cGVvZiBlW29dfHxudWxsPT1zfHxlW29dLmxlbmd0aHx8dChlW29dKSxpLmNhbGwodGhpcyxvLGUpfX1mdW5jdGlvbiBpKGUsdCl7Zm9yKHZhciBpPTAsYT1PYmplY3QuZW50cmllcyhsKTtpPGEubGVuZ3RoO2krKyl7dmFyIG49YVtpXSxyPW5bMF0sbz1uWzFdO3I9PWUmJm51bGwhPW8mJih0aGlzLmdhbWVJbml0RGF0YVtyXT1vKX19dmFyIGEsbyxzLGw7cmV0dXJuIG4odGhpcywoZnVuY3Rpb24oaSl7c3dpdGNoKGkubGFiZWwpe2Nhc2UgMDpyZXR1cm4gYT1lLmdhbWVEYXRhLmN1cnJlbnRMZXZlbCxbNCxyLnNlcnZlclJlcXVlc3Qoe2xldmVsOmEsc2hpcENvbmZpZ3VyYXRpb246MSxlbmVteVR5cGU6MX0pXTtjYXNlIDE6cmV0dXJuIG89aS5zZW50KCksbD17Z2FtZURhdGE6e2N1cnJlbnRMZXZlbDphLGN1cnJlbnRQb2ludDoocz10aGlzKS5nYW1lSW5pdERhdGEuZ2FtZURhdGEuY3VycmVudFBvaW50LHBsYXllck9iamVjdDpzLmdhbWVJbml0RGF0YS5nYW1lRGF0YS5wbGF5ZXJPYmplY3QsbGV2ZWxEYXRhOm8ubGV2ZWxEYXRhLGdhbWVTZXRpbmdzOnMuZ2FtZUluaXREYXRhLmdhbWVEYXRhLmdhbWVTZXRpbmdzLGVuZW15RGF0YTpvLmVuZW15RGF0YSxjb250cm9sbGVyczpzLmdhbWVJbml0RGF0YS5nYW1lRGF0YS5jb250cm9sbGVyc30sZW5lbXlUeXBlOm51bGwsYWxsR2FtZVNpZGVPYmplY3RzOltdLGFsbEdhbWVFbmVtaWVzOltdLGFsbEdhbWVCdWxsZXRzOltdLGFsbEdhbWVNYXBPQmplY3RzOltdLG1hcEJhY2tncm91bmRPYmplY3RzOltdLGdhbWVQYXVzZTohMSxnYW1lVWlQYXVzZTohMSxiYWNrU2NyZWVuUGF1c2U6ITAsZ2VtZUV4dHJhU2Vjb25kczowfSxzZXRUaW1lb3V0KChmdW5jdGlvbigpe3MuZ2FtZUluaXREYXRhLndhcnBPYmplY3RzPVtdLHMuZ2FtZUluaXREYXRhLnRpbWVUb0VyZXNzTGV2ZWw9NixzLmdhbWVJbml0RGF0YS5sZXZlbENoYW5nZT0hMX0pLDVlMyksdC5jYWxsKHRoaXMsdGhpcy5nYW1lSW5pdERhdGEpLFsyXX19KSl9KSl9fSxmdW5jdGlvbihlLHQsaSl7XCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIGE9aSgxKSxuPWkoMikscj1mdW5jdGlvbihlLHQsaSxhLG4scixvLHMsbCxjLHUsaCxkLG0sZyxwLGYseSx2LGIseCx3KXt0aGlzLmlkPShuZXcgRGF0ZSkuZ2V0VGltZSgpLHRoaXMueD1lLHRoaXMueT10LHRoaXMuc3g9aSx0aGlzLnN5PWEsdGhpcy5zV2lkdGg9bix0aGlzLnNIZWlnaHQ9cix0aGlzLnBpY3R1cmVzV2lkdGg9byx0aGlzLm51bWJlck9mSXRlbXM9cyx0aGlzLndpZHRoPWwsdGhpcy5oZWlnaHQ9Yyx0aGlzLnNoaXBUZXh0dXJlPWxvY2F0aW9uLm9yaWdpbitcIi9pbWFnZXMvc3BhY2VTaGlwcy9cIit1LHRoaXMuZW5lbXlTcGVlZD1oLHRoaXMuc3RhdHVzPWQsdGhpcy5uYW1lPW0sdGhpcy5idWxsZXRUeXBlTnVtYmVyPWcsdGhpcy5yYXBpZEZpcmU9cCx0aGlzLnBvaW50c1BlclVuaXQ9Zix0aGlzLmhlYWx0aFBvaW50PXksdGhpcy5hbmltYXRpb25TdGVwcz12LHRoaXMuZGFtYWdlPWIsdGhpcy5ndW5zPXcsdGhpcy5kZXRlY3RGcmFtZT0wLHRoaXMub2JqZWN0UHJlc2VudD0hMCx0aGlzLm9iamVjdE93bmVyPXgsdGhpcy5ndW5zPXd9O3QuRW5lbXlPYmplY3Q9cixyLnByb3RvdHlwZS5wbGFjZUVuZW15ZXM9YS5wbGFjZUVuZW15ZXMsci5wcm90b3R5cGUubW92ZUVuZW15ZXM9YS5tb3ZlRW5lbXllcyxyLnByb3RvdHlwZS5sb2FkRW5lbXllcz1hLmxvYWRFbmVteWVzLHIucHJvdG90eXBlLnNob290PWEuc2hvb3Qsci5wcm90b3R5cGUuZW5lbXlBbmltYXRpb249YS5lbmVteUFuaW1hdGlvbixyLnByb3RvdHlwZS5nZXRPYmplY3RQb3NpdGlvbj1uLmdldE9iamVjdFBvc2l0aW9uLHIucHJvdG90eXBlLnRha2VEYW1hZ2U9YS50YWtlRGFtYWdlfSxmdW5jdGlvbihlLHQsaSl7XCJ1c2Ugc3RyaWN0XCI7dmFyIGE9dGhpcyYmdGhpcy5fX2ltcG9ydFN0YXJ8fGZ1bmN0aW9uKGUpe2lmKGUmJmUuX19lc01vZHVsZSlyZXR1cm4gZTt2YXIgdD17fTtpZihudWxsIT1lKWZvcih2YXIgaSBpbiBlKU9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsaSkmJih0W2ldPWVbaV0pO3JldHVybiB0LmRlZmF1bHQ9ZSx0fTtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgbj1hKGkoMykpLHI9YShpKDIyKSk7dC5pbml0UGxheWVyU2hpcD1mdW5jdGlvbihlKXt2YXIgdD10aGlzO2lmKHRoaXMuY3R4KXt2YXIgaT10aGlzLmRhdGEudGV4dHVyZSxhPWUuc2hvd0dhbWVJbmZvKCkuaW1hZ2VEaXJyZWN0aW9uO3RoaXMuaW1nPW5ldyBJbWFnZSx0aGlzLmltZy5vbmxvYWQ9ZnVuY3Rpb24oKXtyZXR1cm4gdC5wbGFjZVBsYXllclNoaXAmJnQucGxhY2VQbGF5ZXJTaGlwKCksdC5pbWd9LHRoaXMuaW1nLnNyYz1hK2l9fSx0Lm1vdmVQbGF5ZXJTaGlwPWZ1bmN0aW9uKCl7dGhpcy5pbWcmJnRoaXMuY3R4JiZ0aGlzLmltZyYmci5jcmVhdGVJbWFnZSh0aGlzLmN0eCx0aGlzLmltZyx0aGlzLngtdGhpcy53aWR0aC8yLHRoaXMueS10aGlzLmhlaWdodC8yLHRoaXMud2lkdGgsdGhpcy5oZWlnaHQpfSx0LnNoaXBDb250cm9sPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMsaT1lLmdhbWVJbml0RGF0YS5nYW1lRGF0YS5nYW1lU2V0aW5ncy5rZXlDb250cm9scztkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLChmdW5jdGlvbihhKXtpZihlLmdhbWVJbml0RGF0YS5nYW1lUGF1c2UpcmV0dXJuITE7aS5kb3duLnNvbWUoKGZ1bmN0aW9uKGUpe3JldHVybiBhLmtleUNvZGU9PWV9KSkmJnQubW92ZVNoaXAoe3hQb3M6MCx5UG9zOnQuZGF0YS5zcGVlZH0pLGkubGVmdC5zb21lKChmdW5jdGlvbihlKXtyZXR1cm4gYS5rZXlDb2RlPT1lfSkpJiZ0Lm1vdmVTaGlwKHt4UG9zOi0xKnQuZGF0YS5zcGVlZCx5UG9zOjB9KSxpLnJpZ2h0LnNvbWUoKGZ1bmN0aW9uKGUpe3JldHVybiBhLmtleUNvZGU9PWV9KSkmJnQubW92ZVNoaXAoe3hQb3M6dC5kYXRhLnNwZWVkLHlQb3M6MH0pLGkudXAuc29tZSgoZnVuY3Rpb24oZSl7cmV0dXJuIGEua2V5Q29kZT09ZX0pKSYmdC5tb3ZlU2hpcCh7eFBvczowLHlQb3M6LTEqdC5kYXRhLnNwZWVkfSl9KSksZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlbW92ZVwiLChmdW5jdGlvbihpKXtpZihlLmdhbWVJbml0RGF0YS5nYW1lUGF1c2UpcmV0dXJuITE7aWYoXCJDQU5WQVNcIj09PWkudGFyZ2V0LnRhZ05hbWUmJiFlLmdhbWVJbml0RGF0YS5nYW1lUGF1c2UmJmUuZ2FtZUluaXREYXRhLmdhbWVTdGF0dXMpe3ZhciBhPWkuY2xpZW50WC1pLnRhcmdldC5vZmZzZXRMZWZ0LG49aS5jbGllbnRZLWkudGFyZ2V0Lm9mZnNldFRvcDt0LnhGaW5hbD1hJXQuZGF0YS5zcGVlZD09MD9hOnQuZGF0YS5zcGVlZCpNYXRoLmZsb29yKGEvdC5kYXRhLnNwZWVkKSx0LnlGaW5hbD1uJXQuZGF0YS5zcGVlZD09MD9uOnQuZGF0YS5zcGVlZCpNYXRoLmZsb29yKG4vdC5kYXRhLnNwZWVkKX19KSksZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsKGZ1bmN0aW9uKGkpe2lmKGUuZ2FtZUluaXREYXRhLmdhbWVQYXVzZSlyZXR1cm4hMTtmb3IodmFyIGE9ZnVuY3Rpb24oaSl7dmFyIGE9bmV3IG4uQnVsbGV0Q29uc3RydWN0KHQueCx0LnkraS5maXJlUG9zaXRpb24saS5uYW1lLGkuY29sb3IsXCJwbGF5ZXJcIixpLnNwZWVkK3QueEFkaixpLndpZHRoLGkuaGVpZ2h0LGkuZGFtYWdlLGkudHlwZSxpLnRleHR1cmUsaS5zeCxpLnN5LGkuc1dpZHRoLGkuc0hlaWdodCxpLmV4cGxvc2lvbkFuaW1hdGlvbik7YS5pbWcuc3JjPWEudGV4dHVyZSxhLmltZy5vbmxvYWQ9ZnVuY3Rpb24oKXtlLmdhbWVJbml0RGF0YS5hbGxHYW1lQnVsbGV0cz1lLmdhbWVJbml0RGF0YS5hbGxHYW1lQnVsbGV0cy5jb25jYXQoYSl9fSxyPTAsbz10LmRhdGEuZ3VucztyPG8ubGVuZ3RoO3IrKyl7YShvW3JdKX19KSl9LHQuc2hvd0luZm9ybWF0aW9uPWZ1bmN0aW9uKCl7Y29uc29sZS5sb2codGhpcyl9LHQuc2V0Q29udGV4dD1mdW5jdGlvbihlKXt0aGlzLmN0eD1lfSx0LnBsYWNlU2hpcD1mdW5jdGlvbigpe3ZhciBlPSh0aGlzLnhGaW5hbC10aGlzLngpL3RoaXMuZGF0YS5zcGVlZCx0PSh0aGlzLnlGaW5hbC10aGlzLnkpL3RoaXMuZGF0YS5zcGVlZDtlPU1hdGguc2lnbihlKT4wP2U6LTEqZSx0PU1hdGguc2lnbih0KT4wP3Q6LTEqdCxlPWU+dGhpcy5kYXRhLm1pblNwZWVkP3RoaXMuZGF0YS5taW5TcGVlZDplLHQ9dD50aGlzLmRhdGEubWluU3BlZWQ/dGhpcy5kYXRhLm1pblNwZWVkOnQsdGhpcy54QWRqPXRoaXMueD50aGlzLnhGaW5hbD8wOmUsdGhpcy54PXRoaXMueD50aGlzLnhGaW5hbD90aGlzLngtZTp0aGlzLng8dGhpcy54RmluYWw/dGhpcy54K2U6dGhpcy54RmluYWwsdGhpcy55PXRoaXMueT50aGlzLnlGaW5hbD90aGlzLnktdDp0aGlzLnk8dGhpcy55RmluYWw/dGhpcy55K3Q6dGhpcy55RmluYWx9LHQubW92ZVNoaXA9ZnVuY3Rpb24oZSl7dmFyIHQ9ZS54UG9zLGk9dm9pZCAwPT09dD8wOnQsYT1lLnlQb3Msbj12b2lkIDA9PT1hPzA6YTt0aGlzLngrPWksdGhpcy55Kz1ufX0sZnVuY3Rpb24oZSx0LGkpe1widXNlIHN0cmljdFwiO3ZhciBhPXRoaXMmJnRoaXMuX19hd2FpdGVyfHxmdW5jdGlvbihlLHQsaSxhKXtyZXR1cm4gbmV3KGl8fChpPVByb21pc2UpKSgoZnVuY3Rpb24obixyKXtmdW5jdGlvbiBvKGUpe3RyeXtsKGEubmV4dChlKSl9Y2F0Y2goZSl7cihlKX19ZnVuY3Rpb24gcyhlKXt0cnl7bChhLnRocm93KGUpKX1jYXRjaChlKXtyKGUpfX1mdW5jdGlvbiBsKGUpe3ZhciB0O2UuZG9uZT9uKGUudmFsdWUpOih0PWUudmFsdWUsdCBpbnN0YW5jZW9mIGk/dDpuZXcgaSgoZnVuY3Rpb24oZSl7ZSh0KX0pKSkudGhlbihvLHMpfWwoKGE9YS5hcHBseShlLHR8fFtdKSkubmV4dCgpKX0pKX0sbj10aGlzJiZ0aGlzLl9fZ2VuZXJhdG9yfHxmdW5jdGlvbihlLHQpe3ZhciBpLGEsbixyLG89e2xhYmVsOjAsc2VudDpmdW5jdGlvbigpe2lmKDEmblswXSl0aHJvdyBuWzFdO3JldHVybiBuWzFdfSx0cnlzOltdLG9wczpbXX07cmV0dXJuIHI9e25leHQ6cygwKSx0aHJvdzpzKDEpLHJldHVybjpzKDIpfSxcImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJihyW1N5bWJvbC5pdGVyYXRvcl09ZnVuY3Rpb24oKXtyZXR1cm4gdGhpc30pLHI7ZnVuY3Rpb24gcyhyKXtyZXR1cm4gZnVuY3Rpb24ocyl7cmV0dXJuIGZ1bmN0aW9uKHIpe2lmKGkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkdlbmVyYXRvciBpcyBhbHJlYWR5IGV4ZWN1dGluZy5cIik7Zm9yKDtvOyl0cnl7aWYoaT0xLGEmJihuPTImclswXT9hLnJldHVybjpyWzBdP2EudGhyb3d8fCgobj1hLnJldHVybikmJm4uY2FsbChhKSwwKTphLm5leHQpJiYhKG49bi5jYWxsKGEsclsxXSkpLmRvbmUpcmV0dXJuIG47c3dpdGNoKGE9MCxuJiYocj1bMiZyWzBdLG4udmFsdWVdKSxyWzBdKXtjYXNlIDA6Y2FzZSAxOm49cjticmVhaztjYXNlIDQ6cmV0dXJuIG8ubGFiZWwrKyx7dmFsdWU6clsxXSxkb25lOiExfTtjYXNlIDU6by5sYWJlbCsrLGE9clsxXSxyPVswXTtjb250aW51ZTtjYXNlIDc6cj1vLm9wcy5wb3AoKSxvLnRyeXMucG9wKCk7Y29udGludWU7ZGVmYXVsdDppZighKG49KG49by50cnlzKS5sZW5ndGg+MCYmbltuLmxlbmd0aC0xXSkmJig2PT09clswXXx8Mj09PXJbMF0pKXtvPTA7Y29udGludWV9aWYoMz09PXJbMF0mJighbnx8clsxXT5uWzBdJiZyWzFdPG5bM10pKXtvLmxhYmVsPXJbMV07YnJlYWt9aWYoNj09PXJbMF0mJm8ubGFiZWw8blsxXSl7by5sYWJlbD1uWzFdLG49cjticmVha31pZihuJiZvLmxhYmVsPG5bMl0pe28ubGFiZWw9blsyXSxvLm9wcy5wdXNoKHIpO2JyZWFrfW5bMl0mJm8ub3BzLnBvcCgpLG8udHJ5cy5wb3AoKTtjb250aW51ZX1yPXQuY2FsbChlLG8pfWNhdGNoKGUpe3I9WzYsZV0sYT0wfWZpbmFsbHl7aT1uPTB9aWYoNSZyWzBdKXRocm93IHJbMV07cmV0dXJue3ZhbHVlOnJbMF0/clsxXTp2b2lkIDAsZG9uZTohMH19KFtyLHNdKX19fSxyPXRoaXMmJnRoaXMuX19pbXBvcnRTdGFyfHxmdW5jdGlvbihlKXtpZihlJiZlLl9fZXNNb2R1bGUpcmV0dXJuIGU7dmFyIHQ9e307aWYobnVsbCE9ZSlmb3IodmFyIGkgaW4gZSlPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChlLGkpJiYodFtpXT1lW2ldKTtyZXR1cm4gdC5kZWZhdWx0PWUsdH07T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksaSgxMSk7dmFyIG89cihpKDE1KSkscz1yKGkoMykpLGw9aSgwKTshZnVuY3Rpb24oKXthKHRoaXMsdm9pZCAwLHZvaWQgMCwoZnVuY3Rpb24oKXtmdW5jdGlvbiBlKCl7cmV0dXJuIGEodGhpcyx2b2lkIDAsdm9pZCAwLChmdW5jdGlvbigpe3ZhciBlLHQsYSxvLGMsdSxoLGQsbSxnLHA7cmV0dXJuIG4odGhpcywoZnVuY3Rpb24obil7aWYoaS5nYW1lSW5pdERhdGEuY3R4VUlGaWVsZCYmbC5jbGVhckZpZWxkKGkuZ2FtZUluaXREYXRhLmN0eFVJRmllbGQsaS5nYW1lSW5pdERhdGEuc2NyZWVuLndpZHRoLGkuZ2FtZUluaXREYXRhLnNjcmVlbi5oZWlnaHQpLGkuZ2FtZUluaXREYXRhLmN0eEFjdGlvbkZpZWxkJiYhaS5nYW1lSW5pdERhdGEuZ2FtZVBhdXNlJiZsLmNsZWFyRmllbGQoaS5nYW1lSW5pdERhdGEuY3R4QWN0aW9uRmllbGQsaS5nYW1lSW5pdERhdGEuc2NyZWVuLndpZHRoLGkuZ2FtZUluaXREYXRhLnNjcmVlbi5oZWlnaHQpLGkuZ2FtZUluaXREYXRhLmJhY2tTY3JlZW5QYXVzZSYmaS5sZXZlbEluaXQocy5HYW1lQmFja2dyb3VuZCxpLmdhbWVJbml0RGF0YS5jdHgsaSksIWkuZ2FtZUluaXREYXRhLmdhbWVQYXVzZSYmaS5nYW1lSW5pdERhdGEuZ2FtZVN0YXR1cylpZigxPT1pLmdhbWVJbml0RGF0YS5nYW1lU3RhdHVzKXtpZihpLmdhbWVJbml0RGF0YS5sZXZlbENoYW5nZXx8aS5zcGF3bkVuZW15TG9naWMoaSksaS5nYW1lSW5pdERhdGEuYWxsR2FtZUJ1bGxldHMubGVuZ3RoPjApZm9yKGU9MCx0PWkuZ2FtZUluaXREYXRhLmFsbEdhbWVCdWxsZXRzO2U8dC5sZW5ndGg7ZSsrKShhPXRbZV0pLm1vdmVCdWxsZXRzKCksYS5jcmVhdGVCdWxsZXRzKGkpLGkuZGVsZXRlQnVsbGV0KGEpLGkuaGl0RGV0ZWN0aW9uKGEsaS5nYW1lSW5pdERhdGEuYWxsR2FtZUVuZW1pZXMsaSksaS5oaXREZXRlY3Rpb24ocixbYV0saSk7aWYoaS5nYW1lSW5pdERhdGEuYWxsR2FtZUVuZW1pZXMubGVuZ3RoPjApZm9yKG89MCxjPWkuZ2FtZUluaXREYXRhLmFsbEdhbWVFbmVtaWVzO288Yy5sZW5ndGg7bysrKSh1PWNbb10pLnBsYWNlRW5lbXllcyhpKSx1Lm1vdmVFbmVteWVzKCksdS5lbmVteUFuaW1hdGlvbighMCksdS5zaG9vdChzLkJ1bGxldENvbnN0cnVjdCxpKSxpLmRlbGV0ZU9iamVjdHModSk7aWYoaS5nYW1lSW5pdERhdGEuYWxsR2FtZVNpZGVPYmplY3RzLmxlbmd0aD4wKWZvcihoPTAsZD1pLmdhbWVJbml0RGF0YS5hbGxHYW1lU2lkZU9iamVjdHM7aDxkLmxlbmd0aDtoKyspKG09ZFtoXSkucGxhY2VFbmVteWVzKGkpLG0uZmlyZUFuaW1hdGlvbkVuZGVkKGkuZ2FtZUluaXREYXRhLmFsbEdhbWVTaWRlT2JqZWN0cyksaS5kZWxhdGVTaWRlT2JqZWN0KG0pO2kubGV2ZWxUaW1lcigpLHIucGxhY2VTaGlwKCksci5tb3ZlUGxheWVyU2hpcCgpfWVsc2UgaS5nYW1lSW5pdERhdGEuZ2FtZVN0YXR1cztpZighKGkuZ2FtZUluaXREYXRhLmJhY2tTY3JlZW5QYXVzZSYmaS5nYW1lSW5pdERhdGEuZ2FtZVBhdXNlJiZpLmdhbWVJbml0RGF0YS5nYW1lU3RhdHVzfHxpLmdhbWVJbml0RGF0YS5nYW1lUGF1c2UmJmkuZ2FtZUluaXREYXRhLmdhbWVTdGF0dXMpKXtmb3IoaS5nYW1lSW5pdERhdGEuY3R4JiZsLmNsZWFyRmllbGQoaS5nYW1lSW5pdERhdGEuY3R4LGkuZ2FtZUluaXREYXRhLnNjcmVlbi53aWR0aCxpLmdhbWVJbml0RGF0YS5zY3JlZW4uaGVpZ2h0KSxnPTAscD1pLmdhbWVJbml0RGF0YS5tYXBCYWNrZ3JvdW5kT2JqZWN0cztnPHAubGVuZ3RoO2crKylwW2ddLnVwZGF0ZU1hcCgpO2kuZ2FtZUluaXREYXRhLmxldmVsQ2hhbmdlJiZpLndhcnBFZmZlY3QoaSl9cmV0dXJuIGkuZ2FtZUluaXREYXRhLmdhbWVTdGF0dXN8fGkuc2hvd1N0YXJ0V2luZG93KCksaS5nYW1lSW5pdERhdGEuZ2FtZVN0YXR1cyYmaS5zaG93R2FtZVN0YXRzKCksaS5nYW1lSW5pdERhdGEuZ2FtZVBhdXNlJiZpLnNob3dQYXVzZVdpbmRvdygpLGkuZ2FtZUluaXREYXRhLmdhbWVVaVBhdXNlJiYoaS5zaG93TWVudVdpbmRvdygpLGkuc2hvd1BhdXNlV2luZG93KCkpLFsyXX0pKX0pKX12YXIgdCxpLHIsYztyZXR1cm4gbih0aGlzLChmdW5jdGlvbihhKXtzd2l0Y2goYS5sYWJlbCl7Y2FzZSAwOnJldHVybls0LG8uZ2FtZURhdGFJbml0KHMuUGxheWVyU2hpcCldO2Nhc2UgMTpyZXR1cm4gdD1hLnNlbnQoKSxbNCxuZXcgcy5HYW1lKHQuZGF0YSldO2Nhc2UgMjpyZXR1cm4gaT1hLnNlbnQoKSxyPWkuZ2FtZUluaXREYXRhLmdhbWVEYXRhLnBsYXllck9iamVjdCxzZXRJbnRlcnZhbChlLGkuZ2FtZUluaXREYXRhLmludGVydmFsQ291bnQpLGkudWlDb250cm9sbGVyKCksaS5zZXRHYW1lRmllbGRzKCksaS5nZXRTY3JlZW5TaXplKCksYz1pLnJldHVybkNvbnRleHQoKSxyLmN0eD1jLmdhbWVBY3Rpb25GaWVsZCxyLmluaXRQbGF5ZXJTaGlwKGkpLHIuc2hpcENvbnRyb2woaSksWzJdfX0pKX0pKX0oKX0sZnVuY3Rpb24oZSx0LGkpe3ZhciBhPWkoMTIpLG49aSgxMyk7XCJzdHJpbmdcIj09dHlwZW9mKG49bi5fX2VzTW9kdWxlP24uZGVmYXVsdDpuKSYmKG49W1tlLmksbixcIlwiXV0pO3ZhciByPXtpbnNlcnQ6XCJoZWFkXCIsc2luZ2xldG9uOiExfSxvPShhKG4sciksbi5sb2NhbHM/bi5sb2NhbHM6e30pO2UuZXhwb3J0cz1vfSxmdW5jdGlvbihlLHQsaSl7XCJ1c2Ugc3RyaWN0XCI7dmFyIGEsbj1mdW5jdGlvbigpe3JldHVybiB2b2lkIDA9PT1hJiYoYT1Cb29sZWFuKHdpbmRvdyYmZG9jdW1lbnQmJmRvY3VtZW50LmFsbCYmIXdpbmRvdy5hdG9iKSksYX0scj1mdW5jdGlvbigpe3ZhciBlPXt9O3JldHVybiBmdW5jdGlvbih0KXtpZih2b2lkIDA9PT1lW3RdKXt2YXIgaT1kb2N1bWVudC5xdWVyeVNlbGVjdG9yKHQpO2lmKHdpbmRvdy5IVE1MSUZyYW1lRWxlbWVudCYmaSBpbnN0YW5jZW9mIHdpbmRvdy5IVE1MSUZyYW1lRWxlbWVudCl0cnl7aT1pLmNvbnRlbnREb2N1bWVudC5oZWFkfWNhdGNoKGUpe2k9bnVsbH1lW3RdPWl9cmV0dXJuIGVbdF19fSgpLG89W107ZnVuY3Rpb24gcyhlKXtmb3IodmFyIHQ9LTEsaT0wO2k8by5sZW5ndGg7aSsrKWlmKG9baV0uaWRlbnRpZmllcj09PWUpe3Q9aTticmVha31yZXR1cm4gdH1mdW5jdGlvbiBsKGUsdCl7Zm9yKHZhciBpPXt9LGE9W10sbj0wO248ZS5sZW5ndGg7bisrKXt2YXIgcj1lW25dLGw9dC5iYXNlP3JbMF0rdC5iYXNlOnJbMF0sYz1pW2xdfHwwLHU9XCJcIi5jb25jYXQobCxcIiBcIikuY29uY2F0KGMpO2lbbF09YysxO3ZhciBoPXModSksZD17Y3NzOnJbMV0sbWVkaWE6clsyXSxzb3VyY2VNYXA6clszXX07LTEhPT1oPyhvW2hdLnJlZmVyZW5jZXMrKyxvW2hdLnVwZGF0ZXIoZCkpOm8ucHVzaCh7aWRlbnRpZmllcjp1LHVwZGF0ZXI6ZihkLHQpLHJlZmVyZW5jZXM6MX0pLGEucHVzaCh1KX1yZXR1cm4gYX1mdW5jdGlvbiBjKGUpe3ZhciB0PWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzdHlsZVwiKSxhPWUuYXR0cmlidXRlc3x8e307aWYodm9pZCAwPT09YS5ub25jZSl7dmFyIG49aS5uYztuJiYoYS5ub25jZT1uKX1pZihPYmplY3Qua2V5cyhhKS5mb3JFYWNoKChmdW5jdGlvbihlKXt0LnNldEF0dHJpYnV0ZShlLGFbZV0pfSkpLFwiZnVuY3Rpb25cIj09dHlwZW9mIGUuaW5zZXJ0KWUuaW5zZXJ0KHQpO2Vsc2V7dmFyIG89cihlLmluc2VydHx8XCJoZWFkXCIpO2lmKCFvKXRocm93IG5ldyBFcnJvcihcIkNvdWxkbid0IGZpbmQgYSBzdHlsZSB0YXJnZXQuIFRoaXMgcHJvYmFibHkgbWVhbnMgdGhhdCB0aGUgdmFsdWUgZm9yIHRoZSAnaW5zZXJ0JyBwYXJhbWV0ZXIgaXMgaW52YWxpZC5cIik7by5hcHBlbmRDaGlsZCh0KX1yZXR1cm4gdH12YXIgdSxoPSh1PVtdLGZ1bmN0aW9uKGUsdCl7cmV0dXJuIHVbZV09dCx1LmZpbHRlcihCb29sZWFuKS5qb2luKFwiXFxuXCIpfSk7ZnVuY3Rpb24gZChlLHQsaSxhKXt2YXIgbj1pP1wiXCI6YS5tZWRpYT9cIkBtZWRpYSBcIi5jb25jYXQoYS5tZWRpYSxcIiB7XCIpLmNvbmNhdChhLmNzcyxcIn1cIik6YS5jc3M7aWYoZS5zdHlsZVNoZWV0KWUuc3R5bGVTaGVldC5jc3NUZXh0PWgodCxuKTtlbHNle3ZhciByPWRvY3VtZW50LmNyZWF0ZVRleHROb2RlKG4pLG89ZS5jaGlsZE5vZGVzO29bdF0mJmUucmVtb3ZlQ2hpbGQob1t0XSksby5sZW5ndGg/ZS5pbnNlcnRCZWZvcmUocixvW3RdKTplLmFwcGVuZENoaWxkKHIpfX1mdW5jdGlvbiBtKGUsdCxpKXt2YXIgYT1pLmNzcyxuPWkubWVkaWEscj1pLnNvdXJjZU1hcDtpZihuP2Uuc2V0QXR0cmlidXRlKFwibWVkaWFcIixuKTplLnJlbW92ZUF0dHJpYnV0ZShcIm1lZGlhXCIpLHImJmJ0b2EmJihhKz1cIlxcbi8qIyBzb3VyY2VNYXBwaW5nVVJMPWRhdGE6YXBwbGljYXRpb24vanNvbjtiYXNlNjQsXCIuY29uY2F0KGJ0b2EodW5lc2NhcGUoZW5jb2RlVVJJQ29tcG9uZW50KEpTT04uc3RyaW5naWZ5KHIpKSkpLFwiICovXCIpKSxlLnN0eWxlU2hlZXQpZS5zdHlsZVNoZWV0LmNzc1RleHQ9YTtlbHNle2Zvcig7ZS5maXJzdENoaWxkOyllLnJlbW92ZUNoaWxkKGUuZmlyc3RDaGlsZCk7ZS5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShhKSl9fXZhciBnPW51bGwscD0wO2Z1bmN0aW9uIGYoZSx0KXt2YXIgaSxhLG47aWYodC5zaW5nbGV0b24pe3ZhciByPXArKztpPWd8fChnPWModCkpLGE9ZC5iaW5kKG51bGwsaSxyLCExKSxuPWQuYmluZChudWxsLGksciwhMCl9ZWxzZSBpPWModCksYT1tLmJpbmQobnVsbCxpLHQpLG49ZnVuY3Rpb24oKXshZnVuY3Rpb24oZSl7aWYobnVsbD09PWUucGFyZW50Tm9kZSlyZXR1cm4hMTtlLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoZSl9KGkpfTtyZXR1cm4gYShlKSxmdW5jdGlvbih0KXtpZih0KXtpZih0LmNzcz09PWUuY3NzJiZ0Lm1lZGlhPT09ZS5tZWRpYSYmdC5zb3VyY2VNYXA9PT1lLnNvdXJjZU1hcClyZXR1cm47YShlPXQpfWVsc2UgbigpfX1lLmV4cG9ydHM9ZnVuY3Rpb24oZSx0KXsodD10fHx7fSkuc2luZ2xldG9ufHxcImJvb2xlYW5cIj09dHlwZW9mIHQuc2luZ2xldG9ufHwodC5zaW5nbGV0b249bigpKTt2YXIgaT1sKGU9ZXx8W10sdCk7cmV0dXJuIGZ1bmN0aW9uKGUpe2lmKGU9ZXx8W10sXCJbb2JqZWN0IEFycmF5XVwiPT09T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGUpKXtmb3IodmFyIGE9MDthPGkubGVuZ3RoO2ErKyl7dmFyIG49cyhpW2FdKTtvW25dLnJlZmVyZW5jZXMtLX1mb3IodmFyIHI9bChlLHQpLGM9MDtjPGkubGVuZ3RoO2MrKyl7dmFyIHU9cyhpW2NdKTswPT09b1t1XS5yZWZlcmVuY2VzJiYob1t1XS51cGRhdGVyKCksby5zcGxpY2UodSwxKSl9aT1yfX19fSxmdW5jdGlvbihlLHQsaSl7KHQ9aSgxNCkoITEpKS5wdXNoKFtlLmksXCJib2R5e2ZvbnQtZmFtaWx5OidSb2JvdG8nO2NvbG9yOm9yYW5nZTtiYWNrZ3JvdW5kOiMzMzM7bWFyZ2luOjA7cGFkZGluZzowfWNhbnZhc3tjdXJzb3I6Y3Jvc3NoYWlyfS5nYW1lQmFja2dyb3VuZHtiYWNrZ3JvdW5kOiMwMDB9LmdhbWUtZmllbGRze3Bvc2l0aW9uOmFic29sdXRlfS5nYW1lLWZpZWxkLXdyYXBwZXJ7ZGlzcGxheTpmbGV4O2p1c3RpZnktY29udGVudDpjZW50ZXI7aGVpZ2h0OjEwMHZoO2FsaWduLWl0ZW1zOmNlbnRlcn1cXG5cIixcIlwiXSksZS5leHBvcnRzPXR9LGZ1bmN0aW9uKGUsdCxpKXtcInVzZSBzdHJpY3RcIjtlLmV4cG9ydHM9ZnVuY3Rpb24oZSl7dmFyIHQ9W107cmV0dXJuIHQudG9TdHJpbmc9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5tYXAoKGZ1bmN0aW9uKHQpe3ZhciBpPWZ1bmN0aW9uKGUsdCl7dmFyIGk9ZVsxXXx8XCJcIixhPWVbM107aWYoIWEpcmV0dXJuIGk7aWYodCYmXCJmdW5jdGlvblwiPT10eXBlb2YgYnRvYSl7dmFyIG49KG89YSxzPWJ0b2EodW5lc2NhcGUoZW5jb2RlVVJJQ29tcG9uZW50KEpTT04uc3RyaW5naWZ5KG8pKSkpLGw9XCJzb3VyY2VNYXBwaW5nVVJMPWRhdGE6YXBwbGljYXRpb24vanNvbjtjaGFyc2V0PXV0Zi04O2Jhc2U2NCxcIi5jb25jYXQocyksXCIvKiMgXCIuY29uY2F0KGwsXCIgKi9cIikpLHI9YS5zb3VyY2VzLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuXCIvKiMgc291cmNlVVJMPVwiLmNvbmNhdChhLnNvdXJjZVJvb3R8fFwiXCIpLmNvbmNhdChlLFwiICovXCIpfSkpO3JldHVybltpXS5jb25jYXQocikuY29uY2F0KFtuXSkuam9pbihcIlxcblwiKX12YXIgbyxzLGw7cmV0dXJuW2ldLmpvaW4oXCJcXG5cIil9KHQsZSk7cmV0dXJuIHRbMl0/XCJAbWVkaWEgXCIuY29uY2F0KHRbMl0sXCIge1wiKS5jb25jYXQoaSxcIn1cIik6aX0pKS5qb2luKFwiXCIpfSx0Lmk9ZnVuY3Rpb24oZSxpLGEpe1wic3RyaW5nXCI9PXR5cGVvZiBlJiYoZT1bW251bGwsZSxcIlwiXV0pO3ZhciBuPXt9O2lmKGEpZm9yKHZhciByPTA7cjx0aGlzLmxlbmd0aDtyKyspe3ZhciBvPXRoaXNbcl1bMF07bnVsbCE9byYmKG5bb109ITApfWZvcih2YXIgcz0wO3M8ZS5sZW5ndGg7cysrKXt2YXIgbD1bXS5jb25jYXQoZVtzXSk7YSYmbltsWzBdXXx8KGkmJihsWzJdP2xbMl09XCJcIi5jb25jYXQoaSxcIiBhbmQgXCIpLmNvbmNhdChsWzJdKTpsWzJdPWkpLHQucHVzaChsKSl9fSx0fX0sZnVuY3Rpb24oZSx0LGkpe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIGEoZSl7Zm9yKHZhciBpIGluIGUpdC5oYXNPd25Qcm9wZXJ0eShpKXx8KHRbaV09ZVtpXSl9T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksYShpKDUpKSxhKGkoNykpfSxmdW5jdGlvbihlLHQsaSl7XCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksdC5nZXREYXRhPWZ1bmN0aW9uKGUpe3ZhciB0PWUudXJsLGk9ZS5tZXRob2QsYT1lLmRhdGEsbj1lLmhlYWRlcnMscj1PYmplY3QuYXNzaWduKHtcIkNvbnRlbnQtVHlwZVwiOlwiYXBwbGljYXRpb24vanNvblwifSxufHwhMSk7cmV0dXJuIGZldGNoKHQse21ldGhvZDppLG1vZGU6XCJjb3JzXCIsaGVhZGVyczpyLGJvZHk6YT9KU09OLnN0cmluZ2lmeShhKTpudWxsfSkudGhlbigoZnVuY3Rpb24oZSl7cmV0dXJuIGUuanNvbigpfSkpLnRoZW4oKGZ1bmN0aW9uKGUpe3JldHVybiBlfSkpfX0sZnVuY3Rpb24oZSx0LGkpe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciBhPWkoMTgpLG49aSgxKSxyPWkoNyksbz1pKDIpLHM9aSg5KSxsPWkoMjUpLGM9aSg1KSx1PWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlKXt0aGlzLmdhbWVJbml0RGF0YT1lfXJldHVybiBlLnByb3RvdHlwZS5jaGFuZ2VMZXZlbD1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5nYW1lSW5pdERhdGEuZ2FtZURhdGEuY3VycmVudExldmVsPWUsdGhpcy5nYW1lSW5pdERhdGEuZ2FtZURhdGEuY3VycmVudExldmVsfSxlLnByb3RvdHlwZS5zaG93R2FtZUluZm89ZnVuY3Rpb24oKXtyZXR1cm57bGV2ZWxUb0NoYW5nZTp0aGlzLmdhbWVJbml0RGF0YS5nYW1lRGF0YS5jdXJyZW50TGV2ZWwsY3VycmVudFBvaW50OnRoaXMuZ2FtZUluaXREYXRhLmdhbWVEYXRhLmN1cnJlbnRQb2ludCxnYW1lRGF0YTp0aGlzLmdhbWVJbml0RGF0YS5nYW1lRGF0YSxpbWFnZURpcnJlY3Rpb246bG9jYXRpb24ub3JpZ2luK1wiL2ltYWdlcy9cIn19LGUucHJvdG90eXBlLnNob3dMZXZlbERhdGE9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nYW1lSW5pdERhdGEuZ2FtZURhdGEubGV2ZWxEYXRhfSxlLnByb3RvdHlwZS5nZXRTZXJ2ZXJMZXZlbERhdGE9ZnVuY3Rpb24oKXt9LGUucHJvdG90eXBlLnJldHVybkNvbnRleHQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nYW1lSW5pdERhdGEuZ2FtZUZpZWxkJiZ0aGlzLmdhbWVJbml0RGF0YS5nYW1lQWN0aW9uRmllbGQmJnRoaXMuZ2FtZUluaXREYXRhLmdhbWVVSUZpZWxkP3tnYW1lRmllbGQ6dGhpcy5nYW1lSW5pdERhdGEuZ2FtZUZpZWxkLGdhbWVBY3Rpb25GaWVsZDp0aGlzLmdhbWVJbml0RGF0YS5jdHhBY3Rpb25GaWVsZCxnYW1lVUlGaWVsZDp0aGlzLmdhbWVJbml0RGF0YS5nYW1lVUlGaWVsZH06bnVsbH0sZX0oKTt0LkdhbWU9dSx1LnByb3RvdHlwZS5jcmVhdGVDb250ZXh0PW8uY3JlYXRlQ29udGV4dCx1LnByb3RvdHlwZS5pbml0RmllbGQ9by5pbml0RmllbGQsdS5wcm90b3R5cGUubGV2ZWxJbml0PW8ubGV2ZWxJbml0LHUucHJvdG90eXBlLnNldEdhbWVGaWVsZHM9by5zZXRHYW1lRmllbGRzLHUucHJvdG90eXBlLndhcnBFZmZlY3Q9by53YXJwRWZmZWN0LHUucHJvdG90eXBlLmdldFNjcmVlblNpemU9by5nZXRTY3JlZW5TaXplLHUucHJvdG90eXBlLmdldExldmVsVXNlckRhdGE9by5nZXRMZXZlbFVzZXJEYXRhLHUucHJvdG90eXBlLmxldmVsVGltZXI9by5sZXZlbFRpbWVyLHUucHJvdG90eXBlLmdldFNlY29uZE1lYXN1cmU9by5nZXRTZWNvbmRNZWFzdXJlLHUucHJvdG90eXBlLmluaXRQbGF5ZXJTaGlwPXMuaW5pdFBsYXllclNoaXAsdS5wcm90b3R5cGUuZGVsZXRlQnVsbGV0PW8uZGVsZXRlQnVsbGV0LHUucHJvdG90eXBlLmRlbGV0ZU9iamVjdHM9by5kZWxldGVPYmplY3RzLHUucHJvdG90eXBlLmRlbGF0ZVNpZGVPYmplY3Q9by5kZWxhdGVTaWRlT2JqZWN0LHUucHJvdG90eXBlLmhpdERldGVjdGlvbj1uLmhpdERldGVjdGlvbix1LnByb3RvdHlwZS5jb2xsZWN0UG9pbnRzPW8uY29sbGVjdFBvaW50cyx1LnByb3RvdHlwZS5zcGF3bkVuZW15TG9naWM9YS5zcGF3bkVuZW15TG9naWMsdS5wcm90b3R5cGUuY3JlYXRlTmV3RW5lbXk9YS5jcmVhdGVOZXdFbmVteSx1LnByb3RvdHlwZS5nYW1lUmFuZG9taXplcj1hLmdhbWVSYW5kb21pemVyLHUucHJvdG90eXBlLnVpQ29udHJvbGxlcj1sLnVpQ29udHJvbGxlcix1LnByb3RvdHlwZS5nYW1lVWlQYXVzZT1sLmdhbWVVaVBhdXNlLHUucHJvdG90eXBlLmdhbWVVaU1lbnU9bC5nYW1lVWlNZW51LHUucHJvdG90eXBlLnNob3dNZW51V2luZG93PWwuc2hvd01lbnVXaW5kb3csdS5wcm90b3R5cGUuc2hvd1VpUG9wdXBXaW5kb3c9bC5zaG93VWlQb3B1cFdpbmRvdyx1LnByb3RvdHlwZS5zaG93U3RhcnRXaW5kb3c9bC5zaG93U3RhcnRXaW5kb3csdS5wcm90b3R5cGUuc2hvd1BhdXNlV2luZG93PWwuc2hvd1BhdXNlV2luZG93LHUucHJvdG90eXBlLnNob3dHYW1lU3RhdHM9bC5zaG93R2FtZVN0YXRzLHUucHJvdG90eXBlLmluaXRVaUVsZW1lbnRzPWwuaW5pdFVpRWxlbWVudHMsdS5wcm90b3R5cGUuZ2FtZVN0YXJ0PWMuZ2FtZVN0YXJ0LHUucHJvdG90eXBlLmJhY2tUb1N0YXJ0U2NyZWVuPWMuYmFja1RvU3RhcnRTY3JlZW4sdS5wcm90b3R5cGUubmV4dExldmVsRGF0YVJlbG9hZD1yLm5leHRMZXZlbERhdGFSZWxvYWQsdS5wcm90b3R5cGUuY2hhbmdlTGV2ZWxQcm9jZWR1cmU9by5jaGFuZ2VMZXZlbFByb2NlZHVyZSx1LnByb3RvdHlwZS5nZXRSYW5kb21Db2xvcj1vLmdldFJhbmRvbUNvbG9yfSxmdW5jdGlvbihlLHQsaSl7XCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIGE9aSg4KTt0LmRhcnRTaGlwTG9naWM9ZnVuY3Rpb24oKXt9LHQuc3Bhd25FbmVteUxvZ2ljPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuZ2FtZUluaXREYXRhLmdhbWVEYXRhLGk9dC5sZXZlbERhdGEsYT10LmVuZW15RGF0YTtpZighdGhpcy5nYW1lSW5pdERhdGEuZ2FtZURhdGEubGV2ZWxDaGFuZ2UmJnRoaXMuZ2FtZVJhbmRvbWl6ZXIoaS5lbmVteVByb2JhYmlsaXR5KTw9aS5lbmVteVJhbmRvbWl6ZXJJbmRleClmb3IodmFyIG49dGhpcy5nYW1lUmFuZG9taXplcihpLmVuZW15TWF4TnVtYmVyKTtuPGkuZW5lbXlNYXhOdW1iZXI7bisrKXt2YXIgcj1hW3RoaXMuZ2FtZVJhbmRvbWl6ZXIoYS5sZW5ndGgpXSxvPXRoaXMuY3JlYXRlTmV3RW5lbXkocik7by5sb2FkRW5lbXllcygpLHRoaXMuZ2FtZUluaXREYXRhLmFsbEdhbWVFbmVtaWVzPXRoaXMuZ2FtZUluaXREYXRhLmFsbEdhbWVFbmVtaWVzLmNvbmNhdChvKX19LHQuY3JlYXRlTmV3RW5lbXk9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5nYW1lSW5pdERhdGEuc2NyZWVuLndpZHRoKzMwMCxpPXRoaXMuZ2FtZVJhbmRvbWl6ZXIodGhpcy5nYW1lSW5pdERhdGEuc2NyZWVuLmhlaWdodC0yMDAsMTAwKSxuPWUuZGV0YWlscztyZXR1cm4gbmV3IGEuRW5lbXlPYmplY3QodCxpLG4uc3gsbi5zeSxuLmltYWdlV2lkdGgvbi5udW1iZXJPZkl0ZW1zLG4uaW1hZ2VIZWlnaHQsbi5pbWFnZVdpZHRoLG4ubnVtYmVyT2ZJdGVtcyxuLndpZHRoLG4uaGVpZ2h0LG4uc2tpbk5hbWUsbi5zcGVlZCxuLnN0YXR1cyxuLm5hbWUsbi5idWxsZXRUeXBlLG4ucmFwaWRGaXJlLG4ucG9pbnRzUGVyVW5pdCxuLmhlYWx0aFBvaW50LG4uYW5pbWF0aW9uU3RlcHMsbi5kYW1hZ2Usbi5vYmplY3RPd25lcixuLmd1bnMpfSx0LmdhbWVSYW5kb21pemVyPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHZvaWQgMD09PXQmJih0PTApLE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSplK3QpfX0sZnVuY3Rpb24oZSx0LGkpe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLHQuY3JlYXRlV2luZG93PWZ1bmN0aW9uKGUsdCl7dmFyIGk9dGhpcy5nZXRTY3JlZW5TaXplKCk7aS53aWR0aCxpLmhlaWdodCxlLmZpbGxSZWN0KHQueCx0LnksdC53aWR0aCx0LmhlaWdodCl9LHQuY3JlYXRlU2hhcGVSb3VuZEJvcmRlcj1mdW5jdGlvbihlKXt2YXIgdD1lLnByb3BlcnR5ZXM7dC5jdHguZmlsbFN0eWxlPXQuYmFja2dyb3VuZCx0LmN0eC5iZWdpblBhdGgoKSx0LmN0eC5tb3ZlVG8odC54K3QucmFkaXVzLHQueSksdC5jdHgubGluZVRvKHQueCt0LndpZHRoLXQucmFkaXVzLHQueSksdC5jdHgucXVhZHJhdGljQ3VydmVUbyh0LngrdC53aWR0aCx0LnksdC54K3Qud2lkdGgsdC55K3QucmFkaXVzKSx0LmN0eC5saW5lVG8odC54K3Qud2lkdGgsdC55K3QuaGVpZ2h0LXQucmFkaXVzKSx0LmN0eC5xdWFkcmF0aWNDdXJ2ZVRvKHQueCt0LndpZHRoLHQueSt0LmhlaWdodCx0LngrdC53aWR0aC10LnJhZGl1cyx0LnkrdC5oZWlnaHQpLHQuY3R4LmxpbmVUbyh0LngrdC5yYWRpdXMsdC55K3QuaGVpZ2h0KSx0LmN0eC5xdWFkcmF0aWNDdXJ2ZVRvKHQueCx0LnkrdC5oZWlnaHQsdC54LHQueSt0LmhlaWdodC10LnJhZGl1cyksdC5jdHgubGluZVRvKHQueCx0LnkrdC5yYWRpdXMpLHQuY3R4LnF1YWRyYXRpY0N1cnZlVG8odC54LHQueSx0LngrdC5yYWRpdXMsdC55KSx0LmN0eC5jbG9zZVBhdGgoKSx0LmN0eC5maWxsKCl9fSxmdW5jdGlvbihlLHQsaSl7XCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksdC53ZWFwb24xPWZ1bmN0aW9uKGUsdCl7dChlLmN0eCxcImRyYXdJbWFnZVwiLGUuaW1nLGUuc3gsZS5zeSxlLnNXaWR0aCxlLnNIZWlnaHQsZS54LGUueSxlLndpZHRoKzEwLGUuaGVpZ2h0KzEwKX0sdC53ZWFwb24xYmFja3dhcmQ9ZnVuY3Rpb24oZSx0KXt0KGUuY3R4LFwiZHJhd0ltYWdlXCIsZS5pbWcsMCwwLGUud2lkdGgsZS5oZWlnaHQsZS54LGUueSxlLndpZHRoKzEwLGUuaGVpZ2h0KzEwKX19LGZ1bmN0aW9uKGUsdCxpKXtcInVzZSBzdHJpY3RcIjt2YXIgYT10aGlzJiZ0aGlzLl9fYXNzaWdufHxmdW5jdGlvbigpe3JldHVybihhPU9iamVjdC5hc3NpZ258fGZ1bmN0aW9uKGUpe2Zvcih2YXIgdCxpPTEsYT1hcmd1bWVudHMubGVuZ3RoO2k8YTtpKyspZm9yKHZhciBuIGluIHQ9YXJndW1lbnRzW2ldKU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh0LG4pJiYoZVtuXT10W25dKTtyZXR1cm4gZX0pLmFwcGx5KHRoaXMsYXJndW1lbnRzKX07T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksdC5leHBsb3Npb25GaXJlPWZ1bmN0aW9uKGUsdCxpLG4pe2NvbnNvbGUubG9nKGUsdCxpLG4pO3ZhciByPXt4OmUueC0zMCx5OmUueS0zMCxzeDowLHN5OjAsc1dpZHRoOmUuZXhwbG9zaW9uLmltYWdlV2lkdGgvZS5leHBsb3Npb24ubnVtYmVyT2ZJdGVtcyxzSGVpZ2h0OmUuZXhwbG9zaW9uLmltYWdlSGVpZ2h0LHdpZHRoOjcwLGhlaWdodDo3MCxhbmltYXRpb25TdGVwczplLmV4cGxvc2lvbi5hbmltYXRpb25TdGVwcyx0YXJnZXQ6aS5vYmplY3RPd25lcixudW1iZXJPZkl0ZW1zOmUuZXhwbG9zaW9uLmltYWdlV2lkdGgvZS5leHBsb3Npb24ubnVtYmVyT2ZJdGVtcyx0ZXh0dXJlOmUuZXhwbG9zaW9uLnRleHR1cmUsc3BlZWQ6XCJib29zXCIhPWkub2JqZWN0T3duZXI/aS5lbmVteVNwZWVkLzI6MCxwaWN0dXJlc1dpZHRoOmUuZXhwbG9zaW9uLmltYWdlV2lkdGh9LG89bmV3IG4oYSh7fSxyKSk7by5pbWcuc3JjPW8udGV4dHVyZSxvLmltZy5vbmxvYWQ9ZnVuY3Rpb24oKXt0LmdhbWVJbml0RGF0YS5hbGxHYW1lU2lkZU9iamVjdHM9dC5nYW1lSW5pdERhdGEuYWxsR2FtZVNpZGVPYmplY3RzLmNvbmNhdChvKSxjb25zb2xlLmxvZyh0LmdhbWVJbml0RGF0YS5hbGxHYW1lU2lkZU9iamVjdHMpfX0sdC5maXJlQW5pbWF0aW9uRW5kZWQ9ZnVuY3Rpb24oZSl7dGhpcy5kZXRlY3RGcmFtZSs9MSx0aGlzLmRldGVjdEZyYW1lJXRoaXMuYW5pbWF0aW9uU3RlcHM9PTAmJih0aGlzLmRldGVjdEZyYW1lPTAsdGhpcy5zeCs9dGhpcy5zV2lkdGgsdGhpcy54LT10aGlzLnNwZWVkLHRoaXMuc3g+PXRoaXMucGljdHVyZXNXaWR0aCYmKHRoaXMub2JqZWN0UHJlc2VudD0hMSx0aGlzLnN4PTApKSx0aGlzLnN4Pj10aGlzLnBpY3R1cmVzV2lkdGgmJih0aGlzLmFuaW1hdGlvblN0YXRlPSExKX19LGZ1bmN0aW9uKGUsdCxpKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBhKGUpe2Zvcih2YXIgaSBpbiBlKXQuaGFzT3duUHJvcGVydHkoaSl8fCh0W2ldPWVbaV0pfU9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLGEoaSgwKSksYShpKDYpKSxhKGkoMjMpKX0sZnVuY3Rpb24oZSx0LGkpe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIGEoZSl7Zm9yKHZhciBpIGluIGUpdC5oYXNPd25Qcm9wZXJ0eShpKXx8KHRbaV09ZVtpXSl9T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksYShpKDYpKSxhKGkoMjQpKX0sZnVuY3Rpb24oZSx0LGkpe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLHQud2FycEVsZW1lbnQ9ZnVuY3Rpb24oKXt2YXIgZT1udWxsLmNyZWF0ZUxpbmVhckdyYWRpZW50KDAsMCwxNzAsMCk7ZS5hZGRDb2xvclN0b3AoXCIwXCIsXCJtYWdlbnRhXCIpLGUuYWRkQ29sb3JTdG9wKFwiMC41XCIsXCJibHVlXCIpLGUuYWRkQ29sb3JTdG9wKFwiMS4wXCIsXCJyZWRcIil9fSxmdW5jdGlvbihlLHQsaSl7XCJ1c2Ugc3RyaWN0XCI7dmFyIGE9dGhpcyYmdGhpcy5fX3NwcmVhZEFycmF5c3x8ZnVuY3Rpb24oKXtmb3IodmFyIGU9MCx0PTAsaT1hcmd1bWVudHMubGVuZ3RoO3Q8aTt0KyspZSs9YXJndW1lbnRzW3RdLmxlbmd0aDt2YXIgYT1BcnJheShlKSxuPTA7Zm9yKHQ9MDt0PGk7dCsrKWZvcih2YXIgcj1hcmd1bWVudHNbdF0sbz0wLHM9ci5sZW5ndGg7bzxzO28rKyxuKyspYVtuXT1yW29dO3JldHVybiBhfTtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgbj1pKDApLHI9aSgyNiksbz1pKDI3KSxzPWkoMjgpLGw9aSgyOSksYz1pKDYpLHU9aSgxKTt0LmdhbWVVaVBhdXNlPWZ1bmN0aW9uKCl7IXRoaXMuZ2FtZUluaXREYXRhLmdhbWVVaVBhdXNlJiZ0aGlzLmdhbWVJbml0RGF0YS5nYW1lU3RhdHVzJiYodGhpcy5nYW1lSW5pdERhdGEuZ2FtZVBhdXNlPSF0aGlzLmdhbWVJbml0RGF0YS5nYW1lUGF1c2UpfSx0LmdhbWVVaU1lbnU9ZnVuY3Rpb24oZSl7dGhpcy5nYW1lSW5pdERhdGEuZ2FtZVVpUGF1c2U9IXRoaXMuZ2FtZUluaXREYXRhLmdhbWVVaVBhdXNlLHRoaXMuZ2FtZUluaXREYXRhLmdhbWVQYXVzZT0hZX0sdC51aUNvbnRyb2xsZXI9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLHQ9dGhpcy5nYW1lSW5pdERhdGEuZ2FtZURhdGEuZ2FtZVNldGluZ3Mua2V5Q29udHJvbHMsaT10aGlzO2RvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsKGZ1bmN0aW9uKGEpe3QuZXNjYXBlLnNvbWUoKGZ1bmN0aW9uKGUpe3JldHVybiBhLmtleUNvZGU9PWV9KSkmJmkuZ2FtZVVpTWVudShlLmdhbWVJbml0RGF0YS5nYW1lVWlQYXVzZSksdC5wYXVzZS5zb21lKChmdW5jdGlvbihlKXtyZXR1cm4gYS5rZXlDb2RlPT1lfSkpJiZpLmdhbWVVaVBhdXNlKCl9KSksZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsKGZ1bmN0aW9uKHQpe2lmKFwiQ0FOVkFTXCI9PT10LnRhcmdldC50YWdOYW1lKXt2YXIgaT10LmNsaWVudFgtdC50YXJnZXQub2Zmc2V0TGVmdCxhPXQuY2xpZW50WS10LnRhcmdldC5vZmZzZXRUb3Asbj1udWxsLHM9ZS5nYW1lSW5pdERhdGEuY3R4VUlGaWVsZCxsPWUuZ2V0U2NyZWVuU2l6ZSgpO2Zvcih2YXIgYyBpbiAwPT1lLmdhbWVJbml0RGF0YS5nYW1lU3RhdHVzJiYobj1yLmdhbWVMb2FkTWVudShudWxsLHMsbC53aWR0aCxsLmhlaWdodCxudWxsKSksZS5nYW1lSW5pdERhdGEuZ2FtZVVpUGF1c2UmJihuPW8uZ2FtZVNldHRpbmdzTWVudShudWxsLHMsbC53aWR0aCxsLmhlaWdodCkpLG4pe2lmKHUuaGl0RGV0ZWN0aW9uKG5bY10sW10uY29uY2F0KHt4OmkseTphLHdpZHRoOjEwLGhlaWdodDoxMCxuYW1lOlwiY3Vyc29yXCJ9KSxlKSYmbltjXS5hY3Rpb24pe25bY10uYWN0aW9uLmNhbGwoZSk7YnJlYWt9fX19KSl9LHQuc2hvd1VpUG9wdXBXaW5kb3c9ZnVuY3Rpb24oKXtuLmNyZWF0ZVdpbmRvdy5jYWxsKHRoaXMpfSx0LnNob3dTdGFydFdpbmRvdz1mdW5jdGlvbigpe3ZhciBlPVtuLmNyZWF0ZVNoYXBlUm91bmRCb3JkZXIsYy51aUltYWdlLGMudWlUZXh0LGMudWlUZXh0LGMudWlUZXh0XTt0aGlzLmluaXRVaUVsZW1lbnRzKGUsci5nYW1lTG9hZE1lbnUpfSx0LnNob3dNZW51V2luZG93PWZ1bmN0aW9uKCl7dmFyIGU9W24uY3JlYXRlU2hhcGVSb3VuZEJvcmRlcixuLmNyZWF0ZVNoYXBlUm91bmRCb3JkZXIsYy51aVRleHQsYy51aVRleHRdO3RoaXMuaW5pdFVpRWxlbWVudHMoZSxvLmdhbWVTZXR0aW5nc01lbnUpfSx0LnNob3dQYXVzZVdpbmRvdz1mdW5jdGlvbigpe3ZhciBlPVtjLnVpVGV4dF07dGhpcy5pbml0VWlFbGVtZW50cyhlLHMuZ2FtZVBhdXNlKX0sdC5zaG93R2FtZVN0YXRzPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5nZXRMZXZlbFVzZXJEYXRhKCksdD1bYy51aUltYWdlLGMudWlUZXh0LGMudWlUZXh0LGMudWlUZXh0XTt0aGlzLmluaXRVaUVsZW1lbnRzKHQsbC5nYW1lSW5mb3JtYXRpb25TY3JlZW4sZSl9LHQuaW5pdFVpRWxlbWVudHM9ZnVuY3Rpb24oZSx0KXtmb3IodmFyIGk9W10sbj0yO248YXJndW1lbnRzLmxlbmd0aDtuKyspaVtuLTJdPWFyZ3VtZW50c1tuXTtmb3IodmFyIHI9dGhpcy5nYW1lSW5pdERhdGEuY3R4VUlGaWVsZCxvPXRoaXMuZ2V0U2NyZWVuU2l6ZSgpLHM9dGhpcy5zaG93R2FtZUluZm8oKS5pbWFnZURpcnJlY3Rpb24sbD10LmFwcGx5KHZvaWQgMCxhKFtudWxsLHIsby53aWR0aCxvLmhlaWdodCxzXSxpKSksYz0wO2M8bC5sZW5ndGg7YysrKWxbY10uaGFzT3duUHJvcGVydHkoXCJsb2FkUGljdHVyZVwiKSYmbFtjXS5sb2FkUGljdHVyZSgpLGxbY10uaW5pdChlW2NdKX19LGZ1bmN0aW9uKGUsdCxpKXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgYT1pKDQpO3QuZ2FtZUxvYWRNZW51PWZ1bmN0aW9uKGUsdCxpLG4scil7cmV0dXJuIGV8fFt7bmFtZTpcIlN0YXJ0IGJ1dHRvblwiLHRleHQ6XCJQcmVzcyBTdGFydCB0byBiZWdpblwiLGRlc2NyaXB0aW9uOlwiTWFpbiBzdGFydCBnYW1lIGJ1dHRvbiBpbiB0aGUgbWFpbiBsb2FkIHNjcmVlblwiLGZvbnRTaXplOlwiMzBweCBBcmlhbFwiLGNsaWNrZWQ6ITEscHJvcGVydHllczp7Y3R4OnQsd2lkdGg6NDAwLGhlaWdodDo5MCx4OmkvMi0yMDAseTpuLzIrNTAsYmFja2dyb3VuZDpcInJnYmEoMjU1LCAyNTUsIDI1NSwgMSlcIixib3JkZXJDb2xvcjpcInJnYmEoMjU1LCAyNTUsIDI1NSwgMSlcIixyYWRpdXM6NDV9LGFjdGlvbjpmdW5jdGlvbigpe3RoaXMuZ2FtZVN0YXJ0KCl9LGluaXQ6YS5pbml0LGdldE9iamVjdFBvc2l0aW9uOmEuZ2V0VUlPYmplY3RQb3NpdGlvbn0se25hbWU6XCJMb2dvdHlwZVwiLHRleHQ6XCJcIixkZXNjcmlwdGlvbjpcIkdhbWUgbG9nb3R5cGVcIixjbGlja2VkOiExLHByb3BlcnR5ZXM6e2N0eDp0LHdpZHRoOjEwMCxoZWlnaHQ6MTQwLHNXaWR0aDo1MDMsc0hlaWdodDo2NjkseDppLzItODAseTo1MCxiYWNrZ3JvdW5kOm5ldyBJbWFnZSxib3JkZXJDb2xvcjohMSxyYWRpdXM6bnVsbH0sbG9hZFBpY3R1cmU6ZnVuY3Rpb24oKXt0aGlzLnByb3BlcnR5ZXMuYmFja2dyb3VuZC5zcmM9citcIm1pc2MvbG9nby1oYWxmLXdoaXRlXzEucG5nXCJ9LGluaXQ6YS5pbml0LGdldE9iamVjdFBvc2l0aW9uOmEuZ2V0VUlPYmplY3RQb3NpdGlvbn0se25hbWU6XCJHYW1lIG5hbWVcIix0ZXh0OlwiU3BhY2VcIixkZXNjcmlwdGlvbjpcIkdhbWUgcGFydCB0aGUgbmFtZVwiLGNsaWNrZWQ6ITEsZm9udFNpemU6XCJib2xkIDEwMHB4IFJvYm90b1wiLHByb3BlcnR5ZXM6e2N0eDp0LHdpZHRoOi0yOTAsaGVpZ2h0OjAseDppLzIseTozMDAsYmFja2dyb3VuZDohMSxib3JkZXJDb2xvcjpcInJnYmEoMjU1LCAyNTUsIDI1NSwgMSlcIixyYWRpdXM6bnVsbH0saW5pdDphLmluaXQsZ2V0T2JqZWN0UG9zaXRpb246YS5nZXRVSU9iamVjdFBvc2l0aW9ufSx7bmFtZTpcIkdhbWUgbmFtZVwiLHRleHQ6XCJBdHRhY2tcIixkZXNjcmlwdGlvbjpcIkdhbWUgcGFydCB0aGUgbmFtZVwiLGNsaWNrZWQ6ITEsZm9udFNpemU6XCJsaWdodGVyIDEwMHB4IFJvYm90b1wiLHByb3BlcnR5ZXM6e2N0eDp0LHdpZHRoOjAsaGVpZ2h0OjAseDppLzIseTozMDAsYmFja2dyb3VuZDohMSxib3JkZXJDb2xvcjpcInJnYmEoMjU1LCAyNTUsIDI1NSwgMSlcIixyYWRpdXM6bnVsbH0saW5pdDphLmluaXQsZ2V0T2JqZWN0UG9zaXRpb246YS5nZXRVSU9iamVjdFBvc2l0aW9ufSx7bmFtZTpcIlN0YXJ0IGJ1dHRvblwiLHRleHQ6XCJQcmVzcyBTdGFydCB0byBiZWdpblwiLGRlc2NyaXB0aW9uOlwiVGV4dCBpbiBtYWluIGJ1dHRvblwiLGZvbnRTaXplOlwiMzBweCBSb2JvdG9cIixjbGlja2VkOiExLHByb3BlcnR5ZXM6e2N0eDp0LHdpZHRoOi0xMzAsaGVpZ2h0OjEwNSx4OmkvMix5Om4vMixiYWNrZ3JvdW5kOiExLGJvcmRlckNvbG9yOlwiIzAwN0JEMVwiLHJhZGl1czpudWxsfSxpbml0OmEuaW5pdCxnZXRPYmplY3RQb3NpdGlvbjphLmdldFVJT2JqZWN0UG9zaXRpb259XX19LGZ1bmN0aW9uKGUsdCxpKXtcInVzZSBzdHJpY3RcIjt2YXIgYT10aGlzJiZ0aGlzLl9faW1wb3J0U3Rhcnx8ZnVuY3Rpb24oZSl7aWYoZSYmZS5fX2VzTW9kdWxlKXJldHVybiBlO3ZhciB0PXt9O2lmKG51bGwhPWUpZm9yKHZhciBpIGluIGUpT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwoZSxpKSYmKHRbaV09ZVtpXSk7cmV0dXJuIHQuZGVmYXVsdD1lLHR9O09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciBuPWkoNCkscj1hKGkoMykpO3QuZ2FtZVNldHRpbmdzTWVudT1mdW5jdGlvbihlLHQsaSxhKXtyZXR1cm4gZXx8W3tuYW1lOlwibWVudSBiYWNrZ3JvdW5kXCIsdGV4dDpcIlwiLGRlc2NyaXB0aW9uOlwiYmFjayBwYXJ0IG9mIG1lbnUgXCIsZm9udFNpemU6XCIzMHB4IEFyaWFsXCIsY2xpY2tlZDohMSxwcm9wZXJ0eWVzOntjdHg6dCx3aWR0aDppLGhlaWdodDphLzIseDowLHk6YS80LGJhY2tncm91bmQ6XCJyZ2JhKDM4LCAzOCwgODYsIDEpXCIsYm9yZGVyQ29sb3I6XCJyZ2JhKDI1NSwgMjU1LCAyNTUsIDEpXCIscmFkaXVzOjV9LGluaXQ6bi5pbml0LGdldE9iamVjdFBvc2l0aW9uOm4uZ2V0VUlPYmplY3RQb3NpdGlvbn0se25hbWU6XCJCdXR0b24gZW5kIGdhbWVcIix0ZXh0OlwiXCIsZGVzY3JpcHRpb246XCJiYWNrIHRvIHN0YXJ0IHNjcmVlblwiLGZvbnRTaXplOlwiMzBweCBBcmlhbFwiLGNsaWNrZWQ6ITEscHJvcGVydHllczp7Y3R4OnQsd2lkdGg6MjAwLGhlaWdodDo1MCx4OmkvMi0xNTAseTphLzIrNTAsYmFja2dyb3VuZDpcInJnYmEoMjU1LCAyNTUsIDI1NSwgMSlcIixib3JkZXJDb2xvcjpcInJnYmEoMjU1LCAyNTUsIDI1NSwgMSlcIixyYWRpdXM6MTV9LGFjdGlvbjpmdW5jdGlvbigpe3RoaXMuYmFja1RvU3RhcnRTY3JlZW4uY2FsbCh0aGlzLHIuUGxheWVyU2hpcCl9LGluaXQ6bi5pbml0LGdldE9iamVjdFBvc2l0aW9uOm4uZ2V0VUlPYmplY3RQb3NpdGlvbn0se25hbWU6XCJ0ZXh0aW4gYnV0dG9uXCIsdGV4dDpcImdvIHRvIHN0YXJ0XCIsZGVzY3JpcHRpb246XCJUZXh0IGluIHRoZSBtZW51IGJ1dHRvblwiLGZvbnRTaXplOlwiMjVweCBSb2JvdG9cIixjbGlja2VkOiExLHByb3BlcnR5ZXM6e2N0eDp0LHdpZHRoOjQ1LGhlaWdodDowLHg6aS8yLTE1MCx5OmEvMis4MCxiYWNrZ3JvdW5kOiExLGJvcmRlckNvbG9yOlwiIzAwN0JEMVwiLHJhZGl1czpudWxsfSxpbml0Om4uaW5pdCxnZXRPYmplY3RQb3NpdGlvbjpuLmdldFVJT2JqZWN0UG9zaXRpb259LHtuYW1lOlwiTWFpbiBnYW1lIG1lbnUgbmFtZVwiLHRleHQ6XCJNZW51XCIsZGVzY3JpcHRpb246XCJUZXh0IGluIG1haW4gdG9wXCIsZm9udFNpemU6XCIyNXB4IFJvYm90b1wiLGNsaWNrZWQ6ITEscHJvcGVydHllczp7Y3R4OnQsd2lkdGg6LTQ1LGhlaWdodDowLHg6aS8yLHk6YS8zLGJhY2tncm91bmQ6ITEsYm9yZGVyQ29sb3I6XCJyZ2JhKDI1NSwgMjU1LCAyNTUsIDEpXCIscmFkaXVzOm51bGx9LGluaXQ6bi5pbml0LGdldE9iamVjdFBvc2l0aW9uOm4uZ2V0VUlPYmplY3RQb3NpdGlvbn1dfX0sZnVuY3Rpb24oZSx0LGkpe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciBhPWkoNCk7dC5nYW1lUGF1c2U9ZnVuY3Rpb24oZSx0LGksbixyKXtyZXR1cm4gZXx8W3tuYW1lOlwiUGF1c2UgdGV4dFwiLHRleHQ6XCJQYXVzZVwiLGRlc2NyaXB0aW9uOlwicGFydCBvZiBwYXVzZSB3aW5kb3dcIixmb250U2l6ZTpcIjYwcHggQXJpYWxcIixjbGlja2VkOiExLHByb3BlcnR5ZXM6e2N0eDp0LHdpZHRoOjQwMCxoZWlnaHQ6OTAseDppLzItMTUwLHk6bi8yKzUwLGJhY2tncm91bmQ6XCJyZ2JhKDI1NSwgMjU1LCAyNTUsIDEpXCIsYm9yZGVyQ29sb3I6XCJyZ2JhKDI1NSwgMjU1LCAyNTUsIDEpXCIscmFkaXVzOjQ1fSxpbml0OmEuaW5pdCxnZXRPYmplY3RQb3NpdGlvbjphLmdldFVJT2JqZWN0UG9zaXRpb259XX19LGZ1bmN0aW9uKGUsdCxpKXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgYT1pKDQpO3QuZ2FtZUluZm9ybWF0aW9uU2NyZWVuPWZ1bmN0aW9uKGUsdCxpLG4scixvKXtyZXR1cm5be25hbWU6XCJsaWZlUG9pbnRcIix0ZXh0OlwiXCIsbnVtYmVyOm8ubGlmZSxzdGVwOltvLmxpZmVdLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIDUwKmV9KSksZGVzY3JpcHRpb246XCJHYW1lIGxvZ290eXBlXCIsY2xpY2tlZDohMSxwcm9wZXJ0eWVzOntjdHg6dCx3aWR0aDo3MCxoZWlnaHQ6NzAsc1dpZHRoOjUwMCxzSGVpZ2h0OjUwMCx4OjEwLHk6MjAsYmFja2dyb3VuZDpuZXcgSW1hZ2UsYm9yZGVyQ29sb3I6ITEscmFkaXVzOm51bGx9LGxvYWRQaWN0dXJlOmZ1bmN0aW9uKCl7dGhpcy5wcm9wZXJ0eWVzLmJhY2tncm91bmQuc3JjPXIrXCJtaXNjL3J1YnkucG5nXCJ9LGluaXQ6ZnVuY3Rpb24oZSx0KXt0PXR8fHRoaXM7Zm9yKHZhciBpPUFycmF5KG8ubGlmZSkuZmlsbCgwKS5tYXAoKGZ1bmN0aW9uKGUsdCl7cmV0dXJuIDMwKnR9KSksYT0wO2E8dGhpcy5udW1iZXI7YSsrKXRoaXMucHJvcGVydHllcy54PTA9PWE/MzA6MCtpW2FdKygwIT1hPzMwOjApLGUodCl9LGdldE9iamVjdFBvc2l0aW9uOmEuZ2V0VUlPYmplY3RQb3NpdGlvbn0se25hbWU6XCJsZXZlbFwiLHRleHQ6XCJDdXJyZW50IExldmVsIFwiK28uY3VycmVudExldmVsK1wiL1wiK28uYWxsTGV2ZWxzK1wiIFwiLGRlc2NyaXB0aW9uOlwiR2FtZSBwYXJ0IHRoZSBuYW1lXCIsY2xpY2tlZDohMSxmb250U2l6ZTpcImJvbGQgMTZweCBSb2JvdG9cIixwcm9wZXJ0eWVzOntjdHg6dCx3aWR0aDowLGhlaWdodDowLHg6MzAseTo3MCxiYWNrZ3JvdW5kOiExLGJvcmRlckNvbG9yOlwicmdiYSgyNTUsIDI1NSwgMjU1LCAxKVwiLHJhZGl1czpudWxsfSxpbml0OmEuaW5pdCxnZXRPYmplY3RQb3NpdGlvbjphLmdldFVJT2JqZWN0UG9zaXRpb259LHtuYW1lOlwiVGltZSB0byBlbmQgZiBsZXZlbFwiLHRleHQ6XCJUaW1lIHRvIGVuZCBcIisoby5taW51dGVzLTEwPj0wP1wiXCI6MCkrby5taW51dGVzK1wiOlwiKyhvLnNlY29uZHMtMTA+PTA/XCJcIjowKStvLnNlY29uZHMsZGVzY3JpcHRpb246XCJHYW1lIHBhcnQgdGhlIG5hbWVcIixjbGlja2VkOiExLGZvbnRTaXplOlwibGlnaHRlciAxNnB4IFJvYm90b1wiLHByb3BlcnR5ZXM6e2N0eDp0LHdpZHRoOjUwLGhlaWdodDowLHg6aS0zMDAseTozMCxiYWNrZ3JvdW5kOiExLGJvcmRlckNvbG9yOlwicmdiYSgyNTUsIDI1NSwgMjU1LCAxKVwiLHJhZGl1czpudWxsfSxpbml0OmEuaW5pdCxnZXRPYmplY3RQb3NpdGlvbjphLmdldFVJT2JqZWN0UG9zaXRpb259LHtuYW1lOlwiR2FtZSBwb2ludHNcIix0ZXh0Om8ucG9pbnRzLGRlc2NyaXB0aW9uOlwiR2FtZSBwYXJ0IHRoZSBuYW1lXCIsY2xpY2tlZDohMSxmb250U2l6ZTpcImxpZ2h0ZXIgMThweCBSb2JvdG9cIixwcm9wZXJ0eWVzOntjdHg6dCx3aWR0aDotNTAsaGVpZ2h0OjAseDppLzIseTo1MCxiYWNrZ3JvdW5kOiExLGJvcmRlckNvbG9yOlwicmdiYSgyNTUsIDI1NSwgMjU1LCAxKVwiLHJhZGl1czpudWxsfSxpbml0OmEuaW5pdCxnZXRPYmplY3RQb3NpdGlvbjphLmdldFVJT2JqZWN0UG9zaXRpb259XX19LGZ1bmN0aW9uKGUsdCxpKXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgYT1pKDIpLG49aSgzMSkscj1mdW5jdGlvbihlLHQsaSxhLG4scil7dGhpcy54PTAsdGhpcy55PTAsdGhpcy5iYWNrZ3JvdW5kVGV4dHVyZT1lLHRoaXMuYmFja2dyb3VuZFNwZWVkPXQsdGhpcy5zY3JlZW5EYXRhPWksdGhpcy5jdHg9YSx0aGlzLng9bj8wOmkud2lkdGgsdGhpcy55PTAsdGhpcy5pbWc9bmV3IEltYWdlLHRoaXMudGltZVRvRXJlc3NMZXZlbD00LHRoaXMud2FycE9iamVjdHM9W119O3QuR2FtZUJhY2tncm91bmQ9cixyLnByb3RvdHlwZS51cGRhdGVNYXA9bi51cGRhdGVNYXAsci5wcm90b3R5cGUud2FycEVmZmVjdD1hLndhcnBFZmZlY3R9LGZ1bmN0aW9uKGUsdCxpKXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgYT1pKDApO3QudXBkYXRlTWFwPWZ1bmN0aW9uKCl7dGhpcy54LT10aGlzLmJhY2tncm91bmRTcGVlZCx0aGlzLngrdGhpcy5zY3JlZW5EYXRhLndpZHRoPDAmJih0aGlzLng9dGhpcy5zY3JlZW5EYXRhLndpZHRoKSxhLmNyZWF0ZUltYWdlKHRoaXMuY3R4LHRoaXMuaW1nLHRoaXMueCwwLHRoaXMuc2NyZWVuRGF0YS53aWR0aCsyLHRoaXMuc2NyZWVuRGF0YS5oZWlnaHQpfX0sZnVuY3Rpb24oZSx0LGkpe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciBhPWkoOSksbj1pKDIpLHI9aSgxKSxvPWZ1bmN0aW9uKGUsdCxpLGEsbixyLG8scyl7dm9pZCAwPT09biYmKG49MTAwKSx2b2lkIDA9PT1yJiYocj0xMDApLHRoaXMuZGF0YT1lLHRoaXMucG9pbnRzPXQsdGhpcy5udW1iZXJPZmxpZmU9YSx0aGlzLmhlYWx0aFBvaW50PWkrZS5hcm1vcix0aGlzLm1heEhlYWx0aD1pK2UuYXJtb3IsdGhpcy54PW4sdGhpcy55PXIsdGhpcy54RmluYWw9bix0aGlzLnlGaW5hbD1yLHRoaXMuY29sbGlzaW9uQWxsb3c9ITAsdGhpcy5vYmplY3RPd25lcj1cInBsYXllclwiLHRoaXMud2lkdGg9byx0aGlzLmhlaWdodD1zLHRoaXMueEFkaj0wfTt0LlBsYXllclNoaXA9byxvLnByb3RvdHlwZS5pbml0UGxheWVyU2hpcD1hLmluaXRQbGF5ZXJTaGlwLG8ucHJvdG90eXBlLm1vdmVQbGF5ZXJTaGlwPWEubW92ZVBsYXllclNoaXAsby5wcm90b3R5cGUuc2hpcENvbnRyb2w9YS5zaGlwQ29udHJvbCxvLnByb3RvdHlwZS5tb3ZlU2hpcD1hLm1vdmVTaGlwLG8ucHJvdG90eXBlLnBsYWNlU2hpcD1hLnBsYWNlU2hpcCxvLnByb3RvdHlwZS5zZXRDb250ZXh0PWEuc2V0Q29udGV4dCxvLnByb3RvdHlwZS5nZXRPYmplY3RQb3NpdGlvbj1uLmdldE9iamVjdFBvc2l0aW9uLG8ucHJvdG90eXBlLnRha2VEYW1hZ2U9ci50YWtlRGFtYWdlfSxmdW5jdGlvbihlLHQsaSl7XCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIGE9aSgzNCksbj1pKDIpLHI9aSgxKSxvPWZ1bmN0aW9uKGUsdCxpLGEsbixyLG8scyxsLGMsdSxoLGQsbSxnLHApe3RoaXMueD1lLHRoaXMueT10LHRoaXMuYnVsbGV0VHlwZT1pLHRoaXMuYnVsbGV0VGV4dHVyZT1hLHRoaXMub2JqZWN0T3duZXI9bix0aGlzLmJ1bGxldFNwZWVkPXIsdGhpcy53aWR0aD1vLHRoaXMuaGVpZ2h0PXMsdGhpcy5kYW1hZ2U9bCx0aGlzLmlkPShuZXcgRGF0ZSkuZ2V0VGltZSgpLHRoaXMub2JqZWN0UHJlc2VudD0hMCx0aGlzLnR5cGU9Yyx0aGlzLmltZz1uZXcgSW1hZ2UsdGhpcy50ZXh0dXJlPWxvY2F0aW9uLm9yaWdpbitcIi9pbWFnZXMvXCIrdSx0aGlzLnN4PWgsdGhpcy5zeT1kLHRoaXMuc1dpZHRoPW0sdGhpcy5zSGVpZ2h0PWcsdGhpcy5leHBsb3Npb249cH07dC5CdWxsZXRDb25zdHJ1Y3Q9byxvLnByb3RvdHlwZS5jcmVhdGVCdWxsZXRzPWEuY3JlYXRlQnVsbGV0cyxvLnByb3RvdHlwZS5pbml0QnVsbGV0cz1hLmluaXRCdWxsZXRzLG8ucHJvdG90eXBlLm1vdmVCdWxsZXRzPWEubW92ZUJ1bGxldHMsby5wcm90b3R5cGUuZ2V0T2JqZWN0UG9zaXRpb249bi5nZXRPYmplY3RQb3NpdGlvbixvLnByb3RvdHlwZS50YWtlRGFtYWdlPXIudGFrZURhbWFnZX0sZnVuY3Rpb24oZSx0LGkpe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciBhPWkoMCk7dC5jcmVhdGVCdWxsZXRzPWZ1bmN0aW9uKGUpe2EuY3JlYXRlTGFzZXJCdWxsZXQoe3NvdXJjZTp0aGlzLG9iamVjdE93bmVyOnRoaXMub2JqZWN0T3duZXIsY3R4OmUuZ2FtZUluaXREYXRhLmN0eEFjdGlvbkZpZWxkLHg6dGhpcy54LHk6dGhpcy55LGNvbG9yOnRoaXMuYnVsbGV0VGV4dHVyZSx3aWR0aDp0aGlzLndpZHRoLGhlaWdodDp0aGlzLmhlaWdodCxyYWRpdXM6NSx0eXBlOnRoaXMudHlwZSxpbWc6dGhpcy5pbWcsc3g6dGhpcy5zeCxzeTp0aGlzLnN5LHNXaWR0aDp0aGlzLnNXaWR0aCxzSGVpZ2h0OnRoaXMuc0hlaWdodH0pfSx0LmluaXRCdWxsZXRzPWZ1bmN0aW9uKCl7fSx0Lm1vdmVCdWxsZXRzPWZ1bmN0aW9uKCl7XCJwbGF5ZXJcIj09dGhpcy5vYmplY3RPd25lcj90aGlzLngrPXRoaXMuYnVsbGV0U3BlZWQ6dGhpcy54LT10aGlzLmJ1bGxldFNwZWVkfX0sZnVuY3Rpb24oZSx0LGkpe1widXNlIHN0cmljdFwiO3ZhciBhPXRoaXMmJnRoaXMuX19yZXN0fHxmdW5jdGlvbihlLHQpe3ZhciBpPXt9O2Zvcih2YXIgYSBpbiBlKU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChlLGEpJiZ0LmluZGV4T2YoYSk8MCYmKGlbYV09ZVthXSk7aWYobnVsbCE9ZSYmXCJmdW5jdGlvblwiPT10eXBlb2YgT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyl7dmFyIG49MDtmb3IoYT1PYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKGUpO248YS5sZW5ndGg7bisrKXQuaW5kZXhPZihhW25dKTwwJiZPYmplY3QucHJvdG90eXBlLnByb3BlcnR5SXNFbnVtZXJhYmxlLmNhbGwoZSxhW25dKSYmKGlbYVtuXV09ZVthW25dXSl9cmV0dXJuIGl9LG49dGhpcyYmdGhpcy5fX2ltcG9ydFN0YXJ8fGZ1bmN0aW9uKGUpe2lmKGUmJmUuX19lc01vZHVsZSlyZXR1cm4gZTt2YXIgdD17fTtpZihudWxsIT1lKWZvcih2YXIgaSBpbiBlKU9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsaSkmJih0W2ldPWVbaV0pO3JldHVybiB0LmRlZmF1bHQ9ZSx0fTtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgcj1uKGkoMzYpKSxvPWkoMjEpLHM9ZnVuY3Rpb24oZSl7dmFyIHQ9YShlLFtdKTt0aGlzLng9dC54LHRoaXMueT10LnksdGhpcy5zeD10LnN4LHRoaXMuc3k9dC5zeSx0aGlzLnNXaWR0aD10LnNXaWR0aCx0aGlzLnNIZWlnaHQ9dC5zSGVpZ2h0LHRoaXMud2lkdGg9dC53aWR0aCx0aGlzLmhlaWdodD10LmhlaWdodCx0aGlzLmltZz1uZXcgSW1hZ2UsdGhpcy50ZXh0dXJlPWxvY2F0aW9uLm9yaWdpbitcIi9pbWFnZXMvXCIrdC50ZXh0dXJlLHRoaXMuYW5pbWF0aW9uU3RlcHM9dC5hbmltYXRpb25TdGVwcyx0aGlzLm51bWJlck9mSXRlbXM9dC5udW1iZXJPZkl0ZW1zLHRoaXMudGFyZ2V0PXQudGFyZ2V0LHRoaXMuYW5pbWF0aW9uU3RhdGU9ITAsdGhpcy5kZXRlY3RGcmFtZT0wLHRoaXMub2JqZWN0UHJlc2VudD0hMCx0aGlzLnNwZWVkPXQuc3BlZWQsdGhpcy5waWN0dXJlc1dpZHRoPXQucGljdHVyZXNXaWR0aH07dC5TaWRlT2JqZWN0PXMscy5wcm90b3R5cGUuZW5lbXlBbmltYXRpb249ci5lbmVteUFuaW1hdGlvbixzLnByb3RvdHlwZS5wbGFjZUVuZW15ZXM9ci5wbGFjZUVuZW15ZXMscy5wcm90b3R5cGUuZmlyZUFuaW1hdGlvbkVuZGVkPW8uZmlyZUFuaW1hdGlvbkVuZGVkfSxmdW5jdGlvbihlLHQsaSl7XCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksZnVuY3Rpb24oZSl7Zm9yKHZhciBpIGluIGUpdC5oYXNPd25Qcm9wZXJ0eShpKXx8KHRbaV09ZVtpXSl9KGkoMSkpfV0pOyJdLCJtYXBwaW5ncyI6IkFBQUEiLCJzb3VyY2VSb290IjoiIn0=