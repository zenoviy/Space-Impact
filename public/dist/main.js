!function(e){var t={};function i(a){if(t[a])return t[a].exports;var n=t[a]={i:a,l:!1,exports:{}};return e[a].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=e,i.c=t,i.d=function(e,t,a){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(i.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)i.d(a,n,function(t){return e[t]}.bind(null,n));return a},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/public/dist",i(i.s=12)}([function(e,t,i){var a=this&&this.__spreadArrays||function(){for(var e=0,t=0,i=arguments.length;t<i;t++)e+=arguments[t].length;var a=Array(e),n=0;for(t=0;t<i;t++)for(var o=arguments[t],r=0,s=o.length;r<s;r++,n++)a[n]=o[r];return a},n=(i(17).ERROR_LIST,i(18).uiWindowModules),o=i(19).weaponModules;function r(e,t){for(var i=[],a=2;a<arguments.length;a++)i[a-2]=arguments[a];e[t].apply(e,i)}function s(e,t,i){r(e,"clearRect",0,0,t,i)}e.exports.viewModules={clearField:s,draw:r,createLaserBullet:function(e){if(!e.ctx)return new Error("no context");"player"==e.objectOwner&&1==e.type&&o.weapon1forward(e,r),"enemy"==e.objectOwner&&1==e.type&&o.weapon1backward(e,r)},clear:s,createImage:function(e,t){for(var i=[],n=2;n<arguments.length;n++)i[n-2]=arguments[n];r.apply(void 0,a([e,"drawImage",t],i))},createWindow:n.createWindow,createShapeRoundBorder:n.createShapeRoundBorder}},function(e,t,i){var a=this&&this.__spreadArrays||function(){for(var e=0,t=0,i=arguments.length;t<i;t++)e+=arguments[t].length;var a=Array(e),n=0;for(t=0;t<i;t++)for(var o=arguments[t],r=0,s=o.length;r<s;r++,n++)a[n]=o[r];return a},n=i(0).viewModules;i(3).levelConstructor;e.exports.gameMethods={initField:function(e,t){void 0===e&&(e=window.innerWidth),void 0===t&&(t=window.innerHeight);var i=[].concat(this.gameInitData.gameField,this.gameInitData.gameActionField,this.gameInitData.gameUIField);if(!i)throw Error(ERROR_LIST.noObject);for(var a=0,n=i;a<n.length;a++){var o=n[a];o=Object.assign(o,{width:e-4,height:t-4})}},warpEffect:function(){var e=this.getScreenSize(),t=this.gameInitData.ctx,i=this.gameInitData.warpObjects;if(this.getSecondMeasure((function(e){e>=0&&(e-=1)}),{timeToEressLevel:this.gameInitData.timeToEressLevel,ctx:t,screenSiz:this.getScreenSize()}),console.log(t,i),alert(1),this.gameInitData.warpObjects=i.length<350?this.gameInitData.warpObjects.concat({x:e.width,y:this.gameRandomizer(e.height),height:this.gameRandomizer(20,10),width:10,speed:this.gameRandomizer(10,5),background:this.getRandomColor()}):this.gameInitData.warpObjects,i.length>0)for(var a=0,o=i;a<o.length;a++){var r=o[a];r.x-=r.x>0?r.speed:0,r.width=i.length<150?r.width-r.speed:i.length>150&&i.length<350?r.width+r.speed:r.width-r.speed,t.fillStyle=r.background,n.draw(t,"fillRect",r.x,r.y,r.width,r.height),t.fill()}},setGameFields:function(){this.initField(),this.createContext(),this.initPlayerShip()},levelInit:function(e,t,i){var a=this.showLevelData(),n=(a.levelMap,a.levelBackgroundElements);i.gameInitData.backScreenPause=!1;for(var o=0,r=n;o<r.length;o++){var s=r[o],l=new e(s.levelMap,s.speed,this.gameInitData.screen,t,this.gameInitData.mapBackgroundObjects.length%2==0||null);i.gameInitData.mapBackgroundObjects=i.gameInitData.mapBackgroundObjects.concat(l),l.img.src=location.origin+"/images/"+l.backgroundTexture}},createContext:function(){this.gameInitData.ctx=this.gameInitData.gameField.getContext("2d"),this.gameInitData.ctxActionField=this.gameInitData.gameActionField.getContext("2d"),this.gameInitData.ctxUIField=this.gameInitData.gameUIField.getContext("2d")},getScreenSize:function(){return{width:this.gameInitData.screen.width,height:this.gameInitData.screen.height}},getRandomColor:function(){for(var e="#",t=0;t<6;t++)e+="0123456789ABCDEF"[Math.floor(16*Math.random())];return e},getLevelUserData:function(){var e=this.gameInitData.gameData,t=e.levelData.levelDetails;return{sourse:e,currentLevel:e.currentLevel,allLevels:e.levelData.allLevels,points:e.currentPoint,life:e.playerObject.numberOflife,minutes:t.levelMinutes,seconds:t.levelSeconds}},changeLevelProcedure:function(){var e=this.showLevelData();this.changeLevel(e.level+1)<=e.allLevels?this.nextLevelDataReload(e):alert("Win Game Screen ")},levelTimer:function(){var e=this.getLevelUserData();e.sourse.levelData.levelDetails,this.gameInitData.levelChange||this.getSecondMeasure((function(e){e.levelSeconds<=0&&(e.levelMinutes=e.levelMinutes>0?e.levelMinutes-1:0,0==e.levelMinutes&&0==e.levelSeconds&&(e.levelSeconds=0,this.gameInitData.levelChange=!0,this.changeLevelProcedure()));e.levelSeconds=e.levelSeconds>0?e.levelSeconds-1:this.gameInitData.levelChange?0:59}),e.sourse.levelData.levelDetails)},getSecondMeasure:function(e){for(var t=[],i=1;i<arguments.length;i++)t[i-1]=arguments[i];this.gameInitData.gemeExtraSeconds+=1;var n=1e3/this.gameInitData.intervalCount;if(this.gameInitData.gemeExtraSeconds%n==0)return this.gameInitData.gemeExtraSeconds=0,e?e.call.apply(e,a([this],t)):n},deleteBullet:function(e){if(e.x>this.gameInitData.screen.width||e.x<-1*e.width||!e.objectPresent){var t=this.gameInitData.allGameBullets.indexOf(e);this.gameInitData.allGameBullets.splice(t,1)}},deleteObjects:function(e){if(e.x+e.sWidth<0||!e.objectPresent){var t=this.gameInitData.allGameEnemies.indexOf(e);this.gameInitData.allGameEnemies.splice(t,1)}},getObjectPosition:function(){return{x:this.x,y:this.y,width:this.width,height:this.height}},collectPoints:function(e){this.gameInitData.gameData.currentPoint+=e}}},function(e,t,i){var a=this&&this.__awaiter||function(e,t,i,a){return new(i||(i=Promise))((function(n,o){function r(e){try{l(a.next(e))}catch(e){o(e)}}function s(e){try{l(a.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?n(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(r,s)}l((a=a.apply(e,t||[])).next())}))},n=this&&this.__generator||function(e,t){var i,a,n,o,r={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(i)throw new TypeError("Generator is already executing.");for(;r;)try{if(i=1,a&&(n=2&o[0]?a.return:o[0]?a.throw||((n=a.return)&&n.call(a),0):a.next)&&!(n=n.call(a,o[1])).done)return n;switch(a=0,n&&(o=[2&o[0],n.value]),o[0]){case 0:case 1:n=o;break;case 4:return r.label++,{value:o[1],done:!1};case 5:r.label++,a=o[1],o=[0];continue;case 7:o=r.ops.pop(),r.trys.pop();continue;default:if(!(n=(n=r.trys).length>0&&n[n.length-1])&&(6===o[0]||2===o[0])){r=0;continue}if(3===o[0]&&(!n||o[1]>n[0]&&o[1]<n[3])){r.label=o[1];break}if(6===o[0]&&r.label<n[1]){r.label=n[1],n=o;break}if(n&&r.label<n[2]){r.label=n[2],r.ops.push(o);break}n[2]&&r.ops.pop(),r.trys.pop();continue}o=t.call(e,r)}catch(e){o=[6,e],a=0}finally{i=n=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},o=i(0).viewModules;i(6).bulletModule;e.exports.enemiesModel={placeEnemyes:function(e){o.createImage(e.gameInitData.ctxActionField,this.img,this.sx,this.sy,this.sWidth,this.sHeight,this.x,this.y,this.width,this.height)},moveEnemyes:function(e,t){void 0===t&&(t=0),this.x-=this.enemySpeed,this.y-=t},loadEnemyes:function(){this.img=new Image,this.img.src=this.shipTexture},shoot:function(e,t){if(t.gameInitData.gamePause)return!1;if(t.gameRandomizer(Math.pow(this.rapidFire,2))<t.gameRandomizer(this.rapidFire))for(var i=0,a=this.guns;i<a.length;i++){var n=a[i],o=new e(this.x,this.y+n.firePosition,n.name,n.color,"enemy",n.speed+this.enemySpeed,n.width,n.height,n.damage,n.type);t.gameInitData.allGameBullets=t.gameInitData.allGameBullets.concat(o)}},enemyAnimation:function(){this.detectFrame+=1,this.detectFrame%this.animationSteps==0&&(this.detectFrame=0,this.sx+=this.sWidth,this.sx>=this.picturesWidth&&(this.sx=0))},hitDetection:function(e,t,i){for(var a=null,n=0,o=t;n<o.length;n++){var r=o[n],s=e.getObjectPosition.call(e),l=Math.max(s.x,r.x),c=Math.max(s.y,r.y),u=Math.min(s.x+(e.width||s.width),r.x+r.width)-l,h=Math.min(s.y+(e.height||s.height),r.y+r.height)-c;if("collision"==(a=!(Math.sign(u)<0||Math.sign(h)<0)&&"collision")){e.takeDamage&&r.takeDamage&&(e.takeDamage(r.damage?r.damage:0,r,i),r.takeDamage(e.damage?e.damage:0,e,i));break}}return"collision"==a&&e},takeDamage:function(e,t,i){return a(this,void 0,void 0,(function(){function a(t){if(this.healthPoint-=e,this.healthPoint<=0)return t&&t.life>0?(t.sourse.playerObject.numberOflife-=1,t.sourse.playerObject.numberOflife<=0&&(alert("Game Over"),i.backToStartScreen()),this.healthPoint=t.sourse.playerObject.maxHealth,!1):(i.collectPoints(this.pointsPerUnit),this.objectPresent=!1)}return n(this,(function(e){if(this.hasOwnProperty("bulletType")&&"enemy"==this.objectOwner&&"player"==t.objectOwner||this.hasOwnProperty("bulletType")&&"player"==this.objectOwner&&"enemy"==t.objectOwner)return[2,this.objectPresent=!1];if(this.hasOwnProperty("healthPoint")&&"enemy"==this.objectOwner&&"player"==t.objectOwner)a.call(this);else{if(!this.hasOwnProperty("healthPoint")||"player"!=this.objectOwner||"enemy"!=t.objectOwner)return[2,!1];this.collisionAllow&&a.call(this,i.getLevelUserData())}return[2]}))}))}}},function(e,t,i){i(0).viewModules,i(1).gameMethods,i(4).playerShipModule;var a=i(21).backgroundMapModule,n=function(e,t,i,a,n,o){this.x=0,this.y=0,this.backgroundTexture=e,this.backgroundSpeed=t,this.screenData=i,this.ctx=a,this.x=n?0:i.width,this.y=0,this.img=new Image,this.timeToEressLevel=4,this.warpObjects=[]};n.prototype.updateMap=a.updateMap,n.prototype.warpEffect=a.warpEffect,e.exports.levelConstructor={GameBackground:n}},function(e,t,i){var a=i(0).viewModules,n=(i(3).levelConstructor,i(6).bulletModule);e.exports.playerShipModule={movePlayerShip:function(){this.img&&this.ctx&&this.img&&a.createImage(this.ctx,this.img,this.x-this.width/2,this.y-this.height/2,this.width,this.height)},initPlayerShip:function(e){var t=this;if(this.ctx){var i=this.data.texture,a=e.serverLocation.picturesDirection;this.img=new Image,this.img.onload=function(){return t.placePlayerShip&&t.placePlayerShip(),t.img},this.img.src=a+i}},shipControl:function(e){var t=this,i=e.gameInitData.gameData.gameSetings.keyControls;document.addEventListener("keydown",(function(a){if(e.gameInitData.gamePause)return!1;i.down.some((function(e){return a.keyCode==e}))&&t.moveShip({xPos:0,yPos:t.data.speed}),i.left.some((function(e){return a.keyCode==e}))&&t.moveShip({xPos:-1*t.data.speed,yPos:0}),i.right.some((function(e){return a.keyCode==e}))&&t.moveShip({xPos:t.data.speed,yPos:0}),i.up.some((function(e){return a.keyCode==e}))&&t.moveShip({xPos:0,yPos:-1*t.data.speed})})),document.addEventListener("mousemove",(function(i){if(e.gameInitData.gamePause)return!1;if("CANVAS"===i.target.tagName&&!e.gameInitData.gamePause&&e.gameInitData.gameStatus){var a=i.clientX-i.target.offsetLeft,n=i.clientY-i.target.offsetTop;t.xFinal=a%t.data.speed==0?a:t.data.speed*Math.floor(a/t.data.speed),t.yFinal=n%t.data.speed==0?n:t.data.speed*Math.floor(n/t.data.speed)}})),document.addEventListener("click",(function(i){if(e.gameInitData.gamePause)return!1;for(var a=0,o=t.data.guns;a<o.length;a++){var r=o[a],s=new n.BulletConstruct(t.x,t.y+r.firePosition,r.name,r.color,"player",r.speed+t.xAdj,r.width,r.height,r.damage,r.type);e.gameInitData.allGameBullets=e.gameInitData.allGameBullets.concat(s)}}))},moveShip:function(e){var t=e.xPos,i=void 0===t?0:t,a=e.yPos,n=void 0===a?0:a;this.x+=i,this.y+=n},placeShip:function(){var e=(this.xFinal-this.x)/this.data.speed,t=(this.yFinal-this.y)/this.data.speed;e=Math.sign(e)>0?e:-1*e,t=Math.sign(t)>0?t:-1*t,e=e>this.data.minSpeed?this.data.minSpeed:e,t=t>this.data.minSpeed?this.data.minSpeed:t,this.xAdj=this.x>this.xFinal?0:e,this.x=this.x>this.xFinal?this.x-e:this.x<this.xFinal?this.x+e:this.xFinal,this.y=this.y>this.yFinal?this.y-t:this.y<this.yFinal?this.y+t:this.yFinal},setContext:function(e){this.ctx=e},showInformation:function(){console.log(this)}}},function(e,t){e.exports.uiModelsMethods={init:function(e,t){e(t=t||this)},getUIObjectPosition:function(){return{x:this.propertyes.x,y:this.propertyes.y,width:this.propertyes.width,height:this.propertyes.height}}}},function(e,t,i){var a=i(20).bulletsModule,n=i(1).gameMethods,o=i(2).enemiesModel,r=function(e,t,i,a,n,o,r,s,l,c){this.x=e,this.y=t,this.bulletType=i,this.bulletTexture=a,this.objectOwner=n,this.bulletSpeed=o,this.width=r,this.height=s,this.damage=l,this.id=(new Date).getTime(),this.objectPresent=!0,this.type=c};r.prototype.createBullets=a.createBullets,r.prototype.initBullets=a.initBullets,r.prototype.moveBullets=a.moveBullets,r.prototype.getObjectPosition=n.getObjectPosition,r.prototype.takeDamage=o.takeDamage,e.exports.bulletModule={BulletConstruct:r}},function(e,t,i){var a=i(5).uiModelsMethods;e.exports.uiStateModules={gameLoadMenu:function(e,t,i,n,o){return e||[{name:"Start button",text:"Press Start to begin",description:"Main start game button in the main load screen",fontSize:"30px Arial",clicked:!1,propertyes:{ctx:t,width:400,height:90,x:i/2-150,y:n/2+50,background:"rgba(255, 255, 255, 1)",borderColor:"rgba(255, 255, 255, 1)",radius:45},action:function(){this.gameStart()},init:a.init,getObjectPosition:a.getUIObjectPosition},{name:"Logotype",text:"",description:"Game logotype",clicked:!1,propertyes:{ctx:t,width:100,height:140,sWidth:503,sHeight:669,x:i/2-50,y:50,background:new Image,borderColor:!1,radius:null},loadPicture:function(){this.propertyes.background.src=o+"misc/logo-half-white_1.png"},init:a.init,getObjectPosition:a.getUIObjectPosition},{name:"Game name",text:"Space",description:"Game part the name",clicked:!1,fontSize:"bold 100px Roboto",propertyes:{ctx:t,width:-240,height:0,x:i/2,y:300,background:!1,borderColor:"rgba(255, 255, 255, 1)",radius:null},init:a.init,getObjectPosition:a.getUIObjectPosition},{name:"Game name",text:"Attack",description:"Game part the name",clicked:!1,fontSize:"lighter 100px Roboto",propertyes:{ctx:t,width:50,height:0,x:i/2,y:300,background:!1,borderColor:"rgba(255, 255, 255, 1)",radius:null},init:a.init,getObjectPosition:a.getUIObjectPosition},{name:"Start button",text:"Press Start to begin",description:"Text in main button",fontSize:"30px Roboto",clicked:!1,propertyes:{ctx:t,width:-90,height:105,x:i/2,y:n/2,background:!1,borderColor:"#007BD1",radius:null},init:a.init,getObjectPosition:a.getUIObjectPosition}]}}},function(e,t,i){i(0).viewModules;var a=i(4).playerShipModule,n=i(1).gameMethods,o=i(2).enemiesModel,r=function(e,t,i,a,n,o,r,s){void 0===n&&(n=100),void 0===o&&(o=100),this.data=e,this.points=t,this.numberOflife=a,this.healthPoint=i+e.armor,this.maxHealth=i+e.armor,this.x=n,this.y=o,this.xFinal=n,this.yFinal=o,this.collisionAllow=!0,this.objectOwner="player",this.width=r,this.height=s,this.xAdj=0};r.prototype.initPlayerShip=a.initPlayerShip,r.prototype.movePlayerShip=a.movePlayerShip,r.prototype.shipControl=a.shipControl,r.prototype.moveShip=a.moveShip,r.prototype.placeShip=a.placeShip,r.prototype.setContext=a.setContext,r.prototype.getObjectPosition=n.getObjectPosition,r.prototype.takeDamage=o.takeDamage,e.exports.playerModules={PlayerShip:r}},function(e,t,i){i(0).viewModules;var a=i(1).gameMethods,n=i(4).playerShipModule,o=i(22).regularAiModule,r=i(2).enemiesModel,s=i(24).uiModules,l=i(10).startGameModules,c=i(29).levelDataReload,u=function(){function e(e,t){this.gameInitData=e,this.serverLocation=t,this.gameInitData=e,this.serverLocation=t}return e.prototype.changeLevel=function(e){return this.gameInitData.gameData.currentLevel=e,this.gameInitData.gameData.currentLevel},e.prototype.showGameInfo=function(){return{currentLevel:this.gameInitData.gameData.currentLevel,currentPoint:this.gameInitData.gameData.currentPoint}},e.prototype.showLevelData=function(){return this.gameInitData.gameData.levelData},e.prototype.getServerLevelData=function(){},e.prototype.returnContext=function(){return this.gameInitData.gameField&&this.gameInitData.gameActionField&&this.gameInitData.gameUIField?{gameField:this.gameInitData.gameField,gameActionField:this.gameInitData.ctxActionField,gameUIField:this.gameInitData.gameUIField}:null},e}();u.prototype.createContext=a.createContext,u.prototype.initField=a.initField,u.prototype.levelInit=a.levelInit,u.prototype.setGameFields=a.setGameFields,u.prototype.warpEffect=a.warpEffect,u.prototype.getScreenSize=a.getScreenSize,u.prototype.getLevelUserData=a.getLevelUserData,u.prototype.levelTimer=a.levelTimer,u.prototype.getSecondMeasure=a.getSecondMeasure,u.prototype.initPlayerShip=n.initPlayerShip,u.prototype.placePlayerShip=n.placePlayerShip,u.prototype.deleteBullet=a.deleteBullet,u.prototype.deleteObjects=a.deleteObjects,u.prototype.hitDetection=r.hitDetection,u.prototype.collectPoints=a.collectPoints,u.prototype.spawnEnemyLogic=o.spawnEnemyLogic,u.prototype.createNewEnemy=o.createNewEnemy,u.prototype.gameRandomizer=o.gameRandomizer,u.prototype.uiController=s.uiController,u.prototype.gameUiPause=s.gameUiPause,u.prototype.gameUiMenu=s.gameUiMenu,u.prototype.showMenuWindow=s.showMenuWindow,u.prototype.showUiPopupWindow=s.showUiPopupWindow,u.prototype.showStartWindow=s.showStartWindow,u.prototype.showPauseWindow=s.showPauseWindow,u.prototype.showGameStats=s.showGameStats,u.prototype.initUiElements=s.initUiElements,u.prototype.gameStart=l.gameStart,u.prototype.backToStartScreen=l.backToStartScreen,u.prototype.nextLevelDataReload=c.nextLevelDataReload,u.prototype.changeLevelProcedure=a.changeLevelProcedure,u.prototype.getRandomColor=a.getRandomColor,e.exports.gameModule={Game:u}},function(e,t,i){var a=this&&this.__awaiter||function(e,t,i,a){return new(i||(i=Promise))((function(n,o){function r(e){try{l(a.next(e))}catch(e){o(e)}}function s(e){try{l(a.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?n(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(r,s)}l((a=a.apply(e,t||[])).next())}))},n=this&&this.__generator||function(e,t){var i,a,n,o,r={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(i)throw new TypeError("Generator is already executing.");for(;r;)try{if(i=1,a&&(n=2&o[0]?a.return:o[0]?a.throw||((n=a.return)&&n.call(a),0):a.next)&&!(n=n.call(a,o[1])).done)return n;switch(a=0,n&&(o=[2&o[0],n.value]),o[0]){case 0:case 1:n=o;break;case 4:return r.label++,{value:o[1],done:!1};case 5:r.label++,a=o[1],o=[0];continue;case 7:o=r.ops.pop(),r.trys.pop();continue;default:if(!(n=(n=r.trys).length>0&&n[n.length-1])&&(6===o[0]||2===o[0])){r=0;continue}if(3===o[0]&&(!n||o[1]>n[0]&&o[1]<n[3])){r.label=o[1];break}if(6===o[0]&&r.label<n[1]){r.label=n[1],n=o;break}if(n&&r.label<n[2]){r.label=n[2],r.ops.push(o);break}n[2]&&r.ops.pop(),r.trys.pop();continue}o=t.call(e,r)}catch(e){o=[6,e],a=0}finally{i=n=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},o=(i(3).levelConstructor,i(8).playerModules),r=(i(9).gameModule,i(1).engineModule,i(11).serverModules);i(2).enemies,i(0).viewModules,i(7).uiStateModules;function s(){return a(this,void 0,void 0,(function(){var e,t,i,a,s,l,c,u;return n(this,(function(n){switch(n.label){case 0:return e=document.querySelector("#gamefield"),t=document.querySelector("#gameObjectsfield"),i=document.querySelector("#gameUifield"),a={host:"localhost"===document.location.hostname?"http://localhost:3000/":"",picturesDirection:location.origin+"/images/",levelData:{method:"GET",url:"api/level-data"},gameSetings:{method:"GET",url:"api/game-ettings"},userShip:{method:"GET",url:"api/user-ship"},enemylData:{method:"GET",url:"api/enemy-ship"}},[4,r.getData({url:a.host+a.levelData.url,method:a.levelData.method,data:null,headers:{maplevel:1}})];case 1:return s=n.sent(),[4,r.getData({url:a.host+a.gameSetings.url,method:a.gameSetings.method,data:null,headers:null})];case 2:return l=n.sent(),[4,r.getData({url:a.host+a.userShip.url,method:a.userShip.method,data:null,headers:{usership:1}})];case 3:return c=n.sent(),[4,r.getData({url:a.host+a.enemylData.url,method:a.enemylData.method,data:null,headers:{"ship-type-number":1}})];case 4:return u=n.sent(),[2,{data:{ctx:null,gameField:e||null,gameActionField:t||null,gameUIField:i||null,gameData:{currentLevel:1,currentPoint:0,playerObject:new o.PlayerShip(c,0,300,5,100,100,c.size.width,c.size.height),levelData:s,gameSetings:l,enemyData:u,controllers:null},screen:{width:window.innerWidth,height:window.innerHeight},intervalCount:20,enemyType:null,allGameEnemies:[],allGameBullets:[],allGameMapOBjects:[],mapBackgroundObjects:[],warpObjects:[],timeToEressLevel:4,levelChange:!1,gamePause:!1,gameUiPause:!1,backScreenPause:!0,gameStatus:!1,gemeExtraSeconds:0},locations:a}]}}))}))}e.exports.startGameModules={gameDataInit:s,gameEngine:function(e){return a(this,void 0,void 0,(function(){return n(this,(function(e){return[2]}))}))},gameStart:function(){this.gameInitData.gameStatus=!0},backToStartScreen:function(){return a(this,void 0,void 0,(function(){var e,t,i,a,o,r;return n(this,(function(n){switch(n.label){case 0:return[4,s()];case 1:for(e=n.sent(),t=0,i=Object.entries(e.data);t<i.length;t++)a=i[t],o=a[0],null!==(r=a[1])&&(this.gameInitData[o]=r);return this.gameInitData.gameStatus=!1,[2]}}))}))}}},function(e,t){e.exports.serverModules={getData:function(e){var t=e.url,i=e.method,a=e.data,n=e.headers,o=Object.assign({"Content-Type":"application/json"},n||!1);return fetch(t,{method:i,mode:"cors",headers:o,body:a?JSON.stringify(a):null}).then((function(e){return e.json()})).then((function(e){return e}))}}},function(e,t,i){"use strict";var a=this&&this.__awaiter||function(e,t,i,a){return new(i||(i=Promise))((function(n,o){function r(e){try{l(a.next(e))}catch(e){o(e)}}function s(e){try{l(a.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?n(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(r,s)}l((a=a.apply(e,t||[])).next())}))},n=this&&this.__generator||function(e,t){var i,a,n,o,r={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(i)throw new TypeError("Generator is already executing.");for(;r;)try{if(i=1,a&&(n=2&o[0]?a.return:o[0]?a.throw||((n=a.return)&&n.call(a),0):a.next)&&!(n=n.call(a,o[1])).done)return n;switch(a=0,n&&(o=[2&o[0],n.value]),o[0]){case 0:case 1:n=o;break;case 4:return r.label++,{value:o[1],done:!1};case 5:r.label++,a=o[1],o=[0];continue;case 7:o=r.ops.pop(),r.trys.pop();continue;default:if(!(n=(n=r.trys).length>0&&n[n.length-1])&&(6===o[0]||2===o[0])){r=0;continue}if(3===o[0]&&(!n||o[1]>n[0]&&o[1]<n[3])){r.label=o[1];break}if(6===o[0]&&r.label<n[1]){r.label=n[1],n=o;break}if(n&&r.label<n[2]){r.label=n[2],r.ops.push(o);break}n[2]&&r.ops.pop(),r.trys.pop();continue}o=t.call(e,r)}catch(e){o=[6,e],a=0}finally{i=n=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};Object.defineProperty(t,"__esModule",{value:!0}),i(13);var o=i(3).levelConstructor,r=(i(8).playerModules,i(9).gameModule),s=(i(1).engineModule,i(11).serverModules,i(2).enemies,i(0).viewModules),l=(i(7).uiStateModules,i(10).startGameModules),c=i(6).bulletModule;!function(){a(this,void 0,void 0,(function(){function e(){return a(this,void 0,void 0,(function(){var e,t,a,r,l,h,d,g;return n(this,(function(n){if(i.gameInitData.ctxUIField&&s.clearField(i.gameInitData.ctxUIField,i.gameInitData.screen.width,i.gameInitData.screen.height),i.gameInitData.ctxActionField&&!i.gameInitData.gamePause&&s.clearField(i.gameInitData.ctxActionField,i.gameInitData.screen.width,i.gameInitData.screen.height),i.gameInitData.backScreenPause&&i.levelInit(o.GameBackground,i.gameInitData.ctx,i),!i.gameInitData.backScreenPause||!i.gameInitData.gamePause||!i.gameInitData.gameStatus){if(!i.gameInitData.gamePause||!i.gameInitData.gameStatus)for(i.gameInitData.ctx&&s.clearField(i.gameInitData.ctx,i.gameInitData.screen.width,i.gameInitData.screen.height),e=0,t=i.gameInitData.mapBackgroundObjects;e<t.length;e++)t[e].updateMap();i.gameInitData.levelChange&&i.warpEffect(i)}if(!i.gameInitData.gamePause&&i.gameInitData.gameStatus)if(1==i.gameInitData.gameStatus){if(i.gameInitData.levelChange||i.spawnEnemyLogic(i),i.gameInitData.allGameBullets.length>0)for(a=0,r=i.gameInitData.allGameBullets;a<r.length;a++)(l=r[a]).moveBullets(),l.createBullets(i),i.deleteBullet(l),i.hitDetection(l,i.gameInitData.allGameEnemies,i),i.hitDetection(u,[l],i);if(i.gameInitData.allGameEnemies.length>0)for(h=0,d=i.gameInitData.allGameEnemies;h<d.length;h++)(g=d[h]).placeEnemyes(i),g.moveEnemyes(),g.enemyAnimation(),g.shoot(c.BulletConstruct,i),i.deleteObjects(g);i.levelTimer(),u.placeShip(),u.movePlayerShip()}else i.gameInitData.gameStatus;return i.gameInitData.gameStatus||i.showStartWindow(),i.gameInitData.gameStatus&&i.showGameStats(),i.gameInitData.gamePause&&i.showPauseWindow(),i.gameInitData.gameUiPause&&(i.showMenuWindow(),i.showPauseWindow()),[2]}))}))}var t,i,u,h;return n(this,(function(a){switch(a.label){case 0:return[4,l.gameDataInit()];case 1:return t=a.sent(),i=new r.Game(t.data,t.locations),u=i.gameInitData.gameData.playerObject,setInterval(e,i.gameInitData.intervalCount),i.uiController(),i.setGameFields(),i.getScreenSize(),h=i.returnContext(),u.ctx=h.gameActionField,u.initPlayerShip(i),u.shipControl(i),[2]}}))}))}()},function(e,t,i){var a=i(14),n=i(15);"string"==typeof(n=n.__esModule?n.default:n)&&(n=[[e.i,n,""]]);var o={insert:"head",singleton:!1},r=(a(n,o),n.locals?n.locals:{});e.exports=r},function(e,t,i){"use strict";var a,n=function(){return void 0===a&&(a=Boolean(window&&document&&document.all&&!window.atob)),a},o=function(){var e={};return function(t){if(void 0===e[t]){var i=document.querySelector(t);if(window.HTMLIFrameElement&&i instanceof window.HTMLIFrameElement)try{i=i.contentDocument.head}catch(e){i=null}e[t]=i}return e[t]}}(),r=[];function s(e){for(var t=-1,i=0;i<r.length;i++)if(r[i].identifier===e){t=i;break}return t}function l(e,t){for(var i={},a=[],n=0;n<e.length;n++){var o=e[n],l=t.base?o[0]+t.base:o[0],c=i[l]||0,u="".concat(l," ").concat(c);i[l]=c+1;var h=s(u),d={css:o[1],media:o[2],sourceMap:o[3]};-1!==h?(r[h].references++,r[h].updater(d)):r.push({identifier:u,updater:f(d,t),references:1}),a.push(u)}return a}function c(e){var t=document.createElement("style"),a=e.attributes||{};if(void 0===a.nonce){var n=i.nc;n&&(a.nonce=n)}if(Object.keys(a).forEach((function(e){t.setAttribute(e,a[e])})),"function"==typeof e.insert)e.insert(t);else{var r=o(e.insert||"head");if(!r)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");r.appendChild(t)}return t}var u,h=(u=[],function(e,t){return u[e]=t,u.filter(Boolean).join("\n")});function d(e,t,i,a){var n=i?"":a.media?"@media ".concat(a.media," {").concat(a.css,"}"):a.css;if(e.styleSheet)e.styleSheet.cssText=h(t,n);else{var o=document.createTextNode(n),r=e.childNodes;r[t]&&e.removeChild(r[t]),r.length?e.insertBefore(o,r[t]):e.appendChild(o)}}function g(e,t,i){var a=i.css,n=i.media,o=i.sourceMap;if(n?e.setAttribute("media",n):e.removeAttribute("media"),o&&btoa&&(a+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(o))))," */")),e.styleSheet)e.styleSheet.cssText=a;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(a))}}var m=null,p=0;function f(e,t){var i,a,n;if(t.singleton){var o=p++;i=m||(m=c(t)),a=d.bind(null,i,o,!1),n=d.bind(null,i,o,!0)}else i=c(t),a=g.bind(null,i,t),n=function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(i)};return a(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;a(e=t)}else n()}}e.exports=function(e,t){(t=t||{}).singleton||"boolean"==typeof t.singleton||(t.singleton=n());var i=l(e=e||[],t);return function(e){if(e=e||[],"[object Array]"===Object.prototype.toString.call(e)){for(var a=0;a<i.length;a++){var n=s(i[a]);r[n].references--}for(var o=l(e,t),c=0;c<i.length;c++){var u=s(i[c]);0===r[u].references&&(r[u].updater(),r.splice(u,1))}i=o}}}},function(e,t,i){(t=i(16)(!1)).push([e.i,"body{font-family:'Roboto';color:orange;background:#333;margin:0;padding:0}canvas{cursor:crosshair}.gameBackground{background:#000}.game-fields{position:absolute}.game-field-wrapper{display:flex;justify-content:center;height:100vh;align-items:center}\n",""]),e.exports=t},function(e,t,i){"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var i=function(e,t){var i=e[1]||"",a=e[3];if(!a)return i;if(t&&"function"==typeof btoa){var n=(r=a,s=btoa(unescape(encodeURIComponent(JSON.stringify(r)))),l="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(s),"/*# ".concat(l," */")),o=a.sources.map((function(e){return"/*# sourceURL=".concat(a.sourceRoot||"").concat(e," */")}));return[i].concat(o).concat([n]).join("\n")}var r,s,l;return[i].join("\n")}(t,e);return t[2]?"@media ".concat(t[2]," {").concat(i,"}"):i})).join("")},t.i=function(e,i,a){"string"==typeof e&&(e=[[null,e,""]]);var n={};if(a)for(var o=0;o<this.length;o++){var r=this[o][0];null!=r&&(n[r]=!0)}for(var s=0;s<e.length;s++){var l=[].concat(e[s]);a&&n[l[0]]||(i&&(l[2]?l[2]="".concat(i," and ").concat(l[2]):l[2]=i),t.push(l))}},t}},function(e,t){e.exports.ERROR_LIST={noData:"There is no data",noObject:"There is no Object"}},function(e,t,i){i(0).viewModules;e.exports.uiWindowModules={createWindow:function(e,t){var i=this.getScreenSize();i.width,i.height,e.fillRect(t.x,t.y,t.width,t.height)},createShapeRoundBorder:function(e){var t=e.propertyes;t.ctx.fillStyle=t.background,t.ctx.beginPath(),t.ctx.moveTo(t.x+t.radius,t.y),t.ctx.lineTo(t.x+t.width-t.radius,t.y),t.ctx.quadraticCurveTo(t.x+t.width,t.y,t.x+t.width,t.y+t.radius),t.ctx.lineTo(t.x+t.width,t.y+t.height-t.radius),t.ctx.quadraticCurveTo(t.x+t.width,t.y+t.height,t.x+t.width-t.radius,t.y+t.height),t.ctx.lineTo(t.x+t.radius,t.y+t.height),t.ctx.quadraticCurveTo(t.x,t.y+t.height,t.x,t.y+t.height-t.radius),t.ctx.lineTo(t.x,t.y+t.radius),t.ctx.quadraticCurveTo(t.x,t.y,t.x+t.radius,t.y),t.ctx.closePath(),t.ctx.fill()}}},function(e,t,i){i(0).viewModules;e.exports.weaponModules={weapon1forward:function(e,t){e.ctx.fillStyle="rgba(255, 255, 255)",e.ctx.save(),t(e.ctx,"beginPath"),t(e.ctx,"moveTo",e.x,e.y+e.height/2),t(e.ctx,"lineTo",e.x+e.width-e.radius,e.y-0),t(e.ctx,"quadraticCurveTo",e.x+e.width,e.y,e.x+e.width,e.y+e.radius),t(e.ctx,"lineTo",e.x+e.width,e.y+e.height+0-e.radius),t(e.ctx,"quadraticCurveTo",e.x+e.width,e.y+e.height+0,e.x+e.width-e.radius,e.y+0+e.height),t(e.ctx,"lineTo",e.x,e.y+e.height/2),t(e.ctx,"closePath"),t(e.ctx,"fill"),e.ctx.lineWidth=2,e.ctx.strokeStyle=e.color,e.ctx.shadowColor=e.color,e.ctx.shadowBlur=6,t(e.ctx,"stroke"),e.ctx.restore()},weapon1backward:function(e,t){e.ctx.fillStyle="rgba(255, 255, 255)",e.ctx.save(),t(e.ctx,"beginPath"),t(e.ctx,"moveTo",e.x+e.width,e.y+e.height/2),t(e.ctx,"lineTo",e.x+e.radius,e.y-0),t(e.ctx,"quadraticCurveTo",e.x,e.y-0,e.x,e.y-0+e.radius),t(e.ctx,"lineTo",e.x,e.y+(e.height-e.radius)+0),t(e.ctx,"quadraticCurveTo",e.x,e.y+e.height+0,e.x+e.radius,e.y+e.height+0),t(e.ctx,"lineTo",e.x+e.width,e.y+e.height/2),t(e.ctx,"closePath"),t(e.ctx,"fill"),e.ctx.lineWidth=2,e.ctx.shadowColor=e.color,e.ctx.shadowBlur=6,e.ctx.strokeStyle=e.color,t(e.ctx,"stroke"),e.ctx.restore()}}},function(e,t,i){var a=i(0).viewModules;e.exports.bulletsModule={createBullets:function(e){a.createLaserBullet({source:this,objectOwner:this.objectOwner,ctx:e.gameInitData.ctxActionField,x:this.x,y:this.y,color:this.bulletTexture,width:this.width,height:this.height,radius:5,type:this.type})},initBullets:function(){},moveBullets:function(){"player"==this.objectOwner?this.x+=this.bulletSpeed:this.x-=this.bulletSpeed}}},function(e,t,i){var a=i(0).viewModules;i(1).gameMethods,i(4).playerShipModule;e.exports.backgroundMapModule={updateMap:function(){this.x-=this.backgroundSpeed,this.x+this.screenData.width<0&&(this.x=this.screenData.width),a.createImage(this.ctx,this.img,this.x,0,this.screenData.width+2,this.screenData.height)}}},function(e,t,i){var a=i(23).objectConstructor;e.exports.regularAiModule={dartShipLogic:function(){},spawnEnemyLogic:function(e){var t=this.gameInitData.gameData,i=t.levelData,a=t.enemyData;if(!this.gameInitData.gameData.levelChange&&this.gameRandomizer(i.enemyProbability)<=i.enemyRandomizerIndex)for(var n=this.gameRandomizer(i.enemyMaxNumber);n<i.enemyMaxNumber;n++){var o=a[this.gameRandomizer(a.length)],r=this.createNewEnemy(o);r.loadEnemyes(),this.gameInitData.allGameEnemies=this.gameInitData.allGameEnemies.concat(r)}},createNewEnemy:function(e){var t=this.gameInitData.screen.width+300,i=this.gameRandomizer(this.gameInitData.screen.height-200,100),n=e.details;return new a.EnemyObject(t,i,n.sx,n.sy,n.imageWidth/n.numberOfItems,n.imageHeight,n.imageWidth,n.numberOfItems,n.width,n.height,n.skinName,n.speed,n.status,n.name,n.bulletType,n.rapidFire,n.pointsPerUnit,n.healthPoint,n.animationSteps,n.damage,n.objectOwner,n.guns)},gameRandomizer:function(e,t){return void 0===t&&(t=0),Math.floor(Math.random()*e+t)}}},function(e,t,i){var a=i(2).enemiesModel,n=i(1).gameMethods,o=function(e,t,i,a,n,o,r,s,l,c,u,h,d,g,m,p,f,y,v,x,b,w){this.id=(new Date).getTime(),this.x=e,this.y=t,this.sx=i,this.sy=a,this.sWidth=n,this.sHeight=o,this.picturesWidth=r,this.numberOfItems=s,this.width=l,this.height=c,this.shipTexture=location.origin+"/images/spaceShips/"+u,this.enemySpeed=h,this.status=d,this.name=g,this.bulletTypeNumber=m,this.rapidFire=p,this.pointsPerUnit=f,this.healthPoint=y,this.animationSteps=v,this.damage=x,this.guns=w,this.detectFrame=0,this.objectPresent=!0,this.objectOwner=b,this.guns=w};o.prototype.placeEnemyes=a.placeEnemyes,o.prototype.moveEnemyes=a.moveEnemyes,o.prototype.loadEnemyes=a.loadEnemyes,o.prototype.shoot=a.shoot,o.prototype.enemyAnimation=a.enemyAnimation,o.prototype.getObjectPosition=n.getObjectPosition,o.prototype.takeDamage=a.takeDamage,e.exports.objectConstructor={EnemyObject:o}},function(e,t,i){var a=this&&this.__spreadArrays||function(){for(var e=0,t=0,i=arguments.length;t<i;t++)e+=arguments[t].length;var a=Array(e),n=0;for(t=0;t<i;t++)for(var o=arguments[t],r=0,s=o.length;r<s;r++,n++)a[n]=o[r];return a},n=i(0).viewModules,o=i(7).uiStateModules,r=i(25).uiSettingsMenu,s=i(26).gamePauseModule,l=i(27).gameStatsScreens,c=i(28).uiElements,u=i(2).enemiesModel;e.exports.uiModules={gameUiPause:function(){!this.gameInitData.gameUiPause&&this.gameInitData.gameStatus&&(this.gameInitData.gamePause=!this.gameInitData.gamePause)},gameUiMenu:function(e){this.gameInitData.gameUiPause=!this.gameInitData.gameUiPause,this.gameInitData.gamePause=!e},uiController:function(){var e=this,t=this.gameInitData.gameData.gameSetings.keyControls,i=this;document.addEventListener("keydown",(function(a){t.escape.some((function(e){return a.keyCode==e}))&&i.gameUiMenu(e.gameInitData.gameUiPause),t.pause.some((function(e){return a.keyCode==e}))&&i.gameUiPause()})),document.addEventListener("click",(function(t){if("CANVAS"===t.target.tagName){var i=t.clientX-t.target.offsetLeft,a=t.clientY-t.target.offsetTop,n=null,s=e.gameInitData.ctxUIField,l=e.getScreenSize();for(var c in 0==e.gameInitData.gameStatus&&(n=o.gameLoadMenu(null,s,l.width,l.height)),e.gameInitData.gameUiPause&&(n=r.gameSettingsMenu(null,s,l.width,l.height)),n){if(u.hitDetection(n[c],[].concat({x:i,y:a,width:10,height:10,name:"cursor"}))&&n[c].action){n[c].action.call(e);break}}}}))},showUiPopupWindow:function(){n.createWindow.call(this)},showStartWindow:function(){var e=[n.createShapeRoundBorder,c.uiImage,c.uiText,c.uiText,c.uiText];this.initUiElements(e,o.gameLoadMenu)},showMenuWindow:function(){var e=[n.createShapeRoundBorder,n.createShapeRoundBorder,c.uiText,c.uiText];this.initUiElements(e,r.gameSettingsMenu)},showPauseWindow:function(){var e=[c.uiText];this.initUiElements(e,s.gamePause)},showGameStats:function(){var e=this.getLevelUserData(),t=[c.uiImage,c.uiText,c.uiText,c.uiText];this.initUiElements(t,l.gameInformationScreen,e)},initUiElements:function(e,t){for(var i=[],n=2;n<arguments.length;n++)i[n-2]=arguments[n];for(var o=this.gameInitData.ctxUIField,r=this.getScreenSize(),s=this.serverLocation.picturesDirection,l=t.apply(void 0,a([null,o,r.width,r.height,s],i)),c=0;c<l.length;c++)l[c].hasOwnProperty("loadPicture")&&l[c].loadPicture(),l[c].init(e[c])}}},function(e,t,i){var a=i(5).uiModelsMethods;e.exports.uiSettingsMenu={gameSettingsMenu:function(e,t,i,n){return e||[{name:"menu background",text:"",description:"back part of menu ",fontSize:"30px Arial",clicked:!1,propertyes:{ctx:t,width:i,height:n/2,x:0,y:n/4,background:"rgba(38, 38, 86, 1)",borderColor:"rgba(255, 255, 255, 1)",radius:5},init:a.init,getObjectPosition:a.getUIObjectPosition},{name:"Button end game",text:"",description:"back to start screen",fontSize:"30px Arial",clicked:!1,propertyes:{ctx:t,width:200,height:50,x:i/2-150,y:n/2+50,background:"rgba(255, 255, 255, 1)",borderColor:"rgba(255, 255, 255, 1)",radius:15},action:function(){this.backToStartScreen.call(this)},init:a.init,getObjectPosition:a.getUIObjectPosition},{name:"textin button",text:"go to start",description:"Text in the menu button",fontSize:"25px Roboto",clicked:!1,propertyes:{ctx:t,width:45,height:0,x:i/2-150,y:n/2+80,background:!1,borderColor:"#007BD1",radius:null},init:a.init,getObjectPosition:a.getUIObjectPosition},{name:"Main game menu name",text:"Menu",description:"Text in main top",fontSize:"25px Roboto",clicked:!1,propertyes:{ctx:t,width:-45,height:0,x:i/2,y:n/3,background:!1,borderColor:"rgba(255, 255, 255, 1)",radius:null},init:a.init,getObjectPosition:a.getUIObjectPosition}]}}},function(e,t,i){var a=i(5).uiModelsMethods;e.exports.gamePauseModule={gamePause:function(e,t,i,n,o){return e||[{name:"Pause text",text:"Pause",description:"part of pause window",fontSize:"60px Arial",clicked:!1,propertyes:{ctx:t,width:400,height:90,x:i/2-150,y:n/2+50,background:"rgba(255, 255, 255, 1)",borderColor:"rgba(255, 255, 255, 1)",radius:45},init:a.init,getObjectPosition:a.getUIObjectPosition}]}}},function(e,t,i){var a=i(5).uiModelsMethods;e.exports.gameStatsScreens={gameInformationScreen:function(e,t,i,n,o,r){return[{name:"lifePoint",text:"",number:r.life,step:[r.life].map((function(e){return 50*e})),description:"Game logotype",clicked:!1,propertyes:{ctx:t,width:70,height:70,sWidth:500,sHeight:500,x:10,y:20,background:new Image,borderColor:!1,radius:null},loadPicture:function(){this.propertyes.background.src=o+"misc/ruby.png"},init:function(e,t){t=t||this;for(var i=Array(r.life).fill(0).map((function(e,t){return 30*t})),a=0;a<this.number;a++)this.propertyes.x=0==a?30:0+i[a]+(0!=a?30:0),e(t)},getObjectPosition:a.getUIObjectPosition},{name:"level",text:"Current Level "+r.currentLevel+"/"+r.allLevels+" ",description:"Game part the name",clicked:!1,fontSize:"bold 16px Roboto",propertyes:{ctx:t,width:0,height:0,x:30,y:70,background:!1,borderColor:"rgba(255, 255, 255, 1)",radius:null},init:a.init,getObjectPosition:a.getUIObjectPosition},{name:"Time to end f level",text:"Time to end "+(r.minutes-10>=0?"":0)+r.minutes+":"+(r.seconds-10>=0?"":0)+r.seconds,description:"Game part the name",clicked:!1,fontSize:"lighter 16px Roboto",propertyes:{ctx:t,width:50,height:0,x:i-300,y:30,background:!1,borderColor:"rgba(255, 255, 255, 1)",radius:null},init:a.init,getObjectPosition:a.getUIObjectPosition},{name:"Game points",text:r.points,description:"Game part the name",clicked:!1,fontSize:"lighter 18px Roboto",propertyes:{ctx:t,width:-50,height:0,x:i/2,y:50,background:!1,borderColor:"rgba(255, 255, 255, 1)",radius:null},init:a.init,getObjectPosition:a.getUIObjectPosition}]}}},function(e,t){e.exports.uiElements={uiImage:function(e){var t=e.propertyes;t.ctx.drawImage(t.background,0,0,t.sWidth,t.sHeight,t.x,t.y,t.width,t.height)},uiText:function(e){var t=e.propertyes;t.ctx.font=e.fontSize,t.ctx.fillStyle=t.borderColor,t.ctx.fillText(e.text,t.x+t.width,t.y+t.height)},uiRepeatImage:function(e){var t=e.propertyes,i=t.ctx.createPattern(t.background,"repeat-x");t.ctx.rect(t.x,t.y,t.width,t.height),t.ctx.fillStyle=i,t.ctx.fill()}}},function(e,t){var i=this&&this.__awaiter||function(e,t,i,a){return new(i||(i=Promise))((function(n,o){function r(e){try{l(a.next(e))}catch(e){o(e)}}function s(e){try{l(a.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?n(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(r,s)}l((a=a.apply(e,t||[])).next())}))},a=this&&this.__generator||function(e,t){var i,a,n,o,r={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(i)throw new TypeError("Generator is already executing.");for(;r;)try{if(i=1,a&&(n=2&o[0]?a.return:o[0]?a.throw||((n=a.return)&&n.call(a),0):a.next)&&!(n=n.call(a,o[1])).done)return n;switch(a=0,n&&(o=[2&o[0],n.value]),o[0]){case 0:case 1:n=o;break;case 4:return r.label++,{value:o[1],done:!1};case 5:r.label++,a=o[1],o=[0];continue;case 7:o=r.ops.pop(),r.trys.pop();continue;default:if(!(n=(n=r.trys).length>0&&n[n.length-1])&&(6===o[0]||2===o[0])){r=0;continue}if(3===o[0]&&(!n||o[1]>n[0]&&o[1]<n[3])){r.label=o[1];break}if(6===o[0]&&r.label<n[1]){r.label=n[1],n=o;break}if(n&&r.label<n[2]){r.label=n[2],r.ops.push(o);break}n[2]&&r.ops.pop(),r.trys.pop();continue}o=t.call(e,r)}catch(e){o=[6,e],a=0}finally{i=n=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};e.exports.levelDataReload={nextLevelDataReload:function(e){return i(this,void 0,void 0,(function(){return a(this,(function(t){return console.log(e),[2]}))}))}}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibWFpbi5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy9tYWluLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIiFmdW5jdGlvbihlKXt2YXIgdD17fTtmdW5jdGlvbiBpKGEpe2lmKHRbYV0pcmV0dXJuIHRbYV0uZXhwb3J0czt2YXIgbj10W2FdPXtpOmEsbDohMSxleHBvcnRzOnt9fTtyZXR1cm4gZVthXS5jYWxsKG4uZXhwb3J0cyxuLG4uZXhwb3J0cyxpKSxuLmw9ITAsbi5leHBvcnRzfWkubT1lLGkuYz10LGkuZD1mdW5jdGlvbihlLHQsYSl7aS5vKGUsdCl8fE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLHQse2VudW1lcmFibGU6ITAsZ2V0OmF9KX0saS5yPWZ1bmN0aW9uKGUpe1widW5kZWZpbmVkXCIhPXR5cGVvZiBTeW1ib2wmJlN5bWJvbC50b1N0cmluZ1RhZyYmT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsU3ltYm9sLnRvU3RyaW5nVGFnLHt2YWx1ZTpcIk1vZHVsZVwifSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSl9LGkudD1mdW5jdGlvbihlLHQpe2lmKDEmdCYmKGU9aShlKSksOCZ0KXJldHVybiBlO2lmKDQmdCYmXCJvYmplY3RcIj09dHlwZW9mIGUmJmUmJmUuX19lc01vZHVsZSlyZXR1cm4gZTt2YXIgYT1PYmplY3QuY3JlYXRlKG51bGwpO2lmKGkucihhKSxPYmplY3QuZGVmaW5lUHJvcGVydHkoYSxcImRlZmF1bHRcIix7ZW51bWVyYWJsZTohMCx2YWx1ZTplfSksMiZ0JiZcInN0cmluZ1wiIT10eXBlb2YgZSlmb3IodmFyIG4gaW4gZSlpLmQoYSxuLGZ1bmN0aW9uKHQpe3JldHVybiBlW3RdfS5iaW5kKG51bGwsbikpO3JldHVybiBhfSxpLm49ZnVuY3Rpb24oZSl7dmFyIHQ9ZSYmZS5fX2VzTW9kdWxlP2Z1bmN0aW9uKCl7cmV0dXJuIGUuZGVmYXVsdH06ZnVuY3Rpb24oKXtyZXR1cm4gZX07cmV0dXJuIGkuZCh0LFwiYVwiLHQpLHR9LGkubz1mdW5jdGlvbihlLHQpe3JldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZSx0KX0saS5wPVwiL3B1YmxpYy9kaXN0XCIsaShpLnM9MTIpfShbZnVuY3Rpb24oZSx0LGkpe3ZhciBhPXRoaXMmJnRoaXMuX19zcHJlYWRBcnJheXN8fGZ1bmN0aW9uKCl7Zm9yKHZhciBlPTAsdD0wLGk9YXJndW1lbnRzLmxlbmd0aDt0PGk7dCsrKWUrPWFyZ3VtZW50c1t0XS5sZW5ndGg7dmFyIGE9QXJyYXkoZSksbj0wO2Zvcih0PTA7dDxpO3QrKylmb3IodmFyIG89YXJndW1lbnRzW3RdLHI9MCxzPW8ubGVuZ3RoO3I8cztyKyssbisrKWFbbl09b1tyXTtyZXR1cm4gYX0sbj0oaSgxNykuRVJST1JfTElTVCxpKDE4KS51aVdpbmRvd01vZHVsZXMpLG89aSgxOSkud2VhcG9uTW9kdWxlcztmdW5jdGlvbiByKGUsdCl7Zm9yKHZhciBpPVtdLGE9MjthPGFyZ3VtZW50cy5sZW5ndGg7YSsrKWlbYS0yXT1hcmd1bWVudHNbYV07ZVt0XS5hcHBseShlLGkpfWZ1bmN0aW9uIHMoZSx0LGkpe3IoZSxcImNsZWFyUmVjdFwiLDAsMCx0LGkpfWUuZXhwb3J0cy52aWV3TW9kdWxlcz17Y2xlYXJGaWVsZDpzLGRyYXc6cixjcmVhdGVMYXNlckJ1bGxldDpmdW5jdGlvbihlKXtpZighZS5jdHgpcmV0dXJuIG5ldyBFcnJvcihcIm5vIGNvbnRleHRcIik7XCJwbGF5ZXJcIj09ZS5vYmplY3RPd25lciYmMT09ZS50eXBlJiZvLndlYXBvbjFmb3J3YXJkKGUsciksXCJlbmVteVwiPT1lLm9iamVjdE93bmVyJiYxPT1lLnR5cGUmJm8ud2VhcG9uMWJhY2t3YXJkKGUscil9LGNsZWFyOnMsY3JlYXRlSW1hZ2U6ZnVuY3Rpb24oZSx0KXtmb3IodmFyIGk9W10sbj0yO248YXJndW1lbnRzLmxlbmd0aDtuKyspaVtuLTJdPWFyZ3VtZW50c1tuXTtyLmFwcGx5KHZvaWQgMCxhKFtlLFwiZHJhd0ltYWdlXCIsdF0saSkpfSxjcmVhdGVXaW5kb3c6bi5jcmVhdGVXaW5kb3csY3JlYXRlU2hhcGVSb3VuZEJvcmRlcjpuLmNyZWF0ZVNoYXBlUm91bmRCb3JkZXJ9fSxmdW5jdGlvbihlLHQsaSl7dmFyIGE9dGhpcyYmdGhpcy5fX3NwcmVhZEFycmF5c3x8ZnVuY3Rpb24oKXtmb3IodmFyIGU9MCx0PTAsaT1hcmd1bWVudHMubGVuZ3RoO3Q8aTt0KyspZSs9YXJndW1lbnRzW3RdLmxlbmd0aDt2YXIgYT1BcnJheShlKSxuPTA7Zm9yKHQ9MDt0PGk7dCsrKWZvcih2YXIgbz1hcmd1bWVudHNbdF0scj0wLHM9by5sZW5ndGg7cjxzO3IrKyxuKyspYVtuXT1vW3JdO3JldHVybiBhfSxuPWkoMCkudmlld01vZHVsZXM7aSgzKS5sZXZlbENvbnN0cnVjdG9yO2UuZXhwb3J0cy5nYW1lTWV0aG9kcz17aW5pdEZpZWxkOmZ1bmN0aW9uKGUsdCl7dm9pZCAwPT09ZSYmKGU9d2luZG93LmlubmVyV2lkdGgpLHZvaWQgMD09PXQmJih0PXdpbmRvdy5pbm5lckhlaWdodCk7dmFyIGk9W10uY29uY2F0KHRoaXMuZ2FtZUluaXREYXRhLmdhbWVGaWVsZCx0aGlzLmdhbWVJbml0RGF0YS5nYW1lQWN0aW9uRmllbGQsdGhpcy5nYW1lSW5pdERhdGEuZ2FtZVVJRmllbGQpO2lmKCFpKXRocm93IEVycm9yKEVSUk9SX0xJU1Qubm9PYmplY3QpO2Zvcih2YXIgYT0wLG49aTthPG4ubGVuZ3RoO2ErKyl7dmFyIG89blthXTtvPU9iamVjdC5hc3NpZ24obyx7d2lkdGg6ZS00LGhlaWdodDp0LTR9KX19LHdhcnBFZmZlY3Q6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmdldFNjcmVlblNpemUoKSx0PXRoaXMuZ2FtZUluaXREYXRhLmN0eCxpPXRoaXMuZ2FtZUluaXREYXRhLndhcnBPYmplY3RzO2lmKHRoaXMuZ2V0U2Vjb25kTWVhc3VyZSgoZnVuY3Rpb24oZSl7ZT49MCYmKGUtPTEpfSkse3RpbWVUb0VyZXNzTGV2ZWw6dGhpcy5nYW1lSW5pdERhdGEudGltZVRvRXJlc3NMZXZlbCxjdHg6dCxzY3JlZW5TaXo6dGhpcy5nZXRTY3JlZW5TaXplKCl9KSxjb25zb2xlLmxvZyh0LGkpLGFsZXJ0KDEpLHRoaXMuZ2FtZUluaXREYXRhLndhcnBPYmplY3RzPWkubGVuZ3RoPDM1MD90aGlzLmdhbWVJbml0RGF0YS53YXJwT2JqZWN0cy5jb25jYXQoe3g6ZS53aWR0aCx5OnRoaXMuZ2FtZVJhbmRvbWl6ZXIoZS5oZWlnaHQpLGhlaWdodDp0aGlzLmdhbWVSYW5kb21pemVyKDIwLDEwKSx3aWR0aDoxMCxzcGVlZDp0aGlzLmdhbWVSYW5kb21pemVyKDEwLDUpLGJhY2tncm91bmQ6dGhpcy5nZXRSYW5kb21Db2xvcigpfSk6dGhpcy5nYW1lSW5pdERhdGEud2FycE9iamVjdHMsaS5sZW5ndGg+MClmb3IodmFyIGE9MCxvPWk7YTxvLmxlbmd0aDthKyspe3ZhciByPW9bYV07ci54LT1yLng+MD9yLnNwZWVkOjAsci53aWR0aD1pLmxlbmd0aDwxNTA/ci53aWR0aC1yLnNwZWVkOmkubGVuZ3RoPjE1MCYmaS5sZW5ndGg8MzUwP3Iud2lkdGgrci5zcGVlZDpyLndpZHRoLXIuc3BlZWQsdC5maWxsU3R5bGU9ci5iYWNrZ3JvdW5kLG4uZHJhdyh0LFwiZmlsbFJlY3RcIixyLngsci55LHIud2lkdGgsci5oZWlnaHQpLHQuZmlsbCgpfX0sc2V0R2FtZUZpZWxkczpmdW5jdGlvbigpe3RoaXMuaW5pdEZpZWxkKCksdGhpcy5jcmVhdGVDb250ZXh0KCksdGhpcy5pbml0UGxheWVyU2hpcCgpfSxsZXZlbEluaXQ6ZnVuY3Rpb24oZSx0LGkpe3ZhciBhPXRoaXMuc2hvd0xldmVsRGF0YSgpLG49KGEubGV2ZWxNYXAsYS5sZXZlbEJhY2tncm91bmRFbGVtZW50cyk7aS5nYW1lSW5pdERhdGEuYmFja1NjcmVlblBhdXNlPSExO2Zvcih2YXIgbz0wLHI9bjtvPHIubGVuZ3RoO28rKyl7dmFyIHM9cltvXSxsPW5ldyBlKHMubGV2ZWxNYXAscy5zcGVlZCx0aGlzLmdhbWVJbml0RGF0YS5zY3JlZW4sdCx0aGlzLmdhbWVJbml0RGF0YS5tYXBCYWNrZ3JvdW5kT2JqZWN0cy5sZW5ndGglMj09MHx8bnVsbCk7aS5nYW1lSW5pdERhdGEubWFwQmFja2dyb3VuZE9iamVjdHM9aS5nYW1lSW5pdERhdGEubWFwQmFja2dyb3VuZE9iamVjdHMuY29uY2F0KGwpLGwuaW1nLnNyYz1sb2NhdGlvbi5vcmlnaW4rXCIvaW1hZ2VzL1wiK2wuYmFja2dyb3VuZFRleHR1cmV9fSxjcmVhdGVDb250ZXh0OmZ1bmN0aW9uKCl7dGhpcy5nYW1lSW5pdERhdGEuY3R4PXRoaXMuZ2FtZUluaXREYXRhLmdhbWVGaWVsZC5nZXRDb250ZXh0KFwiMmRcIiksdGhpcy5nYW1lSW5pdERhdGEuY3R4QWN0aW9uRmllbGQ9dGhpcy5nYW1lSW5pdERhdGEuZ2FtZUFjdGlvbkZpZWxkLmdldENvbnRleHQoXCIyZFwiKSx0aGlzLmdhbWVJbml0RGF0YS5jdHhVSUZpZWxkPXRoaXMuZ2FtZUluaXREYXRhLmdhbWVVSUZpZWxkLmdldENvbnRleHQoXCIyZFwiKX0sZ2V0U2NyZWVuU2l6ZTpmdW5jdGlvbigpe3JldHVybnt3aWR0aDp0aGlzLmdhbWVJbml0RGF0YS5zY3JlZW4ud2lkdGgsaGVpZ2h0OnRoaXMuZ2FtZUluaXREYXRhLnNjcmVlbi5oZWlnaHR9fSxnZXRSYW5kb21Db2xvcjpmdW5jdGlvbigpe2Zvcih2YXIgZT1cIiNcIix0PTA7dDw2O3QrKyllKz1cIjAxMjM0NTY3ODlBQkNERUZcIltNYXRoLmZsb29yKDE2Kk1hdGgucmFuZG9tKCkpXTtyZXR1cm4gZX0sZ2V0TGV2ZWxVc2VyRGF0YTpmdW5jdGlvbigpe3ZhciBlPXRoaXMuZ2FtZUluaXREYXRhLmdhbWVEYXRhLHQ9ZS5sZXZlbERhdGEubGV2ZWxEZXRhaWxzO3JldHVybntzb3Vyc2U6ZSxjdXJyZW50TGV2ZWw6ZS5jdXJyZW50TGV2ZWwsYWxsTGV2ZWxzOmUubGV2ZWxEYXRhLmFsbExldmVscyxwb2ludHM6ZS5jdXJyZW50UG9pbnQsbGlmZTplLnBsYXllck9iamVjdC5udW1iZXJPZmxpZmUsbWludXRlczp0LmxldmVsTWludXRlcyxzZWNvbmRzOnQubGV2ZWxTZWNvbmRzfX0sY2hhbmdlTGV2ZWxQcm9jZWR1cmU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLnNob3dMZXZlbERhdGEoKTt0aGlzLmNoYW5nZUxldmVsKGUubGV2ZWwrMSk8PWUuYWxsTGV2ZWxzP3RoaXMubmV4dExldmVsRGF0YVJlbG9hZChlKTphbGVydChcIldpbiBHYW1lIFNjcmVlbiBcIil9LGxldmVsVGltZXI6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmdldExldmVsVXNlckRhdGEoKTtlLnNvdXJzZS5sZXZlbERhdGEubGV2ZWxEZXRhaWxzLHRoaXMuZ2FtZUluaXREYXRhLmxldmVsQ2hhbmdlfHx0aGlzLmdldFNlY29uZE1lYXN1cmUoKGZ1bmN0aW9uKGUpe2UubGV2ZWxTZWNvbmRzPD0wJiYoZS5sZXZlbE1pbnV0ZXM9ZS5sZXZlbE1pbnV0ZXM+MD9lLmxldmVsTWludXRlcy0xOjAsMD09ZS5sZXZlbE1pbnV0ZXMmJjA9PWUubGV2ZWxTZWNvbmRzJiYoZS5sZXZlbFNlY29uZHM9MCx0aGlzLmdhbWVJbml0RGF0YS5sZXZlbENoYW5nZT0hMCx0aGlzLmNoYW5nZUxldmVsUHJvY2VkdXJlKCkpKTtlLmxldmVsU2Vjb25kcz1lLmxldmVsU2Vjb25kcz4wP2UubGV2ZWxTZWNvbmRzLTE6dGhpcy5nYW1lSW5pdERhdGEubGV2ZWxDaGFuZ2U/MDo1OX0pLGUuc291cnNlLmxldmVsRGF0YS5sZXZlbERldGFpbHMpfSxnZXRTZWNvbmRNZWFzdXJlOmZ1bmN0aW9uKGUpe2Zvcih2YXIgdD1bXSxpPTE7aTxhcmd1bWVudHMubGVuZ3RoO2krKyl0W2ktMV09YXJndW1lbnRzW2ldO3RoaXMuZ2FtZUluaXREYXRhLmdlbWVFeHRyYVNlY29uZHMrPTE7dmFyIG49MWUzL3RoaXMuZ2FtZUluaXREYXRhLmludGVydmFsQ291bnQ7aWYodGhpcy5nYW1lSW5pdERhdGEuZ2VtZUV4dHJhU2Vjb25kcyVuPT0wKXJldHVybiB0aGlzLmdhbWVJbml0RGF0YS5nZW1lRXh0cmFTZWNvbmRzPTAsZT9lLmNhbGwuYXBwbHkoZSxhKFt0aGlzXSx0KSk6bn0sZGVsZXRlQnVsbGV0OmZ1bmN0aW9uKGUpe2lmKGUueD50aGlzLmdhbWVJbml0RGF0YS5zY3JlZW4ud2lkdGh8fGUueDwtMSplLndpZHRofHwhZS5vYmplY3RQcmVzZW50KXt2YXIgdD10aGlzLmdhbWVJbml0RGF0YS5hbGxHYW1lQnVsbGV0cy5pbmRleE9mKGUpO3RoaXMuZ2FtZUluaXREYXRhLmFsbEdhbWVCdWxsZXRzLnNwbGljZSh0LDEpfX0sZGVsZXRlT2JqZWN0czpmdW5jdGlvbihlKXtpZihlLngrZS5zV2lkdGg8MHx8IWUub2JqZWN0UHJlc2VudCl7dmFyIHQ9dGhpcy5nYW1lSW5pdERhdGEuYWxsR2FtZUVuZW1pZXMuaW5kZXhPZihlKTt0aGlzLmdhbWVJbml0RGF0YS5hbGxHYW1lRW5lbWllcy5zcGxpY2UodCwxKX19LGdldE9iamVjdFBvc2l0aW9uOmZ1bmN0aW9uKCl7cmV0dXJue3g6dGhpcy54LHk6dGhpcy55LHdpZHRoOnRoaXMud2lkdGgsaGVpZ2h0OnRoaXMuaGVpZ2h0fX0sY29sbGVjdFBvaW50czpmdW5jdGlvbihlKXt0aGlzLmdhbWVJbml0RGF0YS5nYW1lRGF0YS5jdXJyZW50UG9pbnQrPWV9fX0sZnVuY3Rpb24oZSx0LGkpe3ZhciBhPXRoaXMmJnRoaXMuX19hd2FpdGVyfHxmdW5jdGlvbihlLHQsaSxhKXtyZXR1cm4gbmV3KGl8fChpPVByb21pc2UpKSgoZnVuY3Rpb24obixvKXtmdW5jdGlvbiByKGUpe3RyeXtsKGEubmV4dChlKSl9Y2F0Y2goZSl7byhlKX19ZnVuY3Rpb24gcyhlKXt0cnl7bChhLnRocm93KGUpKX1jYXRjaChlKXtvKGUpfX1mdW5jdGlvbiBsKGUpe3ZhciB0O2UuZG9uZT9uKGUudmFsdWUpOih0PWUudmFsdWUsdCBpbnN0YW5jZW9mIGk/dDpuZXcgaSgoZnVuY3Rpb24oZSl7ZSh0KX0pKSkudGhlbihyLHMpfWwoKGE9YS5hcHBseShlLHR8fFtdKSkubmV4dCgpKX0pKX0sbj10aGlzJiZ0aGlzLl9fZ2VuZXJhdG9yfHxmdW5jdGlvbihlLHQpe3ZhciBpLGEsbixvLHI9e2xhYmVsOjAsc2VudDpmdW5jdGlvbigpe2lmKDEmblswXSl0aHJvdyBuWzFdO3JldHVybiBuWzFdfSx0cnlzOltdLG9wczpbXX07cmV0dXJuIG89e25leHQ6cygwKSx0aHJvdzpzKDEpLHJldHVybjpzKDIpfSxcImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJihvW1N5bWJvbC5pdGVyYXRvcl09ZnVuY3Rpb24oKXtyZXR1cm4gdGhpc30pLG87ZnVuY3Rpb24gcyhvKXtyZXR1cm4gZnVuY3Rpb24ocyl7cmV0dXJuIGZ1bmN0aW9uKG8pe2lmKGkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkdlbmVyYXRvciBpcyBhbHJlYWR5IGV4ZWN1dGluZy5cIik7Zm9yKDtyOyl0cnl7aWYoaT0xLGEmJihuPTImb1swXT9hLnJldHVybjpvWzBdP2EudGhyb3d8fCgobj1hLnJldHVybikmJm4uY2FsbChhKSwwKTphLm5leHQpJiYhKG49bi5jYWxsKGEsb1sxXSkpLmRvbmUpcmV0dXJuIG47c3dpdGNoKGE9MCxuJiYobz1bMiZvWzBdLG4udmFsdWVdKSxvWzBdKXtjYXNlIDA6Y2FzZSAxOm49bzticmVhaztjYXNlIDQ6cmV0dXJuIHIubGFiZWwrKyx7dmFsdWU6b1sxXSxkb25lOiExfTtjYXNlIDU6ci5sYWJlbCsrLGE9b1sxXSxvPVswXTtjb250aW51ZTtjYXNlIDc6bz1yLm9wcy5wb3AoKSxyLnRyeXMucG9wKCk7Y29udGludWU7ZGVmYXVsdDppZighKG49KG49ci50cnlzKS5sZW5ndGg+MCYmbltuLmxlbmd0aC0xXSkmJig2PT09b1swXXx8Mj09PW9bMF0pKXtyPTA7Y29udGludWV9aWYoMz09PW9bMF0mJighbnx8b1sxXT5uWzBdJiZvWzFdPG5bM10pKXtyLmxhYmVsPW9bMV07YnJlYWt9aWYoNj09PW9bMF0mJnIubGFiZWw8blsxXSl7ci5sYWJlbD1uWzFdLG49bzticmVha31pZihuJiZyLmxhYmVsPG5bMl0pe3IubGFiZWw9blsyXSxyLm9wcy5wdXNoKG8pO2JyZWFrfW5bMl0mJnIub3BzLnBvcCgpLHIudHJ5cy5wb3AoKTtjb250aW51ZX1vPXQuY2FsbChlLHIpfWNhdGNoKGUpe289WzYsZV0sYT0wfWZpbmFsbHl7aT1uPTB9aWYoNSZvWzBdKXRocm93IG9bMV07cmV0dXJue3ZhbHVlOm9bMF0/b1sxXTp2b2lkIDAsZG9uZTohMH19KFtvLHNdKX19fSxvPWkoMCkudmlld01vZHVsZXM7aSg2KS5idWxsZXRNb2R1bGU7ZS5leHBvcnRzLmVuZW1pZXNNb2RlbD17cGxhY2VFbmVteWVzOmZ1bmN0aW9uKGUpe28uY3JlYXRlSW1hZ2UoZS5nYW1lSW5pdERhdGEuY3R4QWN0aW9uRmllbGQsdGhpcy5pbWcsdGhpcy5zeCx0aGlzLnN5LHRoaXMuc1dpZHRoLHRoaXMuc0hlaWdodCx0aGlzLngsdGhpcy55LHRoaXMud2lkdGgsdGhpcy5oZWlnaHQpfSxtb3ZlRW5lbXllczpmdW5jdGlvbihlLHQpe3ZvaWQgMD09PXQmJih0PTApLHRoaXMueC09dGhpcy5lbmVteVNwZWVkLHRoaXMueS09dH0sbG9hZEVuZW15ZXM6ZnVuY3Rpb24oKXt0aGlzLmltZz1uZXcgSW1hZ2UsdGhpcy5pbWcuc3JjPXRoaXMuc2hpcFRleHR1cmV9LHNob290OmZ1bmN0aW9uKGUsdCl7aWYodC5nYW1lSW5pdERhdGEuZ2FtZVBhdXNlKXJldHVybiExO2lmKHQuZ2FtZVJhbmRvbWl6ZXIoTWF0aC5wb3codGhpcy5yYXBpZEZpcmUsMikpPHQuZ2FtZVJhbmRvbWl6ZXIodGhpcy5yYXBpZEZpcmUpKWZvcih2YXIgaT0wLGE9dGhpcy5ndW5zO2k8YS5sZW5ndGg7aSsrKXt2YXIgbj1hW2ldLG89bmV3IGUodGhpcy54LHRoaXMueStuLmZpcmVQb3NpdGlvbixuLm5hbWUsbi5jb2xvcixcImVuZW15XCIsbi5zcGVlZCt0aGlzLmVuZW15U3BlZWQsbi53aWR0aCxuLmhlaWdodCxuLmRhbWFnZSxuLnR5cGUpO3QuZ2FtZUluaXREYXRhLmFsbEdhbWVCdWxsZXRzPXQuZ2FtZUluaXREYXRhLmFsbEdhbWVCdWxsZXRzLmNvbmNhdChvKX19LGVuZW15QW5pbWF0aW9uOmZ1bmN0aW9uKCl7dGhpcy5kZXRlY3RGcmFtZSs9MSx0aGlzLmRldGVjdEZyYW1lJXRoaXMuYW5pbWF0aW9uU3RlcHM9PTAmJih0aGlzLmRldGVjdEZyYW1lPTAsdGhpcy5zeCs9dGhpcy5zV2lkdGgsdGhpcy5zeD49dGhpcy5waWN0dXJlc1dpZHRoJiYodGhpcy5zeD0wKSl9LGhpdERldGVjdGlvbjpmdW5jdGlvbihlLHQsaSl7Zm9yKHZhciBhPW51bGwsbj0wLG89dDtuPG8ubGVuZ3RoO24rKyl7dmFyIHI9b1tuXSxzPWUuZ2V0T2JqZWN0UG9zaXRpb24uY2FsbChlKSxsPU1hdGgubWF4KHMueCxyLngpLGM9TWF0aC5tYXgocy55LHIueSksdT1NYXRoLm1pbihzLngrKGUud2lkdGh8fHMud2lkdGgpLHIueCtyLndpZHRoKS1sLGg9TWF0aC5taW4ocy55KyhlLmhlaWdodHx8cy5oZWlnaHQpLHIueStyLmhlaWdodCktYztpZihcImNvbGxpc2lvblwiPT0oYT0hKE1hdGguc2lnbih1KTwwfHxNYXRoLnNpZ24oaCk8MCkmJlwiY29sbGlzaW9uXCIpKXtlLnRha2VEYW1hZ2UmJnIudGFrZURhbWFnZSYmKGUudGFrZURhbWFnZShyLmRhbWFnZT9yLmRhbWFnZTowLHIsaSksci50YWtlRGFtYWdlKGUuZGFtYWdlP2UuZGFtYWdlOjAsZSxpKSk7YnJlYWt9fXJldHVyblwiY29sbGlzaW9uXCI9PWEmJmV9LHRha2VEYW1hZ2U6ZnVuY3Rpb24oZSx0LGkpe3JldHVybiBhKHRoaXMsdm9pZCAwLHZvaWQgMCwoZnVuY3Rpb24oKXtmdW5jdGlvbiBhKHQpe2lmKHRoaXMuaGVhbHRoUG9pbnQtPWUsdGhpcy5oZWFsdGhQb2ludDw9MClyZXR1cm4gdCYmdC5saWZlPjA/KHQuc291cnNlLnBsYXllck9iamVjdC5udW1iZXJPZmxpZmUtPTEsdC5zb3Vyc2UucGxheWVyT2JqZWN0Lm51bWJlck9mbGlmZTw9MCYmKGFsZXJ0KFwiR2FtZSBPdmVyXCIpLGkuYmFja1RvU3RhcnRTY3JlZW4oKSksdGhpcy5oZWFsdGhQb2ludD10LnNvdXJzZS5wbGF5ZXJPYmplY3QubWF4SGVhbHRoLCExKTooaS5jb2xsZWN0UG9pbnRzKHRoaXMucG9pbnRzUGVyVW5pdCksdGhpcy5vYmplY3RQcmVzZW50PSExKX1yZXR1cm4gbih0aGlzLChmdW5jdGlvbihlKXtpZih0aGlzLmhhc093blByb3BlcnR5KFwiYnVsbGV0VHlwZVwiKSYmXCJlbmVteVwiPT10aGlzLm9iamVjdE93bmVyJiZcInBsYXllclwiPT10Lm9iamVjdE93bmVyfHx0aGlzLmhhc093blByb3BlcnR5KFwiYnVsbGV0VHlwZVwiKSYmXCJwbGF5ZXJcIj09dGhpcy5vYmplY3RPd25lciYmXCJlbmVteVwiPT10Lm9iamVjdE93bmVyKXJldHVyblsyLHRoaXMub2JqZWN0UHJlc2VudD0hMV07aWYodGhpcy5oYXNPd25Qcm9wZXJ0eShcImhlYWx0aFBvaW50XCIpJiZcImVuZW15XCI9PXRoaXMub2JqZWN0T3duZXImJlwicGxheWVyXCI9PXQub2JqZWN0T3duZXIpYS5jYWxsKHRoaXMpO2Vsc2V7aWYoIXRoaXMuaGFzT3duUHJvcGVydHkoXCJoZWFsdGhQb2ludFwiKXx8XCJwbGF5ZXJcIiE9dGhpcy5vYmplY3RPd25lcnx8XCJlbmVteVwiIT10Lm9iamVjdE93bmVyKXJldHVyblsyLCExXTt0aGlzLmNvbGxpc2lvbkFsbG93JiZhLmNhbGwodGhpcyxpLmdldExldmVsVXNlckRhdGEoKSl9cmV0dXJuWzJdfSkpfSkpfX19LGZ1bmN0aW9uKGUsdCxpKXtpKDApLnZpZXdNb2R1bGVzLGkoMSkuZ2FtZU1ldGhvZHMsaSg0KS5wbGF5ZXJTaGlwTW9kdWxlO3ZhciBhPWkoMjEpLmJhY2tncm91bmRNYXBNb2R1bGUsbj1mdW5jdGlvbihlLHQsaSxhLG4sbyl7dGhpcy54PTAsdGhpcy55PTAsdGhpcy5iYWNrZ3JvdW5kVGV4dHVyZT1lLHRoaXMuYmFja2dyb3VuZFNwZWVkPXQsdGhpcy5zY3JlZW5EYXRhPWksdGhpcy5jdHg9YSx0aGlzLng9bj8wOmkud2lkdGgsdGhpcy55PTAsdGhpcy5pbWc9bmV3IEltYWdlLHRoaXMudGltZVRvRXJlc3NMZXZlbD00LHRoaXMud2FycE9iamVjdHM9W119O24ucHJvdG90eXBlLnVwZGF0ZU1hcD1hLnVwZGF0ZU1hcCxuLnByb3RvdHlwZS53YXJwRWZmZWN0PWEud2FycEVmZmVjdCxlLmV4cG9ydHMubGV2ZWxDb25zdHJ1Y3Rvcj17R2FtZUJhY2tncm91bmQ6bn19LGZ1bmN0aW9uKGUsdCxpKXt2YXIgYT1pKDApLnZpZXdNb2R1bGVzLG49KGkoMykubGV2ZWxDb25zdHJ1Y3RvcixpKDYpLmJ1bGxldE1vZHVsZSk7ZS5leHBvcnRzLnBsYXllclNoaXBNb2R1bGU9e21vdmVQbGF5ZXJTaGlwOmZ1bmN0aW9uKCl7dGhpcy5pbWcmJnRoaXMuY3R4JiZ0aGlzLmltZyYmYS5jcmVhdGVJbWFnZSh0aGlzLmN0eCx0aGlzLmltZyx0aGlzLngtdGhpcy53aWR0aC8yLHRoaXMueS10aGlzLmhlaWdodC8yLHRoaXMud2lkdGgsdGhpcy5oZWlnaHQpfSxpbml0UGxheWVyU2hpcDpmdW5jdGlvbihlKXt2YXIgdD10aGlzO2lmKHRoaXMuY3R4KXt2YXIgaT10aGlzLmRhdGEudGV4dHVyZSxhPWUuc2VydmVyTG9jYXRpb24ucGljdHVyZXNEaXJlY3Rpb247dGhpcy5pbWc9bmV3IEltYWdlLHRoaXMuaW1nLm9ubG9hZD1mdW5jdGlvbigpe3JldHVybiB0LnBsYWNlUGxheWVyU2hpcCYmdC5wbGFjZVBsYXllclNoaXAoKSx0LmltZ30sdGhpcy5pbWcuc3JjPWEraX19LHNoaXBDb250cm9sOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMsaT1lLmdhbWVJbml0RGF0YS5nYW1lRGF0YS5nYW1lU2V0aW5ncy5rZXlDb250cm9scztkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLChmdW5jdGlvbihhKXtpZihlLmdhbWVJbml0RGF0YS5nYW1lUGF1c2UpcmV0dXJuITE7aS5kb3duLnNvbWUoKGZ1bmN0aW9uKGUpe3JldHVybiBhLmtleUNvZGU9PWV9KSkmJnQubW92ZVNoaXAoe3hQb3M6MCx5UG9zOnQuZGF0YS5zcGVlZH0pLGkubGVmdC5zb21lKChmdW5jdGlvbihlKXtyZXR1cm4gYS5rZXlDb2RlPT1lfSkpJiZ0Lm1vdmVTaGlwKHt4UG9zOi0xKnQuZGF0YS5zcGVlZCx5UG9zOjB9KSxpLnJpZ2h0LnNvbWUoKGZ1bmN0aW9uKGUpe3JldHVybiBhLmtleUNvZGU9PWV9KSkmJnQubW92ZVNoaXAoe3hQb3M6dC5kYXRhLnNwZWVkLHlQb3M6MH0pLGkudXAuc29tZSgoZnVuY3Rpb24oZSl7cmV0dXJuIGEua2V5Q29kZT09ZX0pKSYmdC5tb3ZlU2hpcCh7eFBvczowLHlQb3M6LTEqdC5kYXRhLnNwZWVkfSl9KSksZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlbW92ZVwiLChmdW5jdGlvbihpKXtpZihlLmdhbWVJbml0RGF0YS5nYW1lUGF1c2UpcmV0dXJuITE7aWYoXCJDQU5WQVNcIj09PWkudGFyZ2V0LnRhZ05hbWUmJiFlLmdhbWVJbml0RGF0YS5nYW1lUGF1c2UmJmUuZ2FtZUluaXREYXRhLmdhbWVTdGF0dXMpe3ZhciBhPWkuY2xpZW50WC1pLnRhcmdldC5vZmZzZXRMZWZ0LG49aS5jbGllbnRZLWkudGFyZ2V0Lm9mZnNldFRvcDt0LnhGaW5hbD1hJXQuZGF0YS5zcGVlZD09MD9hOnQuZGF0YS5zcGVlZCpNYXRoLmZsb29yKGEvdC5kYXRhLnNwZWVkKSx0LnlGaW5hbD1uJXQuZGF0YS5zcGVlZD09MD9uOnQuZGF0YS5zcGVlZCpNYXRoLmZsb29yKG4vdC5kYXRhLnNwZWVkKX19KSksZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsKGZ1bmN0aW9uKGkpe2lmKGUuZ2FtZUluaXREYXRhLmdhbWVQYXVzZSlyZXR1cm4hMTtmb3IodmFyIGE9MCxvPXQuZGF0YS5ndW5zO2E8by5sZW5ndGg7YSsrKXt2YXIgcj1vW2FdLHM9bmV3IG4uQnVsbGV0Q29uc3RydWN0KHQueCx0Lnkrci5maXJlUG9zaXRpb24sci5uYW1lLHIuY29sb3IsXCJwbGF5ZXJcIixyLnNwZWVkK3QueEFkaixyLndpZHRoLHIuaGVpZ2h0LHIuZGFtYWdlLHIudHlwZSk7ZS5nYW1lSW5pdERhdGEuYWxsR2FtZUJ1bGxldHM9ZS5nYW1lSW5pdERhdGEuYWxsR2FtZUJ1bGxldHMuY29uY2F0KHMpfX0pKX0sbW92ZVNoaXA6ZnVuY3Rpb24oZSl7dmFyIHQ9ZS54UG9zLGk9dm9pZCAwPT09dD8wOnQsYT1lLnlQb3Msbj12b2lkIDA9PT1hPzA6YTt0aGlzLngrPWksdGhpcy55Kz1ufSxwbGFjZVNoaXA6ZnVuY3Rpb24oKXt2YXIgZT0odGhpcy54RmluYWwtdGhpcy54KS90aGlzLmRhdGEuc3BlZWQsdD0odGhpcy55RmluYWwtdGhpcy55KS90aGlzLmRhdGEuc3BlZWQ7ZT1NYXRoLnNpZ24oZSk+MD9lOi0xKmUsdD1NYXRoLnNpZ24odCk+MD90Oi0xKnQsZT1lPnRoaXMuZGF0YS5taW5TcGVlZD90aGlzLmRhdGEubWluU3BlZWQ6ZSx0PXQ+dGhpcy5kYXRhLm1pblNwZWVkP3RoaXMuZGF0YS5taW5TcGVlZDp0LHRoaXMueEFkaj10aGlzLng+dGhpcy54RmluYWw/MDplLHRoaXMueD10aGlzLng+dGhpcy54RmluYWw/dGhpcy54LWU6dGhpcy54PHRoaXMueEZpbmFsP3RoaXMueCtlOnRoaXMueEZpbmFsLHRoaXMueT10aGlzLnk+dGhpcy55RmluYWw/dGhpcy55LXQ6dGhpcy55PHRoaXMueUZpbmFsP3RoaXMueSt0OnRoaXMueUZpbmFsfSxzZXRDb250ZXh0OmZ1bmN0aW9uKGUpe3RoaXMuY3R4PWV9LHNob3dJbmZvcm1hdGlvbjpmdW5jdGlvbigpe2NvbnNvbGUubG9nKHRoaXMpfX19LGZ1bmN0aW9uKGUsdCl7ZS5leHBvcnRzLnVpTW9kZWxzTWV0aG9kcz17aW5pdDpmdW5jdGlvbihlLHQpe2UodD10fHx0aGlzKX0sZ2V0VUlPYmplY3RQb3NpdGlvbjpmdW5jdGlvbigpe3JldHVybnt4OnRoaXMucHJvcGVydHllcy54LHk6dGhpcy5wcm9wZXJ0eWVzLnksd2lkdGg6dGhpcy5wcm9wZXJ0eWVzLndpZHRoLGhlaWdodDp0aGlzLnByb3BlcnR5ZXMuaGVpZ2h0fX19fSxmdW5jdGlvbihlLHQsaSl7dmFyIGE9aSgyMCkuYnVsbGV0c01vZHVsZSxuPWkoMSkuZ2FtZU1ldGhvZHMsbz1pKDIpLmVuZW1pZXNNb2RlbCxyPWZ1bmN0aW9uKGUsdCxpLGEsbixvLHIscyxsLGMpe3RoaXMueD1lLHRoaXMueT10LHRoaXMuYnVsbGV0VHlwZT1pLHRoaXMuYnVsbGV0VGV4dHVyZT1hLHRoaXMub2JqZWN0T3duZXI9bix0aGlzLmJ1bGxldFNwZWVkPW8sdGhpcy53aWR0aD1yLHRoaXMuaGVpZ2h0PXMsdGhpcy5kYW1hZ2U9bCx0aGlzLmlkPShuZXcgRGF0ZSkuZ2V0VGltZSgpLHRoaXMub2JqZWN0UHJlc2VudD0hMCx0aGlzLnR5cGU9Y307ci5wcm90b3R5cGUuY3JlYXRlQnVsbGV0cz1hLmNyZWF0ZUJ1bGxldHMsci5wcm90b3R5cGUuaW5pdEJ1bGxldHM9YS5pbml0QnVsbGV0cyxyLnByb3RvdHlwZS5tb3ZlQnVsbGV0cz1hLm1vdmVCdWxsZXRzLHIucHJvdG90eXBlLmdldE9iamVjdFBvc2l0aW9uPW4uZ2V0T2JqZWN0UG9zaXRpb24sci5wcm90b3R5cGUudGFrZURhbWFnZT1vLnRha2VEYW1hZ2UsZS5leHBvcnRzLmJ1bGxldE1vZHVsZT17QnVsbGV0Q29uc3RydWN0OnJ9fSxmdW5jdGlvbihlLHQsaSl7dmFyIGE9aSg1KS51aU1vZGVsc01ldGhvZHM7ZS5leHBvcnRzLnVpU3RhdGVNb2R1bGVzPXtnYW1lTG9hZE1lbnU6ZnVuY3Rpb24oZSx0LGksbixvKXtyZXR1cm4gZXx8W3tuYW1lOlwiU3RhcnQgYnV0dG9uXCIsdGV4dDpcIlByZXNzIFN0YXJ0IHRvIGJlZ2luXCIsZGVzY3JpcHRpb246XCJNYWluIHN0YXJ0IGdhbWUgYnV0dG9uIGluIHRoZSBtYWluIGxvYWQgc2NyZWVuXCIsZm9udFNpemU6XCIzMHB4IEFyaWFsXCIsY2xpY2tlZDohMSxwcm9wZXJ0eWVzOntjdHg6dCx3aWR0aDo0MDAsaGVpZ2h0OjkwLHg6aS8yLTE1MCx5Om4vMis1MCxiYWNrZ3JvdW5kOlwicmdiYSgyNTUsIDI1NSwgMjU1LCAxKVwiLGJvcmRlckNvbG9yOlwicmdiYSgyNTUsIDI1NSwgMjU1LCAxKVwiLHJhZGl1czo0NX0sYWN0aW9uOmZ1bmN0aW9uKCl7dGhpcy5nYW1lU3RhcnQoKX0saW5pdDphLmluaXQsZ2V0T2JqZWN0UG9zaXRpb246YS5nZXRVSU9iamVjdFBvc2l0aW9ufSx7bmFtZTpcIkxvZ290eXBlXCIsdGV4dDpcIlwiLGRlc2NyaXB0aW9uOlwiR2FtZSBsb2dvdHlwZVwiLGNsaWNrZWQ6ITEscHJvcGVydHllczp7Y3R4OnQsd2lkdGg6MTAwLGhlaWdodDoxNDAsc1dpZHRoOjUwMyxzSGVpZ2h0OjY2OSx4OmkvMi01MCx5OjUwLGJhY2tncm91bmQ6bmV3IEltYWdlLGJvcmRlckNvbG9yOiExLHJhZGl1czpudWxsfSxsb2FkUGljdHVyZTpmdW5jdGlvbigpe3RoaXMucHJvcGVydHllcy5iYWNrZ3JvdW5kLnNyYz1vK1wibWlzYy9sb2dvLWhhbGYtd2hpdGVfMS5wbmdcIn0saW5pdDphLmluaXQsZ2V0T2JqZWN0UG9zaXRpb246YS5nZXRVSU9iamVjdFBvc2l0aW9ufSx7bmFtZTpcIkdhbWUgbmFtZVwiLHRleHQ6XCJTcGFjZVwiLGRlc2NyaXB0aW9uOlwiR2FtZSBwYXJ0IHRoZSBuYW1lXCIsY2xpY2tlZDohMSxmb250U2l6ZTpcImJvbGQgMTAwcHggUm9ib3RvXCIscHJvcGVydHllczp7Y3R4OnQsd2lkdGg6LTI0MCxoZWlnaHQ6MCx4OmkvMix5OjMwMCxiYWNrZ3JvdW5kOiExLGJvcmRlckNvbG9yOlwicmdiYSgyNTUsIDI1NSwgMjU1LCAxKVwiLHJhZGl1czpudWxsfSxpbml0OmEuaW5pdCxnZXRPYmplY3RQb3NpdGlvbjphLmdldFVJT2JqZWN0UG9zaXRpb259LHtuYW1lOlwiR2FtZSBuYW1lXCIsdGV4dDpcIkF0dGFja1wiLGRlc2NyaXB0aW9uOlwiR2FtZSBwYXJ0IHRoZSBuYW1lXCIsY2xpY2tlZDohMSxmb250U2l6ZTpcImxpZ2h0ZXIgMTAwcHggUm9ib3RvXCIscHJvcGVydHllczp7Y3R4OnQsd2lkdGg6NTAsaGVpZ2h0OjAseDppLzIseTozMDAsYmFja2dyb3VuZDohMSxib3JkZXJDb2xvcjpcInJnYmEoMjU1LCAyNTUsIDI1NSwgMSlcIixyYWRpdXM6bnVsbH0saW5pdDphLmluaXQsZ2V0T2JqZWN0UG9zaXRpb246YS5nZXRVSU9iamVjdFBvc2l0aW9ufSx7bmFtZTpcIlN0YXJ0IGJ1dHRvblwiLHRleHQ6XCJQcmVzcyBTdGFydCB0byBiZWdpblwiLGRlc2NyaXB0aW9uOlwiVGV4dCBpbiBtYWluIGJ1dHRvblwiLGZvbnRTaXplOlwiMzBweCBSb2JvdG9cIixjbGlja2VkOiExLHByb3BlcnR5ZXM6e2N0eDp0LHdpZHRoOi05MCxoZWlnaHQ6MTA1LHg6aS8yLHk6bi8yLGJhY2tncm91bmQ6ITEsYm9yZGVyQ29sb3I6XCIjMDA3QkQxXCIscmFkaXVzOm51bGx9LGluaXQ6YS5pbml0LGdldE9iamVjdFBvc2l0aW9uOmEuZ2V0VUlPYmplY3RQb3NpdGlvbn1dfX19LGZ1bmN0aW9uKGUsdCxpKXtpKDApLnZpZXdNb2R1bGVzO3ZhciBhPWkoNCkucGxheWVyU2hpcE1vZHVsZSxuPWkoMSkuZ2FtZU1ldGhvZHMsbz1pKDIpLmVuZW1pZXNNb2RlbCxyPWZ1bmN0aW9uKGUsdCxpLGEsbixvLHIscyl7dm9pZCAwPT09biYmKG49MTAwKSx2b2lkIDA9PT1vJiYobz0xMDApLHRoaXMuZGF0YT1lLHRoaXMucG9pbnRzPXQsdGhpcy5udW1iZXJPZmxpZmU9YSx0aGlzLmhlYWx0aFBvaW50PWkrZS5hcm1vcix0aGlzLm1heEhlYWx0aD1pK2UuYXJtb3IsdGhpcy54PW4sdGhpcy55PW8sdGhpcy54RmluYWw9bix0aGlzLnlGaW5hbD1vLHRoaXMuY29sbGlzaW9uQWxsb3c9ITAsdGhpcy5vYmplY3RPd25lcj1cInBsYXllclwiLHRoaXMud2lkdGg9cix0aGlzLmhlaWdodD1zLHRoaXMueEFkaj0wfTtyLnByb3RvdHlwZS5pbml0UGxheWVyU2hpcD1hLmluaXRQbGF5ZXJTaGlwLHIucHJvdG90eXBlLm1vdmVQbGF5ZXJTaGlwPWEubW92ZVBsYXllclNoaXAsci5wcm90b3R5cGUuc2hpcENvbnRyb2w9YS5zaGlwQ29udHJvbCxyLnByb3RvdHlwZS5tb3ZlU2hpcD1hLm1vdmVTaGlwLHIucHJvdG90eXBlLnBsYWNlU2hpcD1hLnBsYWNlU2hpcCxyLnByb3RvdHlwZS5zZXRDb250ZXh0PWEuc2V0Q29udGV4dCxyLnByb3RvdHlwZS5nZXRPYmplY3RQb3NpdGlvbj1uLmdldE9iamVjdFBvc2l0aW9uLHIucHJvdG90eXBlLnRha2VEYW1hZ2U9by50YWtlRGFtYWdlLGUuZXhwb3J0cy5wbGF5ZXJNb2R1bGVzPXtQbGF5ZXJTaGlwOnJ9fSxmdW5jdGlvbihlLHQsaSl7aSgwKS52aWV3TW9kdWxlczt2YXIgYT1pKDEpLmdhbWVNZXRob2RzLG49aSg0KS5wbGF5ZXJTaGlwTW9kdWxlLG89aSgyMikucmVndWxhckFpTW9kdWxlLHI9aSgyKS5lbmVtaWVzTW9kZWwscz1pKDI0KS51aU1vZHVsZXMsbD1pKDEwKS5zdGFydEdhbWVNb2R1bGVzLGM9aSgyOSkubGV2ZWxEYXRhUmVsb2FkLHU9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUsdCl7dGhpcy5nYW1lSW5pdERhdGE9ZSx0aGlzLnNlcnZlckxvY2F0aW9uPXQsdGhpcy5nYW1lSW5pdERhdGE9ZSx0aGlzLnNlcnZlckxvY2F0aW9uPXR9cmV0dXJuIGUucHJvdG90eXBlLmNoYW5nZUxldmVsPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLmdhbWVJbml0RGF0YS5nYW1lRGF0YS5jdXJyZW50TGV2ZWw9ZSx0aGlzLmdhbWVJbml0RGF0YS5nYW1lRGF0YS5jdXJyZW50TGV2ZWx9LGUucHJvdG90eXBlLnNob3dHYW1lSW5mbz1mdW5jdGlvbigpe3JldHVybntjdXJyZW50TGV2ZWw6dGhpcy5nYW1lSW5pdERhdGEuZ2FtZURhdGEuY3VycmVudExldmVsLGN1cnJlbnRQb2ludDp0aGlzLmdhbWVJbml0RGF0YS5nYW1lRGF0YS5jdXJyZW50UG9pbnR9fSxlLnByb3RvdHlwZS5zaG93TGV2ZWxEYXRhPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2FtZUluaXREYXRhLmdhbWVEYXRhLmxldmVsRGF0YX0sZS5wcm90b3R5cGUuZ2V0U2VydmVyTGV2ZWxEYXRhPWZ1bmN0aW9uKCl7fSxlLnByb3RvdHlwZS5yZXR1cm5Db250ZXh0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2FtZUluaXREYXRhLmdhbWVGaWVsZCYmdGhpcy5nYW1lSW5pdERhdGEuZ2FtZUFjdGlvbkZpZWxkJiZ0aGlzLmdhbWVJbml0RGF0YS5nYW1lVUlGaWVsZD97Z2FtZUZpZWxkOnRoaXMuZ2FtZUluaXREYXRhLmdhbWVGaWVsZCxnYW1lQWN0aW9uRmllbGQ6dGhpcy5nYW1lSW5pdERhdGEuY3R4QWN0aW9uRmllbGQsZ2FtZVVJRmllbGQ6dGhpcy5nYW1lSW5pdERhdGEuZ2FtZVVJRmllbGR9Om51bGx9LGV9KCk7dS5wcm90b3R5cGUuY3JlYXRlQ29udGV4dD1hLmNyZWF0ZUNvbnRleHQsdS5wcm90b3R5cGUuaW5pdEZpZWxkPWEuaW5pdEZpZWxkLHUucHJvdG90eXBlLmxldmVsSW5pdD1hLmxldmVsSW5pdCx1LnByb3RvdHlwZS5zZXRHYW1lRmllbGRzPWEuc2V0R2FtZUZpZWxkcyx1LnByb3RvdHlwZS53YXJwRWZmZWN0PWEud2FycEVmZmVjdCx1LnByb3RvdHlwZS5nZXRTY3JlZW5TaXplPWEuZ2V0U2NyZWVuU2l6ZSx1LnByb3RvdHlwZS5nZXRMZXZlbFVzZXJEYXRhPWEuZ2V0TGV2ZWxVc2VyRGF0YSx1LnByb3RvdHlwZS5sZXZlbFRpbWVyPWEubGV2ZWxUaW1lcix1LnByb3RvdHlwZS5nZXRTZWNvbmRNZWFzdXJlPWEuZ2V0U2Vjb25kTWVhc3VyZSx1LnByb3RvdHlwZS5pbml0UGxheWVyU2hpcD1uLmluaXRQbGF5ZXJTaGlwLHUucHJvdG90eXBlLnBsYWNlUGxheWVyU2hpcD1uLnBsYWNlUGxheWVyU2hpcCx1LnByb3RvdHlwZS5kZWxldGVCdWxsZXQ9YS5kZWxldGVCdWxsZXQsdS5wcm90b3R5cGUuZGVsZXRlT2JqZWN0cz1hLmRlbGV0ZU9iamVjdHMsdS5wcm90b3R5cGUuaGl0RGV0ZWN0aW9uPXIuaGl0RGV0ZWN0aW9uLHUucHJvdG90eXBlLmNvbGxlY3RQb2ludHM9YS5jb2xsZWN0UG9pbnRzLHUucHJvdG90eXBlLnNwYXduRW5lbXlMb2dpYz1vLnNwYXduRW5lbXlMb2dpYyx1LnByb3RvdHlwZS5jcmVhdGVOZXdFbmVteT1vLmNyZWF0ZU5ld0VuZW15LHUucHJvdG90eXBlLmdhbWVSYW5kb21pemVyPW8uZ2FtZVJhbmRvbWl6ZXIsdS5wcm90b3R5cGUudWlDb250cm9sbGVyPXMudWlDb250cm9sbGVyLHUucHJvdG90eXBlLmdhbWVVaVBhdXNlPXMuZ2FtZVVpUGF1c2UsdS5wcm90b3R5cGUuZ2FtZVVpTWVudT1zLmdhbWVVaU1lbnUsdS5wcm90b3R5cGUuc2hvd01lbnVXaW5kb3c9cy5zaG93TWVudVdpbmRvdyx1LnByb3RvdHlwZS5zaG93VWlQb3B1cFdpbmRvdz1zLnNob3dVaVBvcHVwV2luZG93LHUucHJvdG90eXBlLnNob3dTdGFydFdpbmRvdz1zLnNob3dTdGFydFdpbmRvdyx1LnByb3RvdHlwZS5zaG93UGF1c2VXaW5kb3c9cy5zaG93UGF1c2VXaW5kb3csdS5wcm90b3R5cGUuc2hvd0dhbWVTdGF0cz1zLnNob3dHYW1lU3RhdHMsdS5wcm90b3R5cGUuaW5pdFVpRWxlbWVudHM9cy5pbml0VWlFbGVtZW50cyx1LnByb3RvdHlwZS5nYW1lU3RhcnQ9bC5nYW1lU3RhcnQsdS5wcm90b3R5cGUuYmFja1RvU3RhcnRTY3JlZW49bC5iYWNrVG9TdGFydFNjcmVlbix1LnByb3RvdHlwZS5uZXh0TGV2ZWxEYXRhUmVsb2FkPWMubmV4dExldmVsRGF0YVJlbG9hZCx1LnByb3RvdHlwZS5jaGFuZ2VMZXZlbFByb2NlZHVyZT1hLmNoYW5nZUxldmVsUHJvY2VkdXJlLHUucHJvdG90eXBlLmdldFJhbmRvbUNvbG9yPWEuZ2V0UmFuZG9tQ29sb3IsZS5leHBvcnRzLmdhbWVNb2R1bGU9e0dhbWU6dX19LGZ1bmN0aW9uKGUsdCxpKXt2YXIgYT10aGlzJiZ0aGlzLl9fYXdhaXRlcnx8ZnVuY3Rpb24oZSx0LGksYSl7cmV0dXJuIG5ldyhpfHwoaT1Qcm9taXNlKSkoKGZ1bmN0aW9uKG4sbyl7ZnVuY3Rpb24gcihlKXt0cnl7bChhLm5leHQoZSkpfWNhdGNoKGUpe28oZSl9fWZ1bmN0aW9uIHMoZSl7dHJ5e2woYS50aHJvdyhlKSl9Y2F0Y2goZSl7byhlKX19ZnVuY3Rpb24gbChlKXt2YXIgdDtlLmRvbmU/bihlLnZhbHVlKToodD1lLnZhbHVlLHQgaW5zdGFuY2VvZiBpP3Q6bmV3IGkoKGZ1bmN0aW9uKGUpe2UodCl9KSkpLnRoZW4ocixzKX1sKChhPWEuYXBwbHkoZSx0fHxbXSkpLm5leHQoKSl9KSl9LG49dGhpcyYmdGhpcy5fX2dlbmVyYXRvcnx8ZnVuY3Rpb24oZSx0KXt2YXIgaSxhLG4sbyxyPXtsYWJlbDowLHNlbnQ6ZnVuY3Rpb24oKXtpZigxJm5bMF0pdGhyb3cgblsxXTtyZXR1cm4gblsxXX0sdHJ5czpbXSxvcHM6W119O3JldHVybiBvPXtuZXh0OnMoMCksdGhyb3c6cygxKSxyZXR1cm46cygyKX0sXCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiYob1tTeW1ib2wuaXRlcmF0b3JdPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9KSxvO2Z1bmN0aW9uIHMobyl7cmV0dXJuIGZ1bmN0aW9uKHMpe3JldHVybiBmdW5jdGlvbihvKXtpZihpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJHZW5lcmF0b3IgaXMgYWxyZWFkeSBleGVjdXRpbmcuXCIpO2Zvcig7cjspdHJ5e2lmKGk9MSxhJiYobj0yJm9bMF0/YS5yZXR1cm46b1swXT9hLnRocm93fHwoKG49YS5yZXR1cm4pJiZuLmNhbGwoYSksMCk6YS5uZXh0KSYmIShuPW4uY2FsbChhLG9bMV0pKS5kb25lKXJldHVybiBuO3N3aXRjaChhPTAsbiYmKG89WzImb1swXSxuLnZhbHVlXSksb1swXSl7Y2FzZSAwOmNhc2UgMTpuPW87YnJlYWs7Y2FzZSA0OnJldHVybiByLmxhYmVsKysse3ZhbHVlOm9bMV0sZG9uZTohMX07Y2FzZSA1OnIubGFiZWwrKyxhPW9bMV0sbz1bMF07Y29udGludWU7Y2FzZSA3Om89ci5vcHMucG9wKCksci50cnlzLnBvcCgpO2NvbnRpbnVlO2RlZmF1bHQ6aWYoIShuPShuPXIudHJ5cykubGVuZ3RoPjAmJm5bbi5sZW5ndGgtMV0pJiYoNj09PW9bMF18fDI9PT1vWzBdKSl7cj0wO2NvbnRpbnVlfWlmKDM9PT1vWzBdJiYoIW58fG9bMV0+blswXSYmb1sxXTxuWzNdKSl7ci5sYWJlbD1vWzFdO2JyZWFrfWlmKDY9PT1vWzBdJiZyLmxhYmVsPG5bMV0pe3IubGFiZWw9blsxXSxuPW87YnJlYWt9aWYobiYmci5sYWJlbDxuWzJdKXtyLmxhYmVsPW5bMl0sci5vcHMucHVzaChvKTticmVha31uWzJdJiZyLm9wcy5wb3AoKSxyLnRyeXMucG9wKCk7Y29udGludWV9bz10LmNhbGwoZSxyKX1jYXRjaChlKXtvPVs2LGVdLGE9MH1maW5hbGx5e2k9bj0wfWlmKDUmb1swXSl0aHJvdyBvWzFdO3JldHVybnt2YWx1ZTpvWzBdP29bMV06dm9pZCAwLGRvbmU6ITB9fShbbyxzXSl9fX0sbz0oaSgzKS5sZXZlbENvbnN0cnVjdG9yLGkoOCkucGxheWVyTW9kdWxlcykscj0oaSg5KS5nYW1lTW9kdWxlLGkoMSkuZW5naW5lTW9kdWxlLGkoMTEpLnNlcnZlck1vZHVsZXMpO2koMikuZW5lbWllcyxpKDApLnZpZXdNb2R1bGVzLGkoNykudWlTdGF0ZU1vZHVsZXM7ZnVuY3Rpb24gcygpe3JldHVybiBhKHRoaXMsdm9pZCAwLHZvaWQgMCwoZnVuY3Rpb24oKXt2YXIgZSx0LGksYSxzLGwsYyx1O3JldHVybiBuKHRoaXMsKGZ1bmN0aW9uKG4pe3N3aXRjaChuLmxhYmVsKXtjYXNlIDA6cmV0dXJuIGU9ZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNnYW1lZmllbGRcIiksdD1kb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2dhbWVPYmplY3RzZmllbGRcIiksaT1kb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2dhbWVVaWZpZWxkXCIpLGE9e2hvc3Q6XCJsb2NhbGhvc3RcIj09PWRvY3VtZW50LmxvY2F0aW9uLmhvc3RuYW1lP1wiaHR0cDovL2xvY2FsaG9zdDozMDAwL1wiOlwiXCIscGljdHVyZXNEaXJlY3Rpb246bG9jYXRpb24ub3JpZ2luK1wiL2ltYWdlcy9cIixsZXZlbERhdGE6e21ldGhvZDpcIkdFVFwiLHVybDpcImFwaS9sZXZlbC1kYXRhXCJ9LGdhbWVTZXRpbmdzOnttZXRob2Q6XCJHRVRcIix1cmw6XCJhcGkvZ2FtZS1ldHRpbmdzXCJ9LHVzZXJTaGlwOnttZXRob2Q6XCJHRVRcIix1cmw6XCJhcGkvdXNlci1zaGlwXCJ9LGVuZW15bERhdGE6e21ldGhvZDpcIkdFVFwiLHVybDpcImFwaS9lbmVteS1zaGlwXCJ9fSxbNCxyLmdldERhdGEoe3VybDphLmhvc3QrYS5sZXZlbERhdGEudXJsLG1ldGhvZDphLmxldmVsRGF0YS5tZXRob2QsZGF0YTpudWxsLGhlYWRlcnM6e21hcGxldmVsOjF9fSldO2Nhc2UgMTpyZXR1cm4gcz1uLnNlbnQoKSxbNCxyLmdldERhdGEoe3VybDphLmhvc3QrYS5nYW1lU2V0aW5ncy51cmwsbWV0aG9kOmEuZ2FtZVNldGluZ3MubWV0aG9kLGRhdGE6bnVsbCxoZWFkZXJzOm51bGx9KV07Y2FzZSAyOnJldHVybiBsPW4uc2VudCgpLFs0LHIuZ2V0RGF0YSh7dXJsOmEuaG9zdCthLnVzZXJTaGlwLnVybCxtZXRob2Q6YS51c2VyU2hpcC5tZXRob2QsZGF0YTpudWxsLGhlYWRlcnM6e3VzZXJzaGlwOjF9fSldO2Nhc2UgMzpyZXR1cm4gYz1uLnNlbnQoKSxbNCxyLmdldERhdGEoe3VybDphLmhvc3QrYS5lbmVteWxEYXRhLnVybCxtZXRob2Q6YS5lbmVteWxEYXRhLm1ldGhvZCxkYXRhOm51bGwsaGVhZGVyczp7XCJzaGlwLXR5cGUtbnVtYmVyXCI6MX19KV07Y2FzZSA0OnJldHVybiB1PW4uc2VudCgpLFsyLHtkYXRhOntjdHg6bnVsbCxnYW1lRmllbGQ6ZXx8bnVsbCxnYW1lQWN0aW9uRmllbGQ6dHx8bnVsbCxnYW1lVUlGaWVsZDppfHxudWxsLGdhbWVEYXRhOntjdXJyZW50TGV2ZWw6MSxjdXJyZW50UG9pbnQ6MCxwbGF5ZXJPYmplY3Q6bmV3IG8uUGxheWVyU2hpcChjLDAsMzAwLDUsMTAwLDEwMCxjLnNpemUud2lkdGgsYy5zaXplLmhlaWdodCksbGV2ZWxEYXRhOnMsZ2FtZVNldGluZ3M6bCxlbmVteURhdGE6dSxjb250cm9sbGVyczpudWxsfSxzY3JlZW46e3dpZHRoOndpbmRvdy5pbm5lcldpZHRoLGhlaWdodDp3aW5kb3cuaW5uZXJIZWlnaHR9LGludGVydmFsQ291bnQ6MjAsZW5lbXlUeXBlOm51bGwsYWxsR2FtZUVuZW1pZXM6W10sYWxsR2FtZUJ1bGxldHM6W10sYWxsR2FtZU1hcE9CamVjdHM6W10sbWFwQmFja2dyb3VuZE9iamVjdHM6W10sd2FycE9iamVjdHM6W10sdGltZVRvRXJlc3NMZXZlbDo0LGxldmVsQ2hhbmdlOiExLGdhbWVQYXVzZTohMSxnYW1lVWlQYXVzZTohMSxiYWNrU2NyZWVuUGF1c2U6ITAsZ2FtZVN0YXR1czohMSxnZW1lRXh0cmFTZWNvbmRzOjB9LGxvY2F0aW9uczphfV19fSkpfSkpfWUuZXhwb3J0cy5zdGFydEdhbWVNb2R1bGVzPXtnYW1lRGF0YUluaXQ6cyxnYW1lRW5naW5lOmZ1bmN0aW9uKGUpe3JldHVybiBhKHRoaXMsdm9pZCAwLHZvaWQgMCwoZnVuY3Rpb24oKXtyZXR1cm4gbih0aGlzLChmdW5jdGlvbihlKXtyZXR1cm5bMl19KSl9KSl9LGdhbWVTdGFydDpmdW5jdGlvbigpe3RoaXMuZ2FtZUluaXREYXRhLmdhbWVTdGF0dXM9ITB9LGJhY2tUb1N0YXJ0U2NyZWVuOmZ1bmN0aW9uKCl7cmV0dXJuIGEodGhpcyx2b2lkIDAsdm9pZCAwLChmdW5jdGlvbigpe3ZhciBlLHQsaSxhLG8scjtyZXR1cm4gbih0aGlzLChmdW5jdGlvbihuKXtzd2l0Y2gobi5sYWJlbCl7Y2FzZSAwOnJldHVybls0LHMoKV07Y2FzZSAxOmZvcihlPW4uc2VudCgpLHQ9MCxpPU9iamVjdC5lbnRyaWVzKGUuZGF0YSk7dDxpLmxlbmd0aDt0KyspYT1pW3RdLG89YVswXSxudWxsIT09KHI9YVsxXSkmJih0aGlzLmdhbWVJbml0RGF0YVtvXT1yKTtyZXR1cm4gdGhpcy5nYW1lSW5pdERhdGEuZ2FtZVN0YXR1cz0hMSxbMl19fSkpfSkpfX19LGZ1bmN0aW9uKGUsdCl7ZS5leHBvcnRzLnNlcnZlck1vZHVsZXM9e2dldERhdGE6ZnVuY3Rpb24oZSl7dmFyIHQ9ZS51cmwsaT1lLm1ldGhvZCxhPWUuZGF0YSxuPWUuaGVhZGVycyxvPU9iamVjdC5hc3NpZ24oe1wiQ29udGVudC1UeXBlXCI6XCJhcHBsaWNhdGlvbi9qc29uXCJ9LG58fCExKTtyZXR1cm4gZmV0Y2godCx7bWV0aG9kOmksbW9kZTpcImNvcnNcIixoZWFkZXJzOm8sYm9keTphP0pTT04uc3RyaW5naWZ5KGEpOm51bGx9KS50aGVuKChmdW5jdGlvbihlKXtyZXR1cm4gZS5qc29uKCl9KSkudGhlbigoZnVuY3Rpb24oZSl7cmV0dXJuIGV9KSl9fX0sZnVuY3Rpb24oZSx0LGkpe1widXNlIHN0cmljdFwiO3ZhciBhPXRoaXMmJnRoaXMuX19hd2FpdGVyfHxmdW5jdGlvbihlLHQsaSxhKXtyZXR1cm4gbmV3KGl8fChpPVByb21pc2UpKSgoZnVuY3Rpb24obixvKXtmdW5jdGlvbiByKGUpe3RyeXtsKGEubmV4dChlKSl9Y2F0Y2goZSl7byhlKX19ZnVuY3Rpb24gcyhlKXt0cnl7bChhLnRocm93KGUpKX1jYXRjaChlKXtvKGUpfX1mdW5jdGlvbiBsKGUpe3ZhciB0O2UuZG9uZT9uKGUudmFsdWUpOih0PWUudmFsdWUsdCBpbnN0YW5jZW9mIGk/dDpuZXcgaSgoZnVuY3Rpb24oZSl7ZSh0KX0pKSkudGhlbihyLHMpfWwoKGE9YS5hcHBseShlLHR8fFtdKSkubmV4dCgpKX0pKX0sbj10aGlzJiZ0aGlzLl9fZ2VuZXJhdG9yfHxmdW5jdGlvbihlLHQpe3ZhciBpLGEsbixvLHI9e2xhYmVsOjAsc2VudDpmdW5jdGlvbigpe2lmKDEmblswXSl0aHJvdyBuWzFdO3JldHVybiBuWzFdfSx0cnlzOltdLG9wczpbXX07cmV0dXJuIG89e25leHQ6cygwKSx0aHJvdzpzKDEpLHJldHVybjpzKDIpfSxcImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJihvW1N5bWJvbC5pdGVyYXRvcl09ZnVuY3Rpb24oKXtyZXR1cm4gdGhpc30pLG87ZnVuY3Rpb24gcyhvKXtyZXR1cm4gZnVuY3Rpb24ocyl7cmV0dXJuIGZ1bmN0aW9uKG8pe2lmKGkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkdlbmVyYXRvciBpcyBhbHJlYWR5IGV4ZWN1dGluZy5cIik7Zm9yKDtyOyl0cnl7aWYoaT0xLGEmJihuPTImb1swXT9hLnJldHVybjpvWzBdP2EudGhyb3d8fCgobj1hLnJldHVybikmJm4uY2FsbChhKSwwKTphLm5leHQpJiYhKG49bi5jYWxsKGEsb1sxXSkpLmRvbmUpcmV0dXJuIG47c3dpdGNoKGE9MCxuJiYobz1bMiZvWzBdLG4udmFsdWVdKSxvWzBdKXtjYXNlIDA6Y2FzZSAxOm49bzticmVhaztjYXNlIDQ6cmV0dXJuIHIubGFiZWwrKyx7dmFsdWU6b1sxXSxkb25lOiExfTtjYXNlIDU6ci5sYWJlbCsrLGE9b1sxXSxvPVswXTtjb250aW51ZTtjYXNlIDc6bz1yLm9wcy5wb3AoKSxyLnRyeXMucG9wKCk7Y29udGludWU7ZGVmYXVsdDppZighKG49KG49ci50cnlzKS5sZW5ndGg+MCYmbltuLmxlbmd0aC0xXSkmJig2PT09b1swXXx8Mj09PW9bMF0pKXtyPTA7Y29udGludWV9aWYoMz09PW9bMF0mJighbnx8b1sxXT5uWzBdJiZvWzFdPG5bM10pKXtyLmxhYmVsPW9bMV07YnJlYWt9aWYoNj09PW9bMF0mJnIubGFiZWw8blsxXSl7ci5sYWJlbD1uWzFdLG49bzticmVha31pZihuJiZyLmxhYmVsPG5bMl0pe3IubGFiZWw9blsyXSxyLm9wcy5wdXNoKG8pO2JyZWFrfW5bMl0mJnIub3BzLnBvcCgpLHIudHJ5cy5wb3AoKTtjb250aW51ZX1vPXQuY2FsbChlLHIpfWNhdGNoKGUpe289WzYsZV0sYT0wfWZpbmFsbHl7aT1uPTB9aWYoNSZvWzBdKXRocm93IG9bMV07cmV0dXJue3ZhbHVlOm9bMF0/b1sxXTp2b2lkIDAsZG9uZTohMH19KFtvLHNdKX19fTtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSxpKDEzKTt2YXIgbz1pKDMpLmxldmVsQ29uc3RydWN0b3Iscj0oaSg4KS5wbGF5ZXJNb2R1bGVzLGkoOSkuZ2FtZU1vZHVsZSkscz0oaSgxKS5lbmdpbmVNb2R1bGUsaSgxMSkuc2VydmVyTW9kdWxlcyxpKDIpLmVuZW1pZXMsaSgwKS52aWV3TW9kdWxlcyksbD0oaSg3KS51aVN0YXRlTW9kdWxlcyxpKDEwKS5zdGFydEdhbWVNb2R1bGVzKSxjPWkoNikuYnVsbGV0TW9kdWxlOyFmdW5jdGlvbigpe2EodGhpcyx2b2lkIDAsdm9pZCAwLChmdW5jdGlvbigpe2Z1bmN0aW9uIGUoKXtyZXR1cm4gYSh0aGlzLHZvaWQgMCx2b2lkIDAsKGZ1bmN0aW9uKCl7dmFyIGUsdCxhLHIsbCxoLGQsZztyZXR1cm4gbih0aGlzLChmdW5jdGlvbihuKXtpZihpLmdhbWVJbml0RGF0YS5jdHhVSUZpZWxkJiZzLmNsZWFyRmllbGQoaS5nYW1lSW5pdERhdGEuY3R4VUlGaWVsZCxpLmdhbWVJbml0RGF0YS5zY3JlZW4ud2lkdGgsaS5nYW1lSW5pdERhdGEuc2NyZWVuLmhlaWdodCksaS5nYW1lSW5pdERhdGEuY3R4QWN0aW9uRmllbGQmJiFpLmdhbWVJbml0RGF0YS5nYW1lUGF1c2UmJnMuY2xlYXJGaWVsZChpLmdhbWVJbml0RGF0YS5jdHhBY3Rpb25GaWVsZCxpLmdhbWVJbml0RGF0YS5zY3JlZW4ud2lkdGgsaS5nYW1lSW5pdERhdGEuc2NyZWVuLmhlaWdodCksaS5nYW1lSW5pdERhdGEuYmFja1NjcmVlblBhdXNlJiZpLmxldmVsSW5pdChvLkdhbWVCYWNrZ3JvdW5kLGkuZ2FtZUluaXREYXRhLmN0eCxpKSwhaS5nYW1lSW5pdERhdGEuYmFja1NjcmVlblBhdXNlfHwhaS5nYW1lSW5pdERhdGEuZ2FtZVBhdXNlfHwhaS5nYW1lSW5pdERhdGEuZ2FtZVN0YXR1cyl7aWYoIWkuZ2FtZUluaXREYXRhLmdhbWVQYXVzZXx8IWkuZ2FtZUluaXREYXRhLmdhbWVTdGF0dXMpZm9yKGkuZ2FtZUluaXREYXRhLmN0eCYmcy5jbGVhckZpZWxkKGkuZ2FtZUluaXREYXRhLmN0eCxpLmdhbWVJbml0RGF0YS5zY3JlZW4ud2lkdGgsaS5nYW1lSW5pdERhdGEuc2NyZWVuLmhlaWdodCksZT0wLHQ9aS5nYW1lSW5pdERhdGEubWFwQmFja2dyb3VuZE9iamVjdHM7ZTx0Lmxlbmd0aDtlKyspdFtlXS51cGRhdGVNYXAoKTtpLmdhbWVJbml0RGF0YS5sZXZlbENoYW5nZSYmaS53YXJwRWZmZWN0KGkpfWlmKCFpLmdhbWVJbml0RGF0YS5nYW1lUGF1c2UmJmkuZ2FtZUluaXREYXRhLmdhbWVTdGF0dXMpaWYoMT09aS5nYW1lSW5pdERhdGEuZ2FtZVN0YXR1cyl7aWYoaS5nYW1lSW5pdERhdGEubGV2ZWxDaGFuZ2V8fGkuc3Bhd25FbmVteUxvZ2ljKGkpLGkuZ2FtZUluaXREYXRhLmFsbEdhbWVCdWxsZXRzLmxlbmd0aD4wKWZvcihhPTAscj1pLmdhbWVJbml0RGF0YS5hbGxHYW1lQnVsbGV0czthPHIubGVuZ3RoO2ErKykobD1yW2FdKS5tb3ZlQnVsbGV0cygpLGwuY3JlYXRlQnVsbGV0cyhpKSxpLmRlbGV0ZUJ1bGxldChsKSxpLmhpdERldGVjdGlvbihsLGkuZ2FtZUluaXREYXRhLmFsbEdhbWVFbmVtaWVzLGkpLGkuaGl0RGV0ZWN0aW9uKHUsW2xdLGkpO2lmKGkuZ2FtZUluaXREYXRhLmFsbEdhbWVFbmVtaWVzLmxlbmd0aD4wKWZvcihoPTAsZD1pLmdhbWVJbml0RGF0YS5hbGxHYW1lRW5lbWllcztoPGQubGVuZ3RoO2grKykoZz1kW2hdKS5wbGFjZUVuZW15ZXMoaSksZy5tb3ZlRW5lbXllcygpLGcuZW5lbXlBbmltYXRpb24oKSxnLnNob290KGMuQnVsbGV0Q29uc3RydWN0LGkpLGkuZGVsZXRlT2JqZWN0cyhnKTtpLmxldmVsVGltZXIoKSx1LnBsYWNlU2hpcCgpLHUubW92ZVBsYXllclNoaXAoKX1lbHNlIGkuZ2FtZUluaXREYXRhLmdhbWVTdGF0dXM7cmV0dXJuIGkuZ2FtZUluaXREYXRhLmdhbWVTdGF0dXN8fGkuc2hvd1N0YXJ0V2luZG93KCksaS5nYW1lSW5pdERhdGEuZ2FtZVN0YXR1cyYmaS5zaG93R2FtZVN0YXRzKCksaS5nYW1lSW5pdERhdGEuZ2FtZVBhdXNlJiZpLnNob3dQYXVzZVdpbmRvdygpLGkuZ2FtZUluaXREYXRhLmdhbWVVaVBhdXNlJiYoaS5zaG93TWVudVdpbmRvdygpLGkuc2hvd1BhdXNlV2luZG93KCkpLFsyXX0pKX0pKX12YXIgdCxpLHUsaDtyZXR1cm4gbih0aGlzLChmdW5jdGlvbihhKXtzd2l0Y2goYS5sYWJlbCl7Y2FzZSAwOnJldHVybls0LGwuZ2FtZURhdGFJbml0KCldO2Nhc2UgMTpyZXR1cm4gdD1hLnNlbnQoKSxpPW5ldyByLkdhbWUodC5kYXRhLHQubG9jYXRpb25zKSx1PWkuZ2FtZUluaXREYXRhLmdhbWVEYXRhLnBsYXllck9iamVjdCxzZXRJbnRlcnZhbChlLGkuZ2FtZUluaXREYXRhLmludGVydmFsQ291bnQpLGkudWlDb250cm9sbGVyKCksaS5zZXRHYW1lRmllbGRzKCksaS5nZXRTY3JlZW5TaXplKCksaD1pLnJldHVybkNvbnRleHQoKSx1LmN0eD1oLmdhbWVBY3Rpb25GaWVsZCx1LmluaXRQbGF5ZXJTaGlwKGkpLHUuc2hpcENvbnRyb2woaSksWzJdfX0pKX0pKX0oKX0sZnVuY3Rpb24oZSx0LGkpe3ZhciBhPWkoMTQpLG49aSgxNSk7XCJzdHJpbmdcIj09dHlwZW9mKG49bi5fX2VzTW9kdWxlP24uZGVmYXVsdDpuKSYmKG49W1tlLmksbixcIlwiXV0pO3ZhciBvPXtpbnNlcnQ6XCJoZWFkXCIsc2luZ2xldG9uOiExfSxyPShhKG4sbyksbi5sb2NhbHM/bi5sb2NhbHM6e30pO2UuZXhwb3J0cz1yfSxmdW5jdGlvbihlLHQsaSl7XCJ1c2Ugc3RyaWN0XCI7dmFyIGEsbj1mdW5jdGlvbigpe3JldHVybiB2b2lkIDA9PT1hJiYoYT1Cb29sZWFuKHdpbmRvdyYmZG9jdW1lbnQmJmRvY3VtZW50LmFsbCYmIXdpbmRvdy5hdG9iKSksYX0sbz1mdW5jdGlvbigpe3ZhciBlPXt9O3JldHVybiBmdW5jdGlvbih0KXtpZih2b2lkIDA9PT1lW3RdKXt2YXIgaT1kb2N1bWVudC5xdWVyeVNlbGVjdG9yKHQpO2lmKHdpbmRvdy5IVE1MSUZyYW1lRWxlbWVudCYmaSBpbnN0YW5jZW9mIHdpbmRvdy5IVE1MSUZyYW1lRWxlbWVudCl0cnl7aT1pLmNvbnRlbnREb2N1bWVudC5oZWFkfWNhdGNoKGUpe2k9bnVsbH1lW3RdPWl9cmV0dXJuIGVbdF19fSgpLHI9W107ZnVuY3Rpb24gcyhlKXtmb3IodmFyIHQ9LTEsaT0wO2k8ci5sZW5ndGg7aSsrKWlmKHJbaV0uaWRlbnRpZmllcj09PWUpe3Q9aTticmVha31yZXR1cm4gdH1mdW5jdGlvbiBsKGUsdCl7Zm9yKHZhciBpPXt9LGE9W10sbj0wO248ZS5sZW5ndGg7bisrKXt2YXIgbz1lW25dLGw9dC5iYXNlP29bMF0rdC5iYXNlOm9bMF0sYz1pW2xdfHwwLHU9XCJcIi5jb25jYXQobCxcIiBcIikuY29uY2F0KGMpO2lbbF09YysxO3ZhciBoPXModSksZD17Y3NzOm9bMV0sbWVkaWE6b1syXSxzb3VyY2VNYXA6b1szXX07LTEhPT1oPyhyW2hdLnJlZmVyZW5jZXMrKyxyW2hdLnVwZGF0ZXIoZCkpOnIucHVzaCh7aWRlbnRpZmllcjp1LHVwZGF0ZXI6ZihkLHQpLHJlZmVyZW5jZXM6MX0pLGEucHVzaCh1KX1yZXR1cm4gYX1mdW5jdGlvbiBjKGUpe3ZhciB0PWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzdHlsZVwiKSxhPWUuYXR0cmlidXRlc3x8e307aWYodm9pZCAwPT09YS5ub25jZSl7dmFyIG49aS5uYztuJiYoYS5ub25jZT1uKX1pZihPYmplY3Qua2V5cyhhKS5mb3JFYWNoKChmdW5jdGlvbihlKXt0LnNldEF0dHJpYnV0ZShlLGFbZV0pfSkpLFwiZnVuY3Rpb25cIj09dHlwZW9mIGUuaW5zZXJ0KWUuaW5zZXJ0KHQpO2Vsc2V7dmFyIHI9byhlLmluc2VydHx8XCJoZWFkXCIpO2lmKCFyKXRocm93IG5ldyBFcnJvcihcIkNvdWxkbid0IGZpbmQgYSBzdHlsZSB0YXJnZXQuIFRoaXMgcHJvYmFibHkgbWVhbnMgdGhhdCB0aGUgdmFsdWUgZm9yIHRoZSAnaW5zZXJ0JyBwYXJhbWV0ZXIgaXMgaW52YWxpZC5cIik7ci5hcHBlbmRDaGlsZCh0KX1yZXR1cm4gdH12YXIgdSxoPSh1PVtdLGZ1bmN0aW9uKGUsdCl7cmV0dXJuIHVbZV09dCx1LmZpbHRlcihCb29sZWFuKS5qb2luKFwiXFxuXCIpfSk7ZnVuY3Rpb24gZChlLHQsaSxhKXt2YXIgbj1pP1wiXCI6YS5tZWRpYT9cIkBtZWRpYSBcIi5jb25jYXQoYS5tZWRpYSxcIiB7XCIpLmNvbmNhdChhLmNzcyxcIn1cIik6YS5jc3M7aWYoZS5zdHlsZVNoZWV0KWUuc3R5bGVTaGVldC5jc3NUZXh0PWgodCxuKTtlbHNle3ZhciBvPWRvY3VtZW50LmNyZWF0ZVRleHROb2RlKG4pLHI9ZS5jaGlsZE5vZGVzO3JbdF0mJmUucmVtb3ZlQ2hpbGQoclt0XSksci5sZW5ndGg/ZS5pbnNlcnRCZWZvcmUobyxyW3RdKTplLmFwcGVuZENoaWxkKG8pfX1mdW5jdGlvbiBnKGUsdCxpKXt2YXIgYT1pLmNzcyxuPWkubWVkaWEsbz1pLnNvdXJjZU1hcDtpZihuP2Uuc2V0QXR0cmlidXRlKFwibWVkaWFcIixuKTplLnJlbW92ZUF0dHJpYnV0ZShcIm1lZGlhXCIpLG8mJmJ0b2EmJihhKz1cIlxcbi8qIyBzb3VyY2VNYXBwaW5nVVJMPWRhdGE6YXBwbGljYXRpb24vanNvbjtiYXNlNjQsXCIuY29uY2F0KGJ0b2EodW5lc2NhcGUoZW5jb2RlVVJJQ29tcG9uZW50KEpTT04uc3RyaW5naWZ5KG8pKSkpLFwiICovXCIpKSxlLnN0eWxlU2hlZXQpZS5zdHlsZVNoZWV0LmNzc1RleHQ9YTtlbHNle2Zvcig7ZS5maXJzdENoaWxkOyllLnJlbW92ZUNoaWxkKGUuZmlyc3RDaGlsZCk7ZS5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShhKSl9fXZhciBtPW51bGwscD0wO2Z1bmN0aW9uIGYoZSx0KXt2YXIgaSxhLG47aWYodC5zaW5nbGV0b24pe3ZhciBvPXArKztpPW18fChtPWModCkpLGE9ZC5iaW5kKG51bGwsaSxvLCExKSxuPWQuYmluZChudWxsLGksbywhMCl9ZWxzZSBpPWModCksYT1nLmJpbmQobnVsbCxpLHQpLG49ZnVuY3Rpb24oKXshZnVuY3Rpb24oZSl7aWYobnVsbD09PWUucGFyZW50Tm9kZSlyZXR1cm4hMTtlLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoZSl9KGkpfTtyZXR1cm4gYShlKSxmdW5jdGlvbih0KXtpZih0KXtpZih0LmNzcz09PWUuY3NzJiZ0Lm1lZGlhPT09ZS5tZWRpYSYmdC5zb3VyY2VNYXA9PT1lLnNvdXJjZU1hcClyZXR1cm47YShlPXQpfWVsc2UgbigpfX1lLmV4cG9ydHM9ZnVuY3Rpb24oZSx0KXsodD10fHx7fSkuc2luZ2xldG9ufHxcImJvb2xlYW5cIj09dHlwZW9mIHQuc2luZ2xldG9ufHwodC5zaW5nbGV0b249bigpKTt2YXIgaT1sKGU9ZXx8W10sdCk7cmV0dXJuIGZ1bmN0aW9uKGUpe2lmKGU9ZXx8W10sXCJbb2JqZWN0IEFycmF5XVwiPT09T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGUpKXtmb3IodmFyIGE9MDthPGkubGVuZ3RoO2ErKyl7dmFyIG49cyhpW2FdKTtyW25dLnJlZmVyZW5jZXMtLX1mb3IodmFyIG89bChlLHQpLGM9MDtjPGkubGVuZ3RoO2MrKyl7dmFyIHU9cyhpW2NdKTswPT09clt1XS5yZWZlcmVuY2VzJiYoclt1XS51cGRhdGVyKCksci5zcGxpY2UodSwxKSl9aT1vfX19fSxmdW5jdGlvbihlLHQsaSl7KHQ9aSgxNikoITEpKS5wdXNoKFtlLmksXCJib2R5e2ZvbnQtZmFtaWx5OidSb2JvdG8nO2NvbG9yOm9yYW5nZTtiYWNrZ3JvdW5kOiMzMzM7bWFyZ2luOjA7cGFkZGluZzowfWNhbnZhc3tjdXJzb3I6Y3Jvc3NoYWlyfS5nYW1lQmFja2dyb3VuZHtiYWNrZ3JvdW5kOiMwMDB9LmdhbWUtZmllbGRze3Bvc2l0aW9uOmFic29sdXRlfS5nYW1lLWZpZWxkLXdyYXBwZXJ7ZGlzcGxheTpmbGV4O2p1c3RpZnktY29udGVudDpjZW50ZXI7aGVpZ2h0OjEwMHZoO2FsaWduLWl0ZW1zOmNlbnRlcn1cXG5cIixcIlwiXSksZS5leHBvcnRzPXR9LGZ1bmN0aW9uKGUsdCxpKXtcInVzZSBzdHJpY3RcIjtlLmV4cG9ydHM9ZnVuY3Rpb24oZSl7dmFyIHQ9W107cmV0dXJuIHQudG9TdHJpbmc9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5tYXAoKGZ1bmN0aW9uKHQpe3ZhciBpPWZ1bmN0aW9uKGUsdCl7dmFyIGk9ZVsxXXx8XCJcIixhPWVbM107aWYoIWEpcmV0dXJuIGk7aWYodCYmXCJmdW5jdGlvblwiPT10eXBlb2YgYnRvYSl7dmFyIG49KHI9YSxzPWJ0b2EodW5lc2NhcGUoZW5jb2RlVVJJQ29tcG9uZW50KEpTT04uc3RyaW5naWZ5KHIpKSkpLGw9XCJzb3VyY2VNYXBwaW5nVVJMPWRhdGE6YXBwbGljYXRpb24vanNvbjtjaGFyc2V0PXV0Zi04O2Jhc2U2NCxcIi5jb25jYXQocyksXCIvKiMgXCIuY29uY2F0KGwsXCIgKi9cIikpLG89YS5zb3VyY2VzLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuXCIvKiMgc291cmNlVVJMPVwiLmNvbmNhdChhLnNvdXJjZVJvb3R8fFwiXCIpLmNvbmNhdChlLFwiICovXCIpfSkpO3JldHVybltpXS5jb25jYXQobykuY29uY2F0KFtuXSkuam9pbihcIlxcblwiKX12YXIgcixzLGw7cmV0dXJuW2ldLmpvaW4oXCJcXG5cIil9KHQsZSk7cmV0dXJuIHRbMl0/XCJAbWVkaWEgXCIuY29uY2F0KHRbMl0sXCIge1wiKS5jb25jYXQoaSxcIn1cIik6aX0pKS5qb2luKFwiXCIpfSx0Lmk9ZnVuY3Rpb24oZSxpLGEpe1wic3RyaW5nXCI9PXR5cGVvZiBlJiYoZT1bW251bGwsZSxcIlwiXV0pO3ZhciBuPXt9O2lmKGEpZm9yKHZhciBvPTA7bzx0aGlzLmxlbmd0aDtvKyspe3ZhciByPXRoaXNbb11bMF07bnVsbCE9ciYmKG5bcl09ITApfWZvcih2YXIgcz0wO3M8ZS5sZW5ndGg7cysrKXt2YXIgbD1bXS5jb25jYXQoZVtzXSk7YSYmbltsWzBdXXx8KGkmJihsWzJdP2xbMl09XCJcIi5jb25jYXQoaSxcIiBhbmQgXCIpLmNvbmNhdChsWzJdKTpsWzJdPWkpLHQucHVzaChsKSl9fSx0fX0sZnVuY3Rpb24oZSx0KXtlLmV4cG9ydHMuRVJST1JfTElTVD17bm9EYXRhOlwiVGhlcmUgaXMgbm8gZGF0YVwiLG5vT2JqZWN0OlwiVGhlcmUgaXMgbm8gT2JqZWN0XCJ9fSxmdW5jdGlvbihlLHQsaSl7aSgwKS52aWV3TW9kdWxlcztlLmV4cG9ydHMudWlXaW5kb3dNb2R1bGVzPXtjcmVhdGVXaW5kb3c6ZnVuY3Rpb24oZSx0KXt2YXIgaT10aGlzLmdldFNjcmVlblNpemUoKTtpLndpZHRoLGkuaGVpZ2h0LGUuZmlsbFJlY3QodC54LHQueSx0LndpZHRoLHQuaGVpZ2h0KX0sY3JlYXRlU2hhcGVSb3VuZEJvcmRlcjpmdW5jdGlvbihlKXt2YXIgdD1lLnByb3BlcnR5ZXM7dC5jdHguZmlsbFN0eWxlPXQuYmFja2dyb3VuZCx0LmN0eC5iZWdpblBhdGgoKSx0LmN0eC5tb3ZlVG8odC54K3QucmFkaXVzLHQueSksdC5jdHgubGluZVRvKHQueCt0LndpZHRoLXQucmFkaXVzLHQueSksdC5jdHgucXVhZHJhdGljQ3VydmVUbyh0LngrdC53aWR0aCx0LnksdC54K3Qud2lkdGgsdC55K3QucmFkaXVzKSx0LmN0eC5saW5lVG8odC54K3Qud2lkdGgsdC55K3QuaGVpZ2h0LXQucmFkaXVzKSx0LmN0eC5xdWFkcmF0aWNDdXJ2ZVRvKHQueCt0LndpZHRoLHQueSt0LmhlaWdodCx0LngrdC53aWR0aC10LnJhZGl1cyx0LnkrdC5oZWlnaHQpLHQuY3R4LmxpbmVUbyh0LngrdC5yYWRpdXMsdC55K3QuaGVpZ2h0KSx0LmN0eC5xdWFkcmF0aWNDdXJ2ZVRvKHQueCx0LnkrdC5oZWlnaHQsdC54LHQueSt0LmhlaWdodC10LnJhZGl1cyksdC5jdHgubGluZVRvKHQueCx0LnkrdC5yYWRpdXMpLHQuY3R4LnF1YWRyYXRpY0N1cnZlVG8odC54LHQueSx0LngrdC5yYWRpdXMsdC55KSx0LmN0eC5jbG9zZVBhdGgoKSx0LmN0eC5maWxsKCl9fX0sZnVuY3Rpb24oZSx0LGkpe2koMCkudmlld01vZHVsZXM7ZS5leHBvcnRzLndlYXBvbk1vZHVsZXM9e3dlYXBvbjFmb3J3YXJkOmZ1bmN0aW9uKGUsdCl7ZS5jdHguZmlsbFN0eWxlPVwicmdiYSgyNTUsIDI1NSwgMjU1KVwiLGUuY3R4LnNhdmUoKSx0KGUuY3R4LFwiYmVnaW5QYXRoXCIpLHQoZS5jdHgsXCJtb3ZlVG9cIixlLngsZS55K2UuaGVpZ2h0LzIpLHQoZS5jdHgsXCJsaW5lVG9cIixlLngrZS53aWR0aC1lLnJhZGl1cyxlLnktMCksdChlLmN0eCxcInF1YWRyYXRpY0N1cnZlVG9cIixlLngrZS53aWR0aCxlLnksZS54K2Uud2lkdGgsZS55K2UucmFkaXVzKSx0KGUuY3R4LFwibGluZVRvXCIsZS54K2Uud2lkdGgsZS55K2UuaGVpZ2h0KzAtZS5yYWRpdXMpLHQoZS5jdHgsXCJxdWFkcmF0aWNDdXJ2ZVRvXCIsZS54K2Uud2lkdGgsZS55K2UuaGVpZ2h0KzAsZS54K2Uud2lkdGgtZS5yYWRpdXMsZS55KzArZS5oZWlnaHQpLHQoZS5jdHgsXCJsaW5lVG9cIixlLngsZS55K2UuaGVpZ2h0LzIpLHQoZS5jdHgsXCJjbG9zZVBhdGhcIiksdChlLmN0eCxcImZpbGxcIiksZS5jdHgubGluZVdpZHRoPTIsZS5jdHguc3Ryb2tlU3R5bGU9ZS5jb2xvcixlLmN0eC5zaGFkb3dDb2xvcj1lLmNvbG9yLGUuY3R4LnNoYWRvd0JsdXI9Nix0KGUuY3R4LFwic3Ryb2tlXCIpLGUuY3R4LnJlc3RvcmUoKX0sd2VhcG9uMWJhY2t3YXJkOmZ1bmN0aW9uKGUsdCl7ZS5jdHguZmlsbFN0eWxlPVwicmdiYSgyNTUsIDI1NSwgMjU1KVwiLGUuY3R4LnNhdmUoKSx0KGUuY3R4LFwiYmVnaW5QYXRoXCIpLHQoZS5jdHgsXCJtb3ZlVG9cIixlLngrZS53aWR0aCxlLnkrZS5oZWlnaHQvMiksdChlLmN0eCxcImxpbmVUb1wiLGUueCtlLnJhZGl1cyxlLnktMCksdChlLmN0eCxcInF1YWRyYXRpY0N1cnZlVG9cIixlLngsZS55LTAsZS54LGUueS0wK2UucmFkaXVzKSx0KGUuY3R4LFwibGluZVRvXCIsZS54LGUueSsoZS5oZWlnaHQtZS5yYWRpdXMpKzApLHQoZS5jdHgsXCJxdWFkcmF0aWNDdXJ2ZVRvXCIsZS54LGUueStlLmhlaWdodCswLGUueCtlLnJhZGl1cyxlLnkrZS5oZWlnaHQrMCksdChlLmN0eCxcImxpbmVUb1wiLGUueCtlLndpZHRoLGUueStlLmhlaWdodC8yKSx0KGUuY3R4LFwiY2xvc2VQYXRoXCIpLHQoZS5jdHgsXCJmaWxsXCIpLGUuY3R4LmxpbmVXaWR0aD0yLGUuY3R4LnNoYWRvd0NvbG9yPWUuY29sb3IsZS5jdHguc2hhZG93Qmx1cj02LGUuY3R4LnN0cm9rZVN0eWxlPWUuY29sb3IsdChlLmN0eCxcInN0cm9rZVwiKSxlLmN0eC5yZXN0b3JlKCl9fX0sZnVuY3Rpb24oZSx0LGkpe3ZhciBhPWkoMCkudmlld01vZHVsZXM7ZS5leHBvcnRzLmJ1bGxldHNNb2R1bGU9e2NyZWF0ZUJ1bGxldHM6ZnVuY3Rpb24oZSl7YS5jcmVhdGVMYXNlckJ1bGxldCh7c291cmNlOnRoaXMsb2JqZWN0T3duZXI6dGhpcy5vYmplY3RPd25lcixjdHg6ZS5nYW1lSW5pdERhdGEuY3R4QWN0aW9uRmllbGQseDp0aGlzLngseTp0aGlzLnksY29sb3I6dGhpcy5idWxsZXRUZXh0dXJlLHdpZHRoOnRoaXMud2lkdGgsaGVpZ2h0OnRoaXMuaGVpZ2h0LHJhZGl1czo1LHR5cGU6dGhpcy50eXBlfSl9LGluaXRCdWxsZXRzOmZ1bmN0aW9uKCl7fSxtb3ZlQnVsbGV0czpmdW5jdGlvbigpe1wicGxheWVyXCI9PXRoaXMub2JqZWN0T3duZXI/dGhpcy54Kz10aGlzLmJ1bGxldFNwZWVkOnRoaXMueC09dGhpcy5idWxsZXRTcGVlZH19fSxmdW5jdGlvbihlLHQsaSl7dmFyIGE9aSgwKS52aWV3TW9kdWxlcztpKDEpLmdhbWVNZXRob2RzLGkoNCkucGxheWVyU2hpcE1vZHVsZTtlLmV4cG9ydHMuYmFja2dyb3VuZE1hcE1vZHVsZT17dXBkYXRlTWFwOmZ1bmN0aW9uKCl7dGhpcy54LT10aGlzLmJhY2tncm91bmRTcGVlZCx0aGlzLngrdGhpcy5zY3JlZW5EYXRhLndpZHRoPDAmJih0aGlzLng9dGhpcy5zY3JlZW5EYXRhLndpZHRoKSxhLmNyZWF0ZUltYWdlKHRoaXMuY3R4LHRoaXMuaW1nLHRoaXMueCwwLHRoaXMuc2NyZWVuRGF0YS53aWR0aCsyLHRoaXMuc2NyZWVuRGF0YS5oZWlnaHQpfX19LGZ1bmN0aW9uKGUsdCxpKXt2YXIgYT1pKDIzKS5vYmplY3RDb25zdHJ1Y3RvcjtlLmV4cG9ydHMucmVndWxhckFpTW9kdWxlPXtkYXJ0U2hpcExvZ2ljOmZ1bmN0aW9uKCl7fSxzcGF3bkVuZW15TG9naWM6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5nYW1lSW5pdERhdGEuZ2FtZURhdGEsaT10LmxldmVsRGF0YSxhPXQuZW5lbXlEYXRhO2lmKCF0aGlzLmdhbWVJbml0RGF0YS5nYW1lRGF0YS5sZXZlbENoYW5nZSYmdGhpcy5nYW1lUmFuZG9taXplcihpLmVuZW15UHJvYmFiaWxpdHkpPD1pLmVuZW15UmFuZG9taXplckluZGV4KWZvcih2YXIgbj10aGlzLmdhbWVSYW5kb21pemVyKGkuZW5lbXlNYXhOdW1iZXIpO248aS5lbmVteU1heE51bWJlcjtuKyspe3ZhciBvPWFbdGhpcy5nYW1lUmFuZG9taXplcihhLmxlbmd0aCldLHI9dGhpcy5jcmVhdGVOZXdFbmVteShvKTtyLmxvYWRFbmVteWVzKCksdGhpcy5nYW1lSW5pdERhdGEuYWxsR2FtZUVuZW1pZXM9dGhpcy5nYW1lSW5pdERhdGEuYWxsR2FtZUVuZW1pZXMuY29uY2F0KHIpfX0sY3JlYXRlTmV3RW5lbXk6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5nYW1lSW5pdERhdGEuc2NyZWVuLndpZHRoKzMwMCxpPXRoaXMuZ2FtZVJhbmRvbWl6ZXIodGhpcy5nYW1lSW5pdERhdGEuc2NyZWVuLmhlaWdodC0yMDAsMTAwKSxuPWUuZGV0YWlscztyZXR1cm4gbmV3IGEuRW5lbXlPYmplY3QodCxpLG4uc3gsbi5zeSxuLmltYWdlV2lkdGgvbi5udW1iZXJPZkl0ZW1zLG4uaW1hZ2VIZWlnaHQsbi5pbWFnZVdpZHRoLG4ubnVtYmVyT2ZJdGVtcyxuLndpZHRoLG4uaGVpZ2h0LG4uc2tpbk5hbWUsbi5zcGVlZCxuLnN0YXR1cyxuLm5hbWUsbi5idWxsZXRUeXBlLG4ucmFwaWRGaXJlLG4ucG9pbnRzUGVyVW5pdCxuLmhlYWx0aFBvaW50LG4uYW5pbWF0aW9uU3RlcHMsbi5kYW1hZ2Usbi5vYmplY3RPd25lcixuLmd1bnMpfSxnYW1lUmFuZG9taXplcjpmdW5jdGlvbihlLHQpe3JldHVybiB2b2lkIDA9PT10JiYodD0wKSxNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkqZSt0KX19fSxmdW5jdGlvbihlLHQsaSl7dmFyIGE9aSgyKS5lbmVtaWVzTW9kZWwsbj1pKDEpLmdhbWVNZXRob2RzLG89ZnVuY3Rpb24oZSx0LGksYSxuLG8scixzLGwsYyx1LGgsZCxnLG0scCxmLHksdix4LGIsdyl7dGhpcy5pZD0obmV3IERhdGUpLmdldFRpbWUoKSx0aGlzLng9ZSx0aGlzLnk9dCx0aGlzLnN4PWksdGhpcy5zeT1hLHRoaXMuc1dpZHRoPW4sdGhpcy5zSGVpZ2h0PW8sdGhpcy5waWN0dXJlc1dpZHRoPXIsdGhpcy5udW1iZXJPZkl0ZW1zPXMsdGhpcy53aWR0aD1sLHRoaXMuaGVpZ2h0PWMsdGhpcy5zaGlwVGV4dHVyZT1sb2NhdGlvbi5vcmlnaW4rXCIvaW1hZ2VzL3NwYWNlU2hpcHMvXCIrdSx0aGlzLmVuZW15U3BlZWQ9aCx0aGlzLnN0YXR1cz1kLHRoaXMubmFtZT1nLHRoaXMuYnVsbGV0VHlwZU51bWJlcj1tLHRoaXMucmFwaWRGaXJlPXAsdGhpcy5wb2ludHNQZXJVbml0PWYsdGhpcy5oZWFsdGhQb2ludD15LHRoaXMuYW5pbWF0aW9uU3RlcHM9dix0aGlzLmRhbWFnZT14LHRoaXMuZ3Vucz13LHRoaXMuZGV0ZWN0RnJhbWU9MCx0aGlzLm9iamVjdFByZXNlbnQ9ITAsdGhpcy5vYmplY3RPd25lcj1iLHRoaXMuZ3Vucz13fTtvLnByb3RvdHlwZS5wbGFjZUVuZW15ZXM9YS5wbGFjZUVuZW15ZXMsby5wcm90b3R5cGUubW92ZUVuZW15ZXM9YS5tb3ZlRW5lbXllcyxvLnByb3RvdHlwZS5sb2FkRW5lbXllcz1hLmxvYWRFbmVteWVzLG8ucHJvdG90eXBlLnNob290PWEuc2hvb3Qsby5wcm90b3R5cGUuZW5lbXlBbmltYXRpb249YS5lbmVteUFuaW1hdGlvbixvLnByb3RvdHlwZS5nZXRPYmplY3RQb3NpdGlvbj1uLmdldE9iamVjdFBvc2l0aW9uLG8ucHJvdG90eXBlLnRha2VEYW1hZ2U9YS50YWtlRGFtYWdlLGUuZXhwb3J0cy5vYmplY3RDb25zdHJ1Y3Rvcj17RW5lbXlPYmplY3Q6b319LGZ1bmN0aW9uKGUsdCxpKXt2YXIgYT10aGlzJiZ0aGlzLl9fc3ByZWFkQXJyYXlzfHxmdW5jdGlvbigpe2Zvcih2YXIgZT0wLHQ9MCxpPWFyZ3VtZW50cy5sZW5ndGg7dDxpO3QrKyllKz1hcmd1bWVudHNbdF0ubGVuZ3RoO3ZhciBhPUFycmF5KGUpLG49MDtmb3IodD0wO3Q8aTt0KyspZm9yKHZhciBvPWFyZ3VtZW50c1t0XSxyPTAscz1vLmxlbmd0aDtyPHM7cisrLG4rKylhW25dPW9bcl07cmV0dXJuIGF9LG49aSgwKS52aWV3TW9kdWxlcyxvPWkoNykudWlTdGF0ZU1vZHVsZXMscj1pKDI1KS51aVNldHRpbmdzTWVudSxzPWkoMjYpLmdhbWVQYXVzZU1vZHVsZSxsPWkoMjcpLmdhbWVTdGF0c1NjcmVlbnMsYz1pKDI4KS51aUVsZW1lbnRzLHU9aSgyKS5lbmVtaWVzTW9kZWw7ZS5leHBvcnRzLnVpTW9kdWxlcz17Z2FtZVVpUGF1c2U6ZnVuY3Rpb24oKXshdGhpcy5nYW1lSW5pdERhdGEuZ2FtZVVpUGF1c2UmJnRoaXMuZ2FtZUluaXREYXRhLmdhbWVTdGF0dXMmJih0aGlzLmdhbWVJbml0RGF0YS5nYW1lUGF1c2U9IXRoaXMuZ2FtZUluaXREYXRhLmdhbWVQYXVzZSl9LGdhbWVVaU1lbnU6ZnVuY3Rpb24oZSl7dGhpcy5nYW1lSW5pdERhdGEuZ2FtZVVpUGF1c2U9IXRoaXMuZ2FtZUluaXREYXRhLmdhbWVVaVBhdXNlLHRoaXMuZ2FtZUluaXREYXRhLmdhbWVQYXVzZT0hZX0sdWlDb250cm9sbGVyOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcyx0PXRoaXMuZ2FtZUluaXREYXRhLmdhbWVEYXRhLmdhbWVTZXRpbmdzLmtleUNvbnRyb2xzLGk9dGhpcztkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLChmdW5jdGlvbihhKXt0LmVzY2FwZS5zb21lKChmdW5jdGlvbihlKXtyZXR1cm4gYS5rZXlDb2RlPT1lfSkpJiZpLmdhbWVVaU1lbnUoZS5nYW1lSW5pdERhdGEuZ2FtZVVpUGF1c2UpLHQucGF1c2Uuc29tZSgoZnVuY3Rpb24oZSl7cmV0dXJuIGEua2V5Q29kZT09ZX0pKSYmaS5nYW1lVWlQYXVzZSgpfSkpLGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLChmdW5jdGlvbih0KXtpZihcIkNBTlZBU1wiPT09dC50YXJnZXQudGFnTmFtZSl7dmFyIGk9dC5jbGllbnRYLXQudGFyZ2V0Lm9mZnNldExlZnQsYT10LmNsaWVudFktdC50YXJnZXQub2Zmc2V0VG9wLG49bnVsbCxzPWUuZ2FtZUluaXREYXRhLmN0eFVJRmllbGQsbD1lLmdldFNjcmVlblNpemUoKTtmb3IodmFyIGMgaW4gMD09ZS5nYW1lSW5pdERhdGEuZ2FtZVN0YXR1cyYmKG49by5nYW1lTG9hZE1lbnUobnVsbCxzLGwud2lkdGgsbC5oZWlnaHQpKSxlLmdhbWVJbml0RGF0YS5nYW1lVWlQYXVzZSYmKG49ci5nYW1lU2V0dGluZ3NNZW51KG51bGwscyxsLndpZHRoLGwuaGVpZ2h0KSksbil7aWYodS5oaXREZXRlY3Rpb24obltjXSxbXS5jb25jYXQoe3g6aSx5OmEsd2lkdGg6MTAsaGVpZ2h0OjEwLG5hbWU6XCJjdXJzb3JcIn0pKSYmbltjXS5hY3Rpb24pe25bY10uYWN0aW9uLmNhbGwoZSk7YnJlYWt9fX19KSl9LHNob3dVaVBvcHVwV2luZG93OmZ1bmN0aW9uKCl7bi5jcmVhdGVXaW5kb3cuY2FsbCh0aGlzKX0sc2hvd1N0YXJ0V2luZG93OmZ1bmN0aW9uKCl7dmFyIGU9W24uY3JlYXRlU2hhcGVSb3VuZEJvcmRlcixjLnVpSW1hZ2UsYy51aVRleHQsYy51aVRleHQsYy51aVRleHRdO3RoaXMuaW5pdFVpRWxlbWVudHMoZSxvLmdhbWVMb2FkTWVudSl9LHNob3dNZW51V2luZG93OmZ1bmN0aW9uKCl7dmFyIGU9W24uY3JlYXRlU2hhcGVSb3VuZEJvcmRlcixuLmNyZWF0ZVNoYXBlUm91bmRCb3JkZXIsYy51aVRleHQsYy51aVRleHRdO3RoaXMuaW5pdFVpRWxlbWVudHMoZSxyLmdhbWVTZXR0aW5nc01lbnUpfSxzaG93UGF1c2VXaW5kb3c6ZnVuY3Rpb24oKXt2YXIgZT1bYy51aVRleHRdO3RoaXMuaW5pdFVpRWxlbWVudHMoZSxzLmdhbWVQYXVzZSl9LHNob3dHYW1lU3RhdHM6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmdldExldmVsVXNlckRhdGEoKSx0PVtjLnVpSW1hZ2UsYy51aVRleHQsYy51aVRleHQsYy51aVRleHRdO3RoaXMuaW5pdFVpRWxlbWVudHModCxsLmdhbWVJbmZvcm1hdGlvblNjcmVlbixlKX0saW5pdFVpRWxlbWVudHM6ZnVuY3Rpb24oZSx0KXtmb3IodmFyIGk9W10sbj0yO248YXJndW1lbnRzLmxlbmd0aDtuKyspaVtuLTJdPWFyZ3VtZW50c1tuXTtmb3IodmFyIG89dGhpcy5nYW1lSW5pdERhdGEuY3R4VUlGaWVsZCxyPXRoaXMuZ2V0U2NyZWVuU2l6ZSgpLHM9dGhpcy5zZXJ2ZXJMb2NhdGlvbi5waWN0dXJlc0RpcmVjdGlvbixsPXQuYXBwbHkodm9pZCAwLGEoW251bGwsbyxyLndpZHRoLHIuaGVpZ2h0LHNdLGkpKSxjPTA7YzxsLmxlbmd0aDtjKyspbFtjXS5oYXNPd25Qcm9wZXJ0eShcImxvYWRQaWN0dXJlXCIpJiZsW2NdLmxvYWRQaWN0dXJlKCksbFtjXS5pbml0KGVbY10pfX19LGZ1bmN0aW9uKGUsdCxpKXt2YXIgYT1pKDUpLnVpTW9kZWxzTWV0aG9kcztlLmV4cG9ydHMudWlTZXR0aW5nc01lbnU9e2dhbWVTZXR0aW5nc01lbnU6ZnVuY3Rpb24oZSx0LGksbil7cmV0dXJuIGV8fFt7bmFtZTpcIm1lbnUgYmFja2dyb3VuZFwiLHRleHQ6XCJcIixkZXNjcmlwdGlvbjpcImJhY2sgcGFydCBvZiBtZW51IFwiLGZvbnRTaXplOlwiMzBweCBBcmlhbFwiLGNsaWNrZWQ6ITEscHJvcGVydHllczp7Y3R4OnQsd2lkdGg6aSxoZWlnaHQ6bi8yLHg6MCx5Om4vNCxiYWNrZ3JvdW5kOlwicmdiYSgzOCwgMzgsIDg2LCAxKVwiLGJvcmRlckNvbG9yOlwicmdiYSgyNTUsIDI1NSwgMjU1LCAxKVwiLHJhZGl1czo1fSxpbml0OmEuaW5pdCxnZXRPYmplY3RQb3NpdGlvbjphLmdldFVJT2JqZWN0UG9zaXRpb259LHtuYW1lOlwiQnV0dG9uIGVuZCBnYW1lXCIsdGV4dDpcIlwiLGRlc2NyaXB0aW9uOlwiYmFjayB0byBzdGFydCBzY3JlZW5cIixmb250U2l6ZTpcIjMwcHggQXJpYWxcIixjbGlja2VkOiExLHByb3BlcnR5ZXM6e2N0eDp0LHdpZHRoOjIwMCxoZWlnaHQ6NTAseDppLzItMTUwLHk6bi8yKzUwLGJhY2tncm91bmQ6XCJyZ2JhKDI1NSwgMjU1LCAyNTUsIDEpXCIsYm9yZGVyQ29sb3I6XCJyZ2JhKDI1NSwgMjU1LCAyNTUsIDEpXCIscmFkaXVzOjE1fSxhY3Rpb246ZnVuY3Rpb24oKXt0aGlzLmJhY2tUb1N0YXJ0U2NyZWVuLmNhbGwodGhpcyl9LGluaXQ6YS5pbml0LGdldE9iamVjdFBvc2l0aW9uOmEuZ2V0VUlPYmplY3RQb3NpdGlvbn0se25hbWU6XCJ0ZXh0aW4gYnV0dG9uXCIsdGV4dDpcImdvIHRvIHN0YXJ0XCIsZGVzY3JpcHRpb246XCJUZXh0IGluIHRoZSBtZW51IGJ1dHRvblwiLGZvbnRTaXplOlwiMjVweCBSb2JvdG9cIixjbGlja2VkOiExLHByb3BlcnR5ZXM6e2N0eDp0LHdpZHRoOjQ1LGhlaWdodDowLHg6aS8yLTE1MCx5Om4vMis4MCxiYWNrZ3JvdW5kOiExLGJvcmRlckNvbG9yOlwiIzAwN0JEMVwiLHJhZGl1czpudWxsfSxpbml0OmEuaW5pdCxnZXRPYmplY3RQb3NpdGlvbjphLmdldFVJT2JqZWN0UG9zaXRpb259LHtuYW1lOlwiTWFpbiBnYW1lIG1lbnUgbmFtZVwiLHRleHQ6XCJNZW51XCIsZGVzY3JpcHRpb246XCJUZXh0IGluIG1haW4gdG9wXCIsZm9udFNpemU6XCIyNXB4IFJvYm90b1wiLGNsaWNrZWQ6ITEscHJvcGVydHllczp7Y3R4OnQsd2lkdGg6LTQ1LGhlaWdodDowLHg6aS8yLHk6bi8zLGJhY2tncm91bmQ6ITEsYm9yZGVyQ29sb3I6XCJyZ2JhKDI1NSwgMjU1LCAyNTUsIDEpXCIscmFkaXVzOm51bGx9LGluaXQ6YS5pbml0LGdldE9iamVjdFBvc2l0aW9uOmEuZ2V0VUlPYmplY3RQb3NpdGlvbn1dfX19LGZ1bmN0aW9uKGUsdCxpKXt2YXIgYT1pKDUpLnVpTW9kZWxzTWV0aG9kcztlLmV4cG9ydHMuZ2FtZVBhdXNlTW9kdWxlPXtnYW1lUGF1c2U6ZnVuY3Rpb24oZSx0LGksbixvKXtyZXR1cm4gZXx8W3tuYW1lOlwiUGF1c2UgdGV4dFwiLHRleHQ6XCJQYXVzZVwiLGRlc2NyaXB0aW9uOlwicGFydCBvZiBwYXVzZSB3aW5kb3dcIixmb250U2l6ZTpcIjYwcHggQXJpYWxcIixjbGlja2VkOiExLHByb3BlcnR5ZXM6e2N0eDp0LHdpZHRoOjQwMCxoZWlnaHQ6OTAseDppLzItMTUwLHk6bi8yKzUwLGJhY2tncm91bmQ6XCJyZ2JhKDI1NSwgMjU1LCAyNTUsIDEpXCIsYm9yZGVyQ29sb3I6XCJyZ2JhKDI1NSwgMjU1LCAyNTUsIDEpXCIscmFkaXVzOjQ1fSxpbml0OmEuaW5pdCxnZXRPYmplY3RQb3NpdGlvbjphLmdldFVJT2JqZWN0UG9zaXRpb259XX19fSxmdW5jdGlvbihlLHQsaSl7dmFyIGE9aSg1KS51aU1vZGVsc01ldGhvZHM7ZS5leHBvcnRzLmdhbWVTdGF0c1NjcmVlbnM9e2dhbWVJbmZvcm1hdGlvblNjcmVlbjpmdW5jdGlvbihlLHQsaSxuLG8scil7cmV0dXJuW3tuYW1lOlwibGlmZVBvaW50XCIsdGV4dDpcIlwiLG51bWJlcjpyLmxpZmUsc3RlcDpbci5saWZlXS5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiA1MCplfSkpLGRlc2NyaXB0aW9uOlwiR2FtZSBsb2dvdHlwZVwiLGNsaWNrZWQ6ITEscHJvcGVydHllczp7Y3R4OnQsd2lkdGg6NzAsaGVpZ2h0OjcwLHNXaWR0aDo1MDAsc0hlaWdodDo1MDAseDoxMCx5OjIwLGJhY2tncm91bmQ6bmV3IEltYWdlLGJvcmRlckNvbG9yOiExLHJhZGl1czpudWxsfSxsb2FkUGljdHVyZTpmdW5jdGlvbigpe3RoaXMucHJvcGVydHllcy5iYWNrZ3JvdW5kLnNyYz1vK1wibWlzYy9ydWJ5LnBuZ1wifSxpbml0OmZ1bmN0aW9uKGUsdCl7dD10fHx0aGlzO2Zvcih2YXIgaT1BcnJheShyLmxpZmUpLmZpbGwoMCkubWFwKChmdW5jdGlvbihlLHQpe3JldHVybiAzMCp0fSkpLGE9MDthPHRoaXMubnVtYmVyO2ErKyl0aGlzLnByb3BlcnR5ZXMueD0wPT1hPzMwOjAraVthXSsoMCE9YT8zMDowKSxlKHQpfSxnZXRPYmplY3RQb3NpdGlvbjphLmdldFVJT2JqZWN0UG9zaXRpb259LHtuYW1lOlwibGV2ZWxcIix0ZXh0OlwiQ3VycmVudCBMZXZlbCBcIityLmN1cnJlbnRMZXZlbCtcIi9cIityLmFsbExldmVscytcIiBcIixkZXNjcmlwdGlvbjpcIkdhbWUgcGFydCB0aGUgbmFtZVwiLGNsaWNrZWQ6ITEsZm9udFNpemU6XCJib2xkIDE2cHggUm9ib3RvXCIscHJvcGVydHllczp7Y3R4OnQsd2lkdGg6MCxoZWlnaHQ6MCx4OjMwLHk6NzAsYmFja2dyb3VuZDohMSxib3JkZXJDb2xvcjpcInJnYmEoMjU1LCAyNTUsIDI1NSwgMSlcIixyYWRpdXM6bnVsbH0saW5pdDphLmluaXQsZ2V0T2JqZWN0UG9zaXRpb246YS5nZXRVSU9iamVjdFBvc2l0aW9ufSx7bmFtZTpcIlRpbWUgdG8gZW5kIGYgbGV2ZWxcIix0ZXh0OlwiVGltZSB0byBlbmQgXCIrKHIubWludXRlcy0xMD49MD9cIlwiOjApK3IubWludXRlcytcIjpcIisoci5zZWNvbmRzLTEwPj0wP1wiXCI6MCkrci5zZWNvbmRzLGRlc2NyaXB0aW9uOlwiR2FtZSBwYXJ0IHRoZSBuYW1lXCIsY2xpY2tlZDohMSxmb250U2l6ZTpcImxpZ2h0ZXIgMTZweCBSb2JvdG9cIixwcm9wZXJ0eWVzOntjdHg6dCx3aWR0aDo1MCxoZWlnaHQ6MCx4OmktMzAwLHk6MzAsYmFja2dyb3VuZDohMSxib3JkZXJDb2xvcjpcInJnYmEoMjU1LCAyNTUsIDI1NSwgMSlcIixyYWRpdXM6bnVsbH0saW5pdDphLmluaXQsZ2V0T2JqZWN0UG9zaXRpb246YS5nZXRVSU9iamVjdFBvc2l0aW9ufSx7bmFtZTpcIkdhbWUgcG9pbnRzXCIsdGV4dDpyLnBvaW50cyxkZXNjcmlwdGlvbjpcIkdhbWUgcGFydCB0aGUgbmFtZVwiLGNsaWNrZWQ6ITEsZm9udFNpemU6XCJsaWdodGVyIDE4cHggUm9ib3RvXCIscHJvcGVydHllczp7Y3R4OnQsd2lkdGg6LTUwLGhlaWdodDowLHg6aS8yLHk6NTAsYmFja2dyb3VuZDohMSxib3JkZXJDb2xvcjpcInJnYmEoMjU1LCAyNTUsIDI1NSwgMSlcIixyYWRpdXM6bnVsbH0saW5pdDphLmluaXQsZ2V0T2JqZWN0UG9zaXRpb246YS5nZXRVSU9iamVjdFBvc2l0aW9ufV19fX0sZnVuY3Rpb24oZSx0KXtlLmV4cG9ydHMudWlFbGVtZW50cz17dWlJbWFnZTpmdW5jdGlvbihlKXt2YXIgdD1lLnByb3BlcnR5ZXM7dC5jdHguZHJhd0ltYWdlKHQuYmFja2dyb3VuZCwwLDAsdC5zV2lkdGgsdC5zSGVpZ2h0LHQueCx0LnksdC53aWR0aCx0LmhlaWdodCl9LHVpVGV4dDpmdW5jdGlvbihlKXt2YXIgdD1lLnByb3BlcnR5ZXM7dC5jdHguZm9udD1lLmZvbnRTaXplLHQuY3R4LmZpbGxTdHlsZT10LmJvcmRlckNvbG9yLHQuY3R4LmZpbGxUZXh0KGUudGV4dCx0LngrdC53aWR0aCx0LnkrdC5oZWlnaHQpfSx1aVJlcGVhdEltYWdlOmZ1bmN0aW9uKGUpe3ZhciB0PWUucHJvcGVydHllcyxpPXQuY3R4LmNyZWF0ZVBhdHRlcm4odC5iYWNrZ3JvdW5kLFwicmVwZWF0LXhcIik7dC5jdHgucmVjdCh0LngsdC55LHQud2lkdGgsdC5oZWlnaHQpLHQuY3R4LmZpbGxTdHlsZT1pLHQuY3R4LmZpbGwoKX19fSxmdW5jdGlvbihlLHQpe3ZhciBpPXRoaXMmJnRoaXMuX19hd2FpdGVyfHxmdW5jdGlvbihlLHQsaSxhKXtyZXR1cm4gbmV3KGl8fChpPVByb21pc2UpKSgoZnVuY3Rpb24obixvKXtmdW5jdGlvbiByKGUpe3RyeXtsKGEubmV4dChlKSl9Y2F0Y2goZSl7byhlKX19ZnVuY3Rpb24gcyhlKXt0cnl7bChhLnRocm93KGUpKX1jYXRjaChlKXtvKGUpfX1mdW5jdGlvbiBsKGUpe3ZhciB0O2UuZG9uZT9uKGUudmFsdWUpOih0PWUudmFsdWUsdCBpbnN0YW5jZW9mIGk/dDpuZXcgaSgoZnVuY3Rpb24oZSl7ZSh0KX0pKSkudGhlbihyLHMpfWwoKGE9YS5hcHBseShlLHR8fFtdKSkubmV4dCgpKX0pKX0sYT10aGlzJiZ0aGlzLl9fZ2VuZXJhdG9yfHxmdW5jdGlvbihlLHQpe3ZhciBpLGEsbixvLHI9e2xhYmVsOjAsc2VudDpmdW5jdGlvbigpe2lmKDEmblswXSl0aHJvdyBuWzFdO3JldHVybiBuWzFdfSx0cnlzOltdLG9wczpbXX07cmV0dXJuIG89e25leHQ6cygwKSx0aHJvdzpzKDEpLHJldHVybjpzKDIpfSxcImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJihvW1N5bWJvbC5pdGVyYXRvcl09ZnVuY3Rpb24oKXtyZXR1cm4gdGhpc30pLG87ZnVuY3Rpb24gcyhvKXtyZXR1cm4gZnVuY3Rpb24ocyl7cmV0dXJuIGZ1bmN0aW9uKG8pe2lmKGkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkdlbmVyYXRvciBpcyBhbHJlYWR5IGV4ZWN1dGluZy5cIik7Zm9yKDtyOyl0cnl7aWYoaT0xLGEmJihuPTImb1swXT9hLnJldHVybjpvWzBdP2EudGhyb3d8fCgobj1hLnJldHVybikmJm4uY2FsbChhKSwwKTphLm5leHQpJiYhKG49bi5jYWxsKGEsb1sxXSkpLmRvbmUpcmV0dXJuIG47c3dpdGNoKGE9MCxuJiYobz1bMiZvWzBdLG4udmFsdWVdKSxvWzBdKXtjYXNlIDA6Y2FzZSAxOm49bzticmVhaztjYXNlIDQ6cmV0dXJuIHIubGFiZWwrKyx7dmFsdWU6b1sxXSxkb25lOiExfTtjYXNlIDU6ci5sYWJlbCsrLGE9b1sxXSxvPVswXTtjb250aW51ZTtjYXNlIDc6bz1yLm9wcy5wb3AoKSxyLnRyeXMucG9wKCk7Y29udGludWU7ZGVmYXVsdDppZighKG49KG49ci50cnlzKS5sZW5ndGg+MCYmbltuLmxlbmd0aC0xXSkmJig2PT09b1swXXx8Mj09PW9bMF0pKXtyPTA7Y29udGludWV9aWYoMz09PW9bMF0mJighbnx8b1sxXT5uWzBdJiZvWzFdPG5bM10pKXtyLmxhYmVsPW9bMV07YnJlYWt9aWYoNj09PW9bMF0mJnIubGFiZWw8blsxXSl7ci5sYWJlbD1uWzFdLG49bzticmVha31pZihuJiZyLmxhYmVsPG5bMl0pe3IubGFiZWw9blsyXSxyLm9wcy5wdXNoKG8pO2JyZWFrfW5bMl0mJnIub3BzLnBvcCgpLHIudHJ5cy5wb3AoKTtjb250aW51ZX1vPXQuY2FsbChlLHIpfWNhdGNoKGUpe289WzYsZV0sYT0wfWZpbmFsbHl7aT1uPTB9aWYoNSZvWzBdKXRocm93IG9bMV07cmV0dXJue3ZhbHVlOm9bMF0/b1sxXTp2b2lkIDAsZG9uZTohMH19KFtvLHNdKX19fTtlLmV4cG9ydHMubGV2ZWxEYXRhUmVsb2FkPXtuZXh0TGV2ZWxEYXRhUmVsb2FkOmZ1bmN0aW9uKGUpe3JldHVybiBpKHRoaXMsdm9pZCAwLHZvaWQgMCwoZnVuY3Rpb24oKXtyZXR1cm4gYSh0aGlzLChmdW5jdGlvbih0KXtyZXR1cm4gY29uc29sZS5sb2coZSksWzJdfSkpfSkpfX19XSk7Il0sIm1hcHBpbmdzIjoiQUFBQSIsInNvdXJjZVJvb3QiOiIifQ==