!function(e){var t={};function n(i){if(t[i])return t[i].exports;var a=t[i]={i:i,l:!1,exports:{}};return e[i].call(a.exports,a,a.exports,n),a.l=!0,a.exports}n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)n.d(i,a,function(t){return e[t]}.bind(null,a));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/public/dist",n(n.s=3)}([function(e,t,n){var i=n(1).viewModules,a=n(2).gameMethods,o=n(12).playerShip,r=function(){function e(e,t,n,i,a){this.x=0,this.y=0,this.backgroundTexture=e,this.backgroundSpeed=t,this.screenData=n,this.ctx=i,this.x=a?0:n.width,this.y=0,this.img=new Image,this.img.src=location.origin+"/images/locations/"+this.backgroundTexture}return e.prototype.setContext=function(e){this.ctx=e},e.prototype.updateMap=function(){this.img=this.img||new Image;var e=this;this.x-=this.backgroundSpeed,this.x+this.screenData.width<0&&(this.x=this.screenData.width),this.img.onload=function(){i.createImage(e.ctx,e.img,e.x,0,e.screenData.width+2,e.screenData.height)},this.img.src=this.img.src||location.origin+"/images/locations/"+this.backgroundTexture},e}(),s=function(){function e(e,t){this.gameInitData=e,this.serverLocation=t,this.gameInitData=e,this.serverLocation=t}return e.prototype.changeLevel=function(e){this.gameInitData.gameData.currentLevel=e},e.prototype.showGameInfo=function(){return{currentLevel:this.gameInitData.gameData.currentLevel,currentPoint:this.gameInitData.gameData.currentPoint}},e.prototype.showLevelData=function(){return this.gameInitData.levelData},e.prototype.getServerLevelData=function(){},e.prototype.returnContext=function(){return this.gameInitData.gameField&&this.gameInitData.gameActionField&&this.gameInitData.gameUIField?{gameField:this.gameInitData.gameField,gameActionField:this.gameInitData.ctxActionField,gameUIField:this.gameInitData.gameUIField}:null},e}();s.prototype.createContext=a.createContext,s.prototype.initField=a.initField,s.prototype.levelInit=a.levelInit,s.prototype.setGameFields=a.setGameFields,s.prototype.initPlayerShip=o.initPlayerShip,s.prototype.placePlayerShip=o.placePlayerShip,e.exports.levelConstructor={Game:s,GameBackground:r}},function(e,t,n){var i=this&&this.__spreadArrays||function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var i=Array(e),a=0;for(t=0;t<n;t++)for(var o=arguments[t],r=0,s=o.length;r<s;r++,a++)i[a]=o[r];return i};n(8).ERROR_LIST;function a(e,t){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];e[t].apply(e,n)}function o(e,t,n){a(e,"clearRect",0,0,t,n)}e.exports.viewModules={clearField:o,draw:a,clear:o,createImage:function(e,t){for(var n=[],o=2;o<arguments.length;o++)n[o-2]=arguments[o];a.apply(void 0,i([e,"drawImage",t],n))}}},function(e,t,n){n(1).viewModules,n(0).levelConstructor;e.exports.gameMethods={initField:function(e,t){void 0===e&&(e=window.innerWidth),void 0===t&&(t=window.innerHeight);var n=[].concat(this.gameInitData.gameField,this.gameInitData.gameActionField,this.gameInitData.gameUIField);if(!n)throw Error(ERROR_LIST.noObject);for(var i=0,a=n;i<a.length;i++){var o=a[i];o.width=e-4,o.height=t-4}},setGameFields:function(){this.initField(),this.createContext(),this.initPlayerShip()},levelInit:function(e,t,n){var i=new e(this.showLevelData().levelMap,1,this.gameInitData.screen,t,this.gameInitData.mapBackgroundObjects.length%2==0||null);i.parrent=n,this.gameInitData.mapBackgroundObjects=this.gameInitData.mapBackgroundObjects.concat(i)},createContext:function(){this.gameInitData.ctx=this.gameInitData.gameField.getContext("2d"),this.gameInitData.ctxActionField=this.gameInitData.gameActionField.getContext("2d"),this.gameInitData.ctxUIField=this.gameInitData.gameUIField.getContext("2d")}}},function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(a,o){function r(e){try{c(i.next(e))}catch(e){o(e)}}function s(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(r,s)}c((i=i.apply(e,t||[])).next())}))},a=this&&this.__generator||function(e,t){var n,i,a,o,r={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(a=2&o[0]?i.return:o[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,o[1])).done)return a;switch(i=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return r.label++,{value:o[1],done:!1};case 5:r.label++,i=o[1],o=[0];continue;case 7:o=r.ops.pop(),r.trys.pop();continue;default:if(!(a=(a=r.trys).length>0&&a[a.length-1])&&(6===o[0]||2===o[0])){r=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){r.label=o[1];break}if(6===o[0]&&r.label<a[1]){r.label=a[1],a=o;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(o);break}a[2]&&r.ops.pop(),r.trys.pop();continue}o=t.call(e,r)}catch(e){o=[6,e],i=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};Object.defineProperty(t,"__esModule",{value:!0}),n(4);var o=n(0).levelConstructor,r=n(9).playerModules,s=(n(2).engineModule,n(10).serverModules),c=(n(11).enemies,n(1).viewModules);!function(){i(this,void 0,void 0,(function(){function e(){return i(this,void 0,void 0,(function(){var e,n,i,o,c,l,u;return a(this,(function(a){switch(a.label){case 0:return e=document.querySelector("#gamefield"),n=document.querySelector("#gameObjectsfield"),i=document.querySelector("#gameUifield"),o={host:"localhost"===document.location.hostname?"http://localhost:3000/":"",picturesDirection:location.origin+"/images/",levelData:{method:"GET",url:"api/level-data"},enemylData:{method:"GET",url:"api/level-data"},gameSetings:{method:"GET",url:"api/game-ettings"},userShip:{method:"GET",url:"api/user-ship"}},[4,s.getData({url:o.host+o.levelData.url,method:o.levelData.method,data:null,headers:{maplevel:2}})];case 1:return c=a.sent(),[4,s.getData({url:o.host+o.gameSetings.url,method:o.gameSetings.method,data:null,headers:null})];case 2:return l=a.sent(),[4,s.getData({url:o.host+o.userShip.url,method:o.userShip.method,data:null,headers:{usership:1}})];case 3:return u=a.sent(),[2,{data:{ctx:null,gameField:e||null,gameActionField:n||null,gameUIField:i||null,gameData:{currentLevel:2,currentPoint:0,playerObject:new r.PlayerShip(u,0,3,0,0),gameSetings:l,constrollers:null},screen:{width:window.innerWidth,height:window.innerHeight},allGameEnemies:[],allGameBullets:[],allGameMapOBjects:[],mapBackgroundObjects:[],gamePause:!1,backScreenPause:!0,gameStatus:!1,gameEngine:setInterval(t,20),levelData:c},locations:o}]}}))}))}function t(){if(l.gameInitData.ctxActionField&&c.clearField(l.gameInitData.ctxActionField,l.gameInitData.screen.width,l.gameInitData.screen.height),u.placeShip(),u.displayPlayerShip(),l.gameInitData.backScreenPause&&(l.gameInitData.backScreenPause=!1,l.levelInit(o.GameBackground,l.gameInitData.ctx,l),l.levelInit(o.GameBackground,l.gameInitData.ctx,l)),!l.gameInitData.backScreenPause)for(var e=0,t=l.gameInitData.mapBackgroundObjects;e<t.length;e++){t[e].updateMap()}}var n,l,u,h;return a(this,(function(t){switch(t.label){case 0:return[4,e()];case 1:return n=t.sent(),l=new o.Game(n.data,n.locations),u=l.gameInitData.gameData.playerObject,l.setGameFields(),l.setGameFields(),h=l.returnContext(),u.ctx=h.gameActionField,u.parrent=l,u.initPlayerShip(),u.shipControl(),[2]}}))}))}()},function(e,t,n){var i=n(5),a=n(6);"string"==typeof(a=a.__esModule?a.default:a)&&(a=[[e.i,a,""]]);var o={insert:"head",singleton:!1},r=(i(a,o),a.locals?a.locals:{});e.exports=r},function(e,t,n){"use strict";var i,a=function(){return void 0===i&&(i=Boolean(window&&document&&document.all&&!window.atob)),i},o=function(){var e={};return function(t){if(void 0===e[t]){var n=document.querySelector(t);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}e[t]=n}return e[t]}}(),r=[];function s(e){for(var t=-1,n=0;n<r.length;n++)if(r[n].identifier===e){t=n;break}return t}function c(e,t){for(var n={},i=[],a=0;a<e.length;a++){var o=e[a],c=t.base?o[0]+t.base:o[0],l=n[c]||0,u="".concat(c," ").concat(l);n[c]=l+1;var h=s(u),d={css:o[1],media:o[2],sourceMap:o[3]};-1!==h?(r[h].references++,r[h].updater(d)):r.push({identifier:u,updater:g(d,t),references:1}),i.push(u)}return i}function l(e){var t=document.createElement("style"),i=e.attributes||{};if(void 0===i.nonce){var a=n.nc;a&&(i.nonce=a)}if(Object.keys(i).forEach((function(e){t.setAttribute(e,i[e])})),"function"==typeof e.insert)e.insert(t);else{var r=o(e.insert||"head");if(!r)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");r.appendChild(t)}return t}var u,h=(u=[],function(e,t){return u[e]=t,u.filter(Boolean).join("\n")});function d(e,t,n,i){var a=n?"":i.media?"@media ".concat(i.media," {").concat(i.css,"}"):i.css;if(e.styleSheet)e.styleSheet.cssText=h(t,a);else{var o=document.createTextNode(a),r=e.childNodes;r[t]&&e.removeChild(r[t]),r.length?e.insertBefore(o,r[t]):e.appendChild(o)}}function p(e,t,n){var i=n.css,a=n.media,o=n.sourceMap;if(a?e.setAttribute("media",a):e.removeAttribute("media"),o&&btoa&&(i+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(o))))," */")),e.styleSheet)e.styleSheet.cssText=i;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(i))}}var f=null,m=0;function g(e,t){var n,i,a;if(t.singleton){var o=m++;n=f||(f=l(t)),i=d.bind(null,n,o,!1),a=d.bind(null,n,o,!0)}else n=l(t),i=p.bind(null,n,t),a=function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(n)};return i(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;i(e=t)}else a()}}e.exports=function(e,t){(t=t||{}).singleton||"boolean"==typeof t.singleton||(t.singleton=a());var n=c(e=e||[],t);return function(e){if(e=e||[],"[object Array]"===Object.prototype.toString.call(e)){for(var i=0;i<n.length;i++){var a=s(n[i]);r[a].references--}for(var o=c(e,t),l=0;l<n.length;l++){var u=s(n[l]);0===r[u].references&&(r[u].updater(),r.splice(u,1))}n=o}}}},function(e,t,n){(t=n(7)(!1)).push([e.i,"body{color:orange;background:#333;margin:0;padding:0;cursor:none}.gameBackground{background:#000}.game-fields{position:absolute}.game-field-wrapper{display:flex;justify-content:center}\n",""]),e.exports=t},function(e,t,n){"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n=function(e,t){var n=e[1]||"",i=e[3];if(!i)return n;if(t&&"function"==typeof btoa){var a=(r=i,s=btoa(unescape(encodeURIComponent(JSON.stringify(r)))),c="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(s),"/*# ".concat(c," */")),o=i.sources.map((function(e){return"/*# sourceURL=".concat(i.sourceRoot||"").concat(e," */")}));return[n].concat(o).concat([a]).join("\n")}var r,s,c;return[n].join("\n")}(t,e);return t[2]?"@media ".concat(t[2]," {").concat(n,"}"):n})).join("")},t.i=function(e,n,i){"string"==typeof e&&(e=[[null,e,""]]);var a={};if(i)for(var o=0;o<this.length;o++){var r=this[o][0];null!=r&&(a[r]=!0)}for(var s=0;s<e.length;s++){var c=[].concat(e[s]);i&&a[c[0]]||(n&&(c[2]?c[2]="".concat(n," and ").concat(c[2]):c[2]=n),t.push(c))}},t}},function(e,t){e.exports.ERROR_LIST={noData:"There is no data",noObject:"There is no Object"}},function(e,t,n){n(1).viewModules;var i=n(12).playerShip,a=function(){function e(e,t,n,i,a){void 0===i&&(i=0),void 0===a&&(a=0),this.data=e,this.points=t,this.lifePoints=n,this.x=i,this.y=a}return e.prototype.showInformation=function(){console.log(this)},e.prototype.setContext=function(e){this.ctx=e},e.prototype.placeShip=function(){var e=(this.xFinal-this.x)/this.data.speed,t=(this.yFinal-this.y)/this.data.speed;e=Math.sign(e)>0?e:-1*e,t=Math.sign(t)>0?t:-1*t,this.x=this.x>this.xFinal?this.x-e:this.x<this.xFinal?this.x+e:this.xFinal,this.y=this.y>this.yFinal?this.y-t:this.y<this.yFinal?this.y+t:this.yFinal},e.prototype.moveShip=function(e){var t=e.xPos,n=void 0===t?0:t,i=e.yPos,a=void 0===i?0:i;this.x+=n,this.y+=a},e}();a.prototype.initPlayerShip=i.initPlayerShip,a.prototype.displayPlayerShip=i.displayPlayerShip,a.prototype.shipControl=i.shipControl,e.exports.playerModules={PlayerShip:a}},function(e,t){e.exports.serverModules={getData:function(e){var t=e.url,n=e.method,i=e.data,a=e.headers,o=Object.assign({"Content-Type":"application/json"},a||!1);return fetch(t,{method:n,mode:"cors",headers:o,body:i?JSON.stringify(i):null}).then((function(e){return e.json()})).then((function(e){return e}))}}},function(e,t){e.exports.enemies=function(){}},function(e,t,n){var i=n(1).viewModules;n(0).levelConstructor;e.exports.playerShip={displayPlayerShip:function(){if(this.img&&this.ctx&&this.img){this.ctx.width,this.ctx.height;i.createImage(this.ctx,this.img,this.x,this.y)}},initPlayerShip:function(){var e=this;if(this.ctx){this.ctx.width,this.ctx.height;var t=this.data.texture,n=this.parrent.serverLocation.picturesDirection;this.img=new Image,this.img.onload=function(){return e.placePlayerShip&&e.placePlayerShip(),e.img},this.img.src=n+t}},shipControl:function(){var e=this,t=this.parrent.gameInitData.gameData.gameSetings.keyControls;document.addEventListener("keydown",(function(n){console.log(n.key),t.down.some((function(e){return n.keyCode==e}))&&e.moveShip({xPos:0,yPos:e.data.speed}),t.left.some((function(e){return n.keyCode==e}))&&e.moveShip({xPos:-1*e.data.speed,yPos:0}),t.right.some((function(e){return n.keyCode==e}))&&e.moveShip({xPos:e.data.speed,yPos:0}),t.up.some((function(e){return n.keyCode==e}))&&e.moveShip({xPos:0,yPos:-1*e.data.speed})})),console.log(this),document.addEventListener("mousemove",(function(t){if("CANVAS"===t.target.tagName){var n=t.clientX-t.target.offsetLeft,i=t.clientY-t.target.offsetTop;e.xFinal=n%e.data.speed==0?n:e.data.speed*Math.floor(n/e.data.speed),e.yFinal=i%e.data.speed==0?i:e.data.speed*Math.floor(i/e.data.speed)}}))}}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbnN0cnVjdG9ycy9sZXZlbENvbnN0cnVjdG9ycy50cyIsIndlYnBhY2s6Ly8vLi9zcmMvdmlldy9kaXNwbGF5TW9kdWxlcy50cyIsIndlYnBhY2s6Ly8vLi9zcmMvZW5naW5lL2VuZ2luZU1vZHVsZXMudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2luZGV4LnRzIiwid2VicGFjazovLy8uL3Nhc3MvbWFpbi5zYXNzP2JhYTgiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvaW5qZWN0U3R5bGVzSW50b1N0eWxlVGFnLmpzIiwid2VicGFjazovLy8uL3Nhc3MvbWFpbi5zYXNzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvcnVudGltZS9hcGkuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2VuZ2luZS9hcHBFcnJvckxpc3RNb2R1bGUudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbnN0cnVjdG9ycy91c2VyQ29uc3RydWN0b3IudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3NlcnZlci9zZXJ2ZXJSZXF1ZXN0TW9kdWxlcy50cyIsIndlYnBhY2s6Ly8vLi9zcmMvZW5lbWllcy9lbmVtaWVzTW9kdWxlcy50cyIsIndlYnBhY2s6Ly8vLi9zcmMvZW5naW5lL3BsYXllclNoaXBNb2R1bGUudHMiXSwibmFtZXMiOlsiaW5zdGFsbGVkTW9kdWxlcyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGVJZCIsImV4cG9ydHMiLCJtb2R1bGUiLCJpIiwibCIsIm1vZHVsZXMiLCJjYWxsIiwibSIsImMiLCJkIiwibmFtZSIsImdldHRlciIsIm8iLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImVudW1lcmFibGUiLCJnZXQiLCJyIiwiU3ltYm9sIiwidG9TdHJpbmdUYWciLCJ2YWx1ZSIsInQiLCJtb2RlIiwiX19lc01vZHVsZSIsIm5zIiwiY3JlYXRlIiwia2V5IiwiYmluZCIsIm4iLCJvYmplY3QiLCJwcm9wZXJ0eSIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwicCIsInMiLCJ2aWV3TW9kdWxlcyIsImdhbWVNZXRob2RzIiwicGxheWVyU2hpcCIsIkdhbWVCYWNrZ3JvdW5kIiwiYmFja2dyb3VuZFRleHR1cmUiLCJiYWNrZ3JvdW5kU3BlZWQiLCJzY3JlZW5EYXRhIiwiY3R4IiwicGFydE9mU2NyZWVuU3RhdHVzIiwidGhpcyIsIngiLCJ5Iiwid2lkdGgiLCJpbWciLCJJbWFnZSIsInNyYyIsImxvY2F0aW9uIiwib3JpZ2luIiwic2V0Q29udGV4dCIsImNvbnRleHQiLCJ1cGRhdGVNYXAiLCJiYWNrZ3JvdW5kT2JqZWN0Iiwib25sb2FkIiwiY3JlYXRlSW1hZ2UiLCJoZWlnaHQiLCJHYW1lIiwiZ2FtZUluaXREYXRhIiwic2VydmVyTG9jYXRpb24iLCJjaGFuZ2VMZXZlbCIsIm5leHRMZXZlbCIsImdhbWVEYXRhIiwiY3VycmVudExldmVsIiwic2hvd0dhbWVJbmZvIiwiY3VycmVudFBvaW50Iiwic2hvd0xldmVsRGF0YSIsImxldmVsRGF0YSIsImdldFNlcnZlckxldmVsRGF0YSIsInJldHVybkNvbnRleHQiLCJnYW1lRmllbGQiLCJnYW1lQWN0aW9uRmllbGQiLCJnYW1lVUlGaWVsZCIsImN0eEFjdGlvbkZpZWxkIiwiY3JlYXRlQ29udGV4dCIsImluaXRGaWVsZCIsImxldmVsSW5pdCIsInNldEdhbWVGaWVsZHMiLCJpbml0UGxheWVyU2hpcCIsInBsYWNlUGxheWVyU2hpcCIsImxldmVsQ29uc3RydWN0b3IiLCJfX3NwcmVhZEFycmF5cyIsImlsIiwiYXJndW1lbnRzIiwibGVuZ3RoIiwiQXJyYXkiLCJrIiwiYSIsImoiLCJqbCIsIkVSUk9SX0xJU1QiLCJkcmF3IiwiZWxlbWVudCIsIl9pIiwiYXBwbHkiLCJjbGVhckZpZWxkIiwiY2xlYXIiLCJwaWN0dXJlTmFtZSIsInByb3BzIiwic2NyZWVuV2lkdGgiLCJzY3JlZW5IZWlnaHQiLCJ3aW5kb3ciLCJpbm5lcldpZHRoIiwiaW5uZXJIZWlnaHQiLCJjb25jYXQiLCJFcnJvciIsIm5vT2JqZWN0IiwiZ2FtZUZpZWxkXzEiLCJzY3JlZW5fMSIsImJhY2tncm91bmRDb25zdHJ1Y3RvciIsInBhcnJlbnQiLCJtYXBPYmplY3QiLCJsZXZlbE1hcCIsInNjcmVlbiIsIm1hcEJhY2tncm91bmRPYmplY3RzIiwiZ2V0Q29udGV4dCIsImN0eFVJRmllbGQiLCJfX2F3YWl0ZXIiLCJ0aGlzQXJnIiwiX2FyZ3VtZW50cyIsIlAiLCJnZW5lcmF0b3IiLCJQcm9taXNlIiwicmVzb2x2ZSIsInJlamVjdCIsImZ1bGZpbGxlZCIsInN0ZXAiLCJuZXh0IiwiZSIsInJlamVjdGVkIiwicmVzdWx0IiwiZG9uZSIsInRoZW4iLCJfX2dlbmVyYXRvciIsImJvZHkiLCJmIiwiZyIsIl8iLCJsYWJlbCIsInNlbnQiLCJ0cnlzIiwib3BzIiwidmVyYiIsIml0ZXJhdG9yIiwidiIsIm9wIiwiVHlwZUVycm9yIiwicG9wIiwicHVzaCIsInBsYXllck1vZHVsZXMiLCJzZXJ2ZXJNb2R1bGVzIiwiZW5naW5lTW9kdWxlIiwiZW5lbWllcyIsImdhbWVEYXRhSW5pdCIsImdhbWVVSWZpZWxkIiwiZ2FtZVNldGluZ3MiLCJ1c2VyRGF0YSIsIl9hIiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwiaG9zdCIsImhvc3RuYW1lIiwicGljdHVyZXNEaXJlY3Rpb24iLCJtZXRob2QiLCJ1cmwiLCJlbmVteWxEYXRhIiwidXNlclNoaXAiLCJnZXREYXRhIiwiZGF0YSIsImhlYWRlcnMiLCJwbGF5ZXJPYmplY3QiLCJQbGF5ZXJTaGlwIiwiY29uc3Ryb2xsZXJzIiwiYWxsR2FtZUVuZW1pZXMiLCJhbGxHYW1lQnVsbGV0cyIsImFsbEdhbWVNYXBPQmplY3RzIiwiZ2FtZVBhdXNlIiwiYmFja1NjcmVlblBhdXNlIiwiZ2FtZVN0YXR1cyIsImdhbWVFbmdpbmUiLCJzZXRJbnRlcnZhbCIsImdhbWVJbnRlcnZhbCIsImxvY2F0aW9ucyIsImdhbWVPYmplY3QiLCJwbGF5ZXJTaGlwRGF0YSIsInBsYWNlU2hpcCIsImRpc3BsYXlQbGF5ZXJTaGlwIiwiZ2FtZVN0YXRlIiwiY29udGV4dHMiLCJzaGlwQ29udHJvbCIsImFwaSIsImNvbnRlbnQiLCJkZWZhdWx0Iiwib3B0aW9ucyIsImV4cG9ydGVkIiwibG9jYWxzIiwibWVtbyIsImlzT2xkSUUiLCJCb29sZWFuIiwiYWxsIiwiYXRvYiIsImdldFRhcmdldCIsInRhcmdldCIsInN0eWxlVGFyZ2V0IiwiSFRNTElGcmFtZUVsZW1lbnQiLCJjb250ZW50RG9jdW1lbnQiLCJoZWFkIiwic3R5bGVzSW5Eb20iLCJnZXRJbmRleEJ5SWRlbnRpZmllciIsImlkZW50aWZpZXIiLCJtb2R1bGVzVG9Eb20iLCJsaXN0IiwiaWRDb3VudE1hcCIsImlkZW50aWZpZXJzIiwiaXRlbSIsImlkIiwiYmFzZSIsImNvdW50IiwiaW5kZXgiLCJvYmoiLCJjc3MiLCJtZWRpYSIsInNvdXJjZU1hcCIsInJlZmVyZW5jZXMiLCJ1cGRhdGVyIiwiYWRkU3R5bGUiLCJpbnNlcnRTdHlsZUVsZW1lbnQiLCJzdHlsZSIsImNyZWF0ZUVsZW1lbnQiLCJhdHRyaWJ1dGVzIiwibm9uY2UiLCJrZXlzIiwiZm9yRWFjaCIsInNldEF0dHJpYnV0ZSIsImluc2VydCIsImFwcGVuZENoaWxkIiwidGV4dFN0b3JlIiwicmVwbGFjZVRleHQiLCJyZXBsYWNlbWVudCIsImZpbHRlciIsImpvaW4iLCJhcHBseVRvU2luZ2xldG9uVGFnIiwicmVtb3ZlIiwic3R5bGVTaGVldCIsImNzc1RleHQiLCJjc3NOb2RlIiwiY3JlYXRlVGV4dE5vZGUiLCJjaGlsZE5vZGVzIiwicmVtb3ZlQ2hpbGQiLCJpbnNlcnRCZWZvcmUiLCJhcHBseVRvVGFnIiwicmVtb3ZlQXR0cmlidXRlIiwiYnRvYSIsInVuZXNjYXBlIiwiZW5jb2RlVVJJQ29tcG9uZW50IiwiSlNPTiIsInN0cmluZ2lmeSIsImZpcnN0Q2hpbGQiLCJzaW5nbGV0b24iLCJzaW5nbGV0b25Db3VudGVyIiwidXBkYXRlIiwic3R5bGVJbmRleCIsInBhcmVudE5vZGUiLCJyZW1vdmVTdHlsZUVsZW1lbnQiLCJuZXdPYmoiLCJsYXN0SWRlbnRpZmllcnMiLCJuZXdMaXN0IiwidG9TdHJpbmciLCJuZXdMYXN0SWRlbnRpZmllcnMiLCJfaW5kZXgiLCJzcGxpY2UiLCJfX19DU1NfTE9BREVSX0FQSV9JTVBPUlRfX18iLCJ1c2VTb3VyY2VNYXAiLCJtYXAiLCJjc3NNYXBwaW5nIiwic291cmNlTWFwcGluZyIsImJhc2U2NCIsInNvdXJjZVVSTHMiLCJzb3VyY2VzIiwic291cmNlIiwic291cmNlUm9vdCIsImNzc1dpdGhNYXBwaW5nVG9TdHJpbmciLCJtZWRpYVF1ZXJ5IiwiZGVkdXBlIiwiYWxyZWFkeUltcG9ydGVkTW9kdWxlcyIsIm5vRGF0YSIsInBvaW50cyIsImxpZmVQb2ludHMiLCJzaG93SW5mb3JtYXRpb24iLCJjb25zb2xlIiwibG9nIiwieEFkaiIsInhGaW5hbCIsInNwZWVkIiwieUFkaiIsInlGaW5hbCIsIk1hdGgiLCJzaWduIiwibW92ZVNoaXAiLCJfYiIsInhQb3MiLCJfYyIsInlQb3MiLCJyZXN1bHRIZWFkZXIiLCJhc3NpZ24iLCJmZXRjaCIsInJlcyIsImpzb24iLCJfdGhpcyIsImltYWdlIiwidGV4dHVyZSIsImltYWdlTG9jYXRpb24iLCJjb250cm9sS2V5cyIsImtleUNvbnRyb2xzIiwiYWRkRXZlbnRMaXN0ZW5lciIsImRvd24iLCJzb21lIiwia2V5Q29kZSIsImxlZnQiLCJyaWdodCIsInVwIiwidGFnTmFtZSIsImNsaWVudFgiLCJvZmZzZXRMZWZ0IiwiY2xpZW50WSIsIm9mZnNldFRvcCIsImZsb29yIl0sIm1hcHBpbmdzIjoiYUFDRSxJQUFJQSxFQUFtQixHQUd2QixTQUFTQyxFQUFvQkMsR0FHNUIsR0FBR0YsRUFBaUJFLEdBQ25CLE9BQU9GLEVBQWlCRSxHQUFVQyxRQUduQyxJQUFJQyxFQUFTSixFQUFpQkUsR0FBWSxD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IiwiZmlsZSI6Im1haW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyIgXHQvLyBUaGUgbW9kdWxlIGNhY2hlXG4gXHR2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9O1xuXG4gXHQvLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuIFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXG4gXHRcdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuIFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSkge1xuIFx0XHRcdHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xuIFx0XHR9XG4gXHRcdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG4gXHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSA9IHtcbiBcdFx0XHRpOiBtb2R1bGVJZCxcbiBcdFx0XHRsOiBmYWxzZSxcbiBcdFx0XHRleHBvcnRzOiB7fVxuIFx0XHR9O1xuXG4gXHRcdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuIFx0XHRtb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuIFx0XHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG4gXHRcdG1vZHVsZS5sID0gdHJ1ZTtcblxuIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuIFx0XHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG4gXHR9XG5cblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7XG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzO1xuXG4gXHQvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9uIGZvciBoYXJtb255IGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uZCA9IGZ1bmN0aW9uKGV4cG9ydHMsIG5hbWUsIGdldHRlcikge1xuIFx0XHRpZighX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIG5hbWUpKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIG5hbWUsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBnZXR0ZXIgfSk7XG4gXHRcdH1cbiBcdH07XG5cbiBcdC8vIGRlZmluZSBfX2VzTW9kdWxlIG9uIGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uciA9IGZ1bmN0aW9uKGV4cG9ydHMpIHtcbiBcdFx0aWYodHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgJiYgU3ltYm9sLnRvU3RyaW5nVGFnKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFN5bWJvbC50b1N0cmluZ1RhZywgeyB2YWx1ZTogJ01vZHVsZScgfSk7XG4gXHRcdH1cbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcbiBcdH07XG5cbiBcdC8vIGNyZWF0ZSBhIGZha2UgbmFtZXNwYWNlIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDE6IHZhbHVlIGlzIGEgbW9kdWxlIGlkLCByZXF1aXJlIGl0XG4gXHQvLyBtb2RlICYgMjogbWVyZ2UgYWxsIHByb3BlcnRpZXMgb2YgdmFsdWUgaW50byB0aGUgbnNcbiBcdC8vIG1vZGUgJiA0OiByZXR1cm4gdmFsdWUgd2hlbiBhbHJlYWR5IG5zIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDh8MTogYmVoYXZlIGxpa2UgcmVxdWlyZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy50ID0gZnVuY3Rpb24odmFsdWUsIG1vZGUpIHtcbiBcdFx0aWYobW9kZSAmIDEpIHZhbHVlID0gX193ZWJwYWNrX3JlcXVpcmVfXyh2YWx1ZSk7XG4gXHRcdGlmKG1vZGUgJiA4KSByZXR1cm4gdmFsdWU7XG4gXHRcdGlmKChtb2RlICYgNCkgJiYgdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyAmJiB2YWx1ZSAmJiB2YWx1ZS5fX2VzTW9kdWxlKSByZXR1cm4gdmFsdWU7XG4gXHRcdHZhciBucyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18ucihucyk7XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShucywgJ2RlZmF1bHQnLCB7IGVudW1lcmFibGU6IHRydWUsIHZhbHVlOiB2YWx1ZSB9KTtcbiBcdFx0aWYobW9kZSAmIDIgJiYgdHlwZW9mIHZhbHVlICE9ICdzdHJpbmcnKSBmb3IodmFyIGtleSBpbiB2YWx1ZSkgX193ZWJwYWNrX3JlcXVpcmVfXy5kKG5zLCBrZXksIGZ1bmN0aW9uKGtleSkgeyByZXR1cm4gdmFsdWVba2V5XTsgfS5iaW5kKG51bGwsIGtleSkpO1xuIFx0XHRyZXR1cm4gbnM7XG4gXHR9O1xuXG4gXHQvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5uID0gZnVuY3Rpb24obW9kdWxlKSB7XG4gXHRcdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuIFx0XHRcdGZ1bmN0aW9uIGdldERlZmF1bHQoKSB7IHJldHVybiBtb2R1bGVbJ2RlZmF1bHQnXTsgfSA6XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0TW9kdWxlRXhwb3J0cygpIHsgcmV0dXJuIG1vZHVsZTsgfTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgJ2EnLCBnZXR0ZXIpO1xuIFx0XHRyZXR1cm4gZ2V0dGVyO1xuIFx0fTtcblxuIFx0Ly8gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSBmdW5jdGlvbihvYmplY3QsIHByb3BlcnR5KSB7IHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBwcm9wZXJ0eSk7IH07XG5cbiBcdC8vIF9fd2VicGFja19wdWJsaWNfcGF0aF9fXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIi9wdWJsaWMvZGlzdFwiO1xuXG5cbiBcdC8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xuIFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18oX193ZWJwYWNrX3JlcXVpcmVfXy5zID0gMyk7XG4iLCJ2YXIgdmlld01vZHVsZXMgPSByZXF1aXJlKCcuLi92aWV3L2Rpc3BsYXlNb2R1bGVzJykudmlld01vZHVsZXM7XHJcbnZhciBnYW1lTWV0aG9kcyA9IHJlcXVpcmUoJy4uL2VuZ2luZS9lbmdpbmVNb2R1bGVzJykuZ2FtZU1ldGhvZHM7XHJcbnZhciBwbGF5ZXJTaGlwID0gcmVxdWlyZSgnLi4vZW5naW5lL3BsYXllclNoaXBNb2R1bGUnKS5wbGF5ZXJTaGlwO1xyXG52YXIgR2FtZUJhY2tncm91bmQgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XHJcbiAgICBmdW5jdGlvbiBHYW1lQmFja2dyb3VuZChiYWNrZ3JvdW5kVGV4dHVyZSwgYmFja2dyb3VuZFNwZWVkLCBzY3JlZW5EYXRhLCBjdHgsIHBhcnRPZlNjcmVlblN0YXR1cykge1xyXG4gICAgICAgIHRoaXMueCA9IDA7XHJcbiAgICAgICAgdGhpcy55ID0gMDtcclxuICAgICAgICB0aGlzLmJhY2tncm91bmRUZXh0dXJlID0gYmFja2dyb3VuZFRleHR1cmU7XHJcbiAgICAgICAgdGhpcy5iYWNrZ3JvdW5kU3BlZWQgPSBiYWNrZ3JvdW5kU3BlZWQ7XHJcbiAgICAgICAgdGhpcy5zY3JlZW5EYXRhID0gc2NyZWVuRGF0YTtcclxuICAgICAgICB0aGlzLmN0eCA9IGN0eDtcclxuICAgICAgICB0aGlzLnggPSAocGFydE9mU2NyZWVuU3RhdHVzKSA/IDAgOiBzY3JlZW5EYXRhLndpZHRoO1xyXG4gICAgICAgIHRoaXMueSA9IDA7XHJcbiAgICAgICAgdGhpcy5pbWcgPSBuZXcgSW1hZ2UoKTtcclxuICAgICAgICB0aGlzLmltZy5zcmMgPSBsb2NhdGlvbi5vcmlnaW4gKyAnL2ltYWdlcy9sb2NhdGlvbnMvJyArIHRoaXMuYmFja2dyb3VuZFRleHR1cmU7XHJcbiAgICB9XHJcbiAgICBHYW1lQmFja2dyb3VuZC5wcm90b3R5cGUuc2V0Q29udGV4dCA9IGZ1bmN0aW9uIChjb250ZXh0KSB7XHJcbiAgICAgICAgdGhpcy5jdHggPSBjb250ZXh0O1xyXG4gICAgfTtcclxuICAgIEdhbWVCYWNrZ3JvdW5kLnByb3RvdHlwZS51cGRhdGVNYXAgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdGhpcy5pbWcgPSB0aGlzLmltZyB8fCBuZXcgSW1hZ2UoKTtcclxuICAgICAgICB2YXIgYmFja2dyb3VuZE9iamVjdCA9IHRoaXM7XHJcbiAgICAgICAgdGhpcy54IC09IHRoaXMuYmFja2dyb3VuZFNwZWVkO1xyXG4gICAgICAgIGlmICh0aGlzLnggKyB0aGlzLnNjcmVlbkRhdGEud2lkdGggPCAwKSB7XHJcbiAgICAgICAgICAgIHRoaXMueCA9IHRoaXMuc2NyZWVuRGF0YS53aWR0aDtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5pbWcub25sb2FkID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAvL3ZpZXdNb2R1bGVzLmNsZWFyRmllbGQoYmFja2dyb3VuZE9iamVjdC5jdHgsIGJhY2tncm91bmRPYmplY3Quc2NyZWVuRGF0YS53aWR0aCwgYmFja2dyb3VuZE9iamVjdC5zY3JlZW5EYXRhLmhlaWdodCk7XHJcbiAgICAgICAgICAgIC8vY29uc29sZS5sb2coYmFja2dyb3VuZE9iamVjdC5jdHgsIGJhY2tncm91bmRPYmplY3QuaW1nKVxyXG4gICAgICAgICAgICB2aWV3TW9kdWxlcy5jcmVhdGVJbWFnZShiYWNrZ3JvdW5kT2JqZWN0LmN0eCwgYmFja2dyb3VuZE9iamVjdC5pbWcsIGJhY2tncm91bmRPYmplY3QueCwgMCwgYmFja2dyb3VuZE9iamVjdC5zY3JlZW5EYXRhLndpZHRoICsgMiwgYmFja2dyb3VuZE9iamVjdC5zY3JlZW5EYXRhLmhlaWdodCk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICB0aGlzLmltZy5zcmMgPSB0aGlzLmltZy5zcmMgfHwgbG9jYXRpb24ub3JpZ2luICsgJy9pbWFnZXMvbG9jYXRpb25zLycgKyB0aGlzLmJhY2tncm91bmRUZXh0dXJlO1xyXG4gICAgfTtcclxuICAgIHJldHVybiBHYW1lQmFja2dyb3VuZDtcclxufSgpKTtcclxudmFyIEdhbWUgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XHJcbiAgICBmdW5jdGlvbiBHYW1lKGdhbWVJbml0RGF0YSwgc2VydmVyTG9jYXRpb24pIHtcclxuICAgICAgICB0aGlzLmdhbWVJbml0RGF0YSA9IGdhbWVJbml0RGF0YTtcclxuICAgICAgICB0aGlzLnNlcnZlckxvY2F0aW9uID0gc2VydmVyTG9jYXRpb247XHJcbiAgICAgICAgdGhpcy5nYW1lSW5pdERhdGEgPSBnYW1lSW5pdERhdGE7XHJcbiAgICAgICAgdGhpcy5zZXJ2ZXJMb2NhdGlvbiA9IHNlcnZlckxvY2F0aW9uO1xyXG4gICAgfVxyXG4gICAgR2FtZS5wcm90b3R5cGUuY2hhbmdlTGV2ZWwgPSBmdW5jdGlvbiAobmV4dExldmVsKSB7XHJcbiAgICAgICAgdGhpcy5nYW1lSW5pdERhdGEuZ2FtZURhdGEuY3VycmVudExldmVsID0gbmV4dExldmVsO1xyXG4gICAgfTtcclxuICAgIEdhbWUucHJvdG90eXBlLnNob3dHYW1lSW5mbyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICBjdXJyZW50TGV2ZWw6IHRoaXMuZ2FtZUluaXREYXRhLmdhbWVEYXRhLmN1cnJlbnRMZXZlbCxcclxuICAgICAgICAgICAgY3VycmVudFBvaW50OiB0aGlzLmdhbWVJbml0RGF0YS5nYW1lRGF0YS5jdXJyZW50UG9pbnQsXHJcbiAgICAgICAgfTtcclxuICAgIH07XHJcbiAgICBHYW1lLnByb3RvdHlwZS5zaG93TGV2ZWxEYXRhID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmdhbWVJbml0RGF0YS5sZXZlbERhdGE7XHJcbiAgICB9O1xyXG4gICAgR2FtZS5wcm90b3R5cGUuZ2V0U2VydmVyTGV2ZWxEYXRhID0gZnVuY3Rpb24gKCkge1xyXG4gICAgfTtcclxuICAgIEdhbWUucHJvdG90eXBlLnJldHVybkNvbnRleHQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuZ2FtZUluaXREYXRhLmdhbWVGaWVsZCAmJlxyXG4gICAgICAgICAgICB0aGlzLmdhbWVJbml0RGF0YS5nYW1lQWN0aW9uRmllbGQgJiZcclxuICAgICAgICAgICAgdGhpcy5nYW1lSW5pdERhdGEuZ2FtZVVJRmllbGQpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgICAgIGdhbWVGaWVsZDogdGhpcy5nYW1lSW5pdERhdGEuZ2FtZUZpZWxkLFxyXG4gICAgICAgICAgICAgICAgZ2FtZUFjdGlvbkZpZWxkOiB0aGlzLmdhbWVJbml0RGF0YS5jdHhBY3Rpb25GaWVsZCxcclxuICAgICAgICAgICAgICAgIGdhbWVVSUZpZWxkOiB0aGlzLmdhbWVJbml0RGF0YS5nYW1lVUlGaWVsZCxcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICByZXR1cm4gR2FtZTtcclxufSgpKTtcclxuR2FtZS5wcm90b3R5cGUuY3JlYXRlQ29udGV4dCA9IGdhbWVNZXRob2RzLmNyZWF0ZUNvbnRleHQ7XHJcbkdhbWUucHJvdG90eXBlLmluaXRGaWVsZCA9IGdhbWVNZXRob2RzLmluaXRGaWVsZDtcclxuR2FtZS5wcm90b3R5cGUubGV2ZWxJbml0ID0gZ2FtZU1ldGhvZHMubGV2ZWxJbml0OyAvLyBjcmVhdGVDb250ZXh0IGluaXRQbGF5ZXJTaGlwXHJcbkdhbWUucHJvdG90eXBlLnNldEdhbWVGaWVsZHMgPSBnYW1lTWV0aG9kcy5zZXRHYW1lRmllbGRzO1xyXG5HYW1lLnByb3RvdHlwZS5pbml0UGxheWVyU2hpcCA9IHBsYXllclNoaXAuaW5pdFBsYXllclNoaXA7XHJcbkdhbWUucHJvdG90eXBlLnBsYWNlUGxheWVyU2hpcCA9IHBsYXllclNoaXAucGxhY2VQbGF5ZXJTaGlwO1xyXG5tb2R1bGUuZXhwb3J0cy5sZXZlbENvbnN0cnVjdG9yID0ge1xyXG4gICAgR2FtZTogR2FtZSxcclxuICAgIEdhbWVCYWNrZ3JvdW5kOiBHYW1lQmFja2dyb3VuZFxyXG59O1xyXG4iLCJ2YXIgX19zcHJlYWRBcnJheXMgPSAodGhpcyAmJiB0aGlzLl9fc3ByZWFkQXJyYXlzKSB8fCBmdW5jdGlvbiAoKSB7XHJcbiAgICBmb3IgKHZhciBzID0gMCwgaSA9IDAsIGlsID0gYXJndW1lbnRzLmxlbmd0aDsgaSA8IGlsOyBpKyspIHMgKz0gYXJndW1lbnRzW2ldLmxlbmd0aDtcclxuICAgIGZvciAodmFyIHIgPSBBcnJheShzKSwgayA9IDAsIGkgPSAwOyBpIDwgaWw7IGkrKylcclxuICAgICAgICBmb3IgKHZhciBhID0gYXJndW1lbnRzW2ldLCBqID0gMCwgamwgPSBhLmxlbmd0aDsgaiA8IGpsOyBqKyssIGsrKylcclxuICAgICAgICAgICAgcltrXSA9IGFbal07XHJcbiAgICByZXR1cm4gcjtcclxufTtcclxudmFyIEVSUk9SX0xJU1QgPSByZXF1aXJlKCcuLi9lbmdpbmUvYXBwRXJyb3JMaXN0TW9kdWxlJykuRVJST1JfTElTVDtcclxuZnVuY3Rpb24gZHJhdyhjb250ZXh0LCBlbGVtZW50KSB7XHJcbiAgICB2YXIgcHJvcGVydHkgPSBbXTtcclxuICAgIGZvciAodmFyIF9pID0gMjsgX2kgPCBhcmd1bWVudHMubGVuZ3RoOyBfaSsrKSB7XHJcbiAgICAgICAgcHJvcGVydHlbX2kgLSAyXSA9IGFyZ3VtZW50c1tfaV07XHJcbiAgICB9XHJcbiAgICBjb250ZXh0W2VsZW1lbnRdLmFwcGx5KGNvbnRleHQsIHByb3BlcnR5KTtcclxufVxyXG5mdW5jdGlvbiBjcmVhdGVJbWFnZShjdHgsIHBpY3R1cmVOYW1lKSB7XHJcbiAgICB2YXIgcHJvcHMgPSBbXTtcclxuICAgIGZvciAodmFyIF9pID0gMjsgX2kgPCBhcmd1bWVudHMubGVuZ3RoOyBfaSsrKSB7XHJcbiAgICAgICAgcHJvcHNbX2kgLSAyXSA9IGFyZ3VtZW50c1tfaV07XHJcbiAgICB9XHJcbiAgICBkcmF3LmFwcGx5KHZvaWQgMCwgX19zcHJlYWRBcnJheXMoW2N0eCwgJ2RyYXdJbWFnZScsIHBpY3R1cmVOYW1lXSwgcHJvcHMpKTtcclxufVxyXG5mdW5jdGlvbiBjbGVhckZpZWxkKGN0eCwgd2lkdGgsIGhlaWdodCkge1xyXG4gICAgZHJhdyhjdHgsICdjbGVhclJlY3QnLCAwLCAwLCB3aWR0aCwgaGVpZ2h0KTtcclxufVxyXG5tb2R1bGUuZXhwb3J0cy52aWV3TW9kdWxlcyA9IHtcclxuICAgIGNsZWFyRmllbGQ6IGNsZWFyRmllbGQsXHJcbiAgICBkcmF3OiBkcmF3LFxyXG4gICAgY2xlYXI6IGNsZWFyRmllbGQsXHJcbiAgICBjcmVhdGVJbWFnZTogY3JlYXRlSW1hZ2VcclxufTtcclxuIiwidmFyIHZpZXdNb2R1bGVzID0gcmVxdWlyZSgnLi4vdmlldy9kaXNwbGF5TW9kdWxlcycpLnZpZXdNb2R1bGVzO1xyXG52YXIgbGV2ZWxDb25zdHJ1Y3RvciA9IHJlcXVpcmUoJy4uL2NvbnN0cnVjdG9ycy9sZXZlbENvbnN0cnVjdG9ycycpLmxldmVsQ29uc3RydWN0b3I7XHJcbmZ1bmN0aW9uIGluaXRGaWVsZChzY3JlZW5XaWR0aCwgc2NyZWVuSGVpZ2h0KSB7XHJcbiAgICBpZiAoc2NyZWVuV2lkdGggPT09IHZvaWQgMCkgeyBzY3JlZW5XaWR0aCA9IHdpbmRvdy5pbm5lcldpZHRoOyB9XHJcbiAgICBpZiAoc2NyZWVuSGVpZ2h0ID09PSB2b2lkIDApIHsgc2NyZWVuSGVpZ2h0ID0gd2luZG93LmlubmVySGVpZ2h0OyB9XHJcbiAgICB2YXIgZ2FtZUZpZWxkID0gW10uY29uY2F0KHRoaXMuZ2FtZUluaXREYXRhLmdhbWVGaWVsZCwgdGhpcy5nYW1lSW5pdERhdGEuZ2FtZUFjdGlvbkZpZWxkLCB0aGlzLmdhbWVJbml0RGF0YS5nYW1lVUlGaWVsZCk7XHJcbiAgICBpZiAoIWdhbWVGaWVsZClcclxuICAgICAgICB0aHJvdyBFcnJvcihFUlJPUl9MSVNULm5vT2JqZWN0KTtcclxuICAgIGZvciAodmFyIF9pID0gMCwgZ2FtZUZpZWxkXzEgPSBnYW1lRmllbGQ7IF9pIDwgZ2FtZUZpZWxkXzEubGVuZ3RoOyBfaSsrKSB7XHJcbiAgICAgICAgdmFyIHNjcmVlbl8xID0gZ2FtZUZpZWxkXzFbX2ldO1xyXG4gICAgICAgIHNjcmVlbl8xLndpZHRoID0gc2NyZWVuV2lkdGggLSA0O1xyXG4gICAgICAgIHNjcmVlbl8xLmhlaWdodCA9IHNjcmVlbkhlaWdodCAtIDQ7XHJcbiAgICB9XHJcbn1cclxuLy8vIEJhY2tncm91bmRcclxuZnVuY3Rpb24gc2V0R2FtZUZpZWxkcygpIHtcclxuICAgIHRoaXMuaW5pdEZpZWxkKCk7XHJcbiAgICB0aGlzLmNyZWF0ZUNvbnRleHQoKTtcclxuICAgIHRoaXMuaW5pdFBsYXllclNoaXAoKTtcclxufVxyXG5mdW5jdGlvbiBsZXZlbEluaXQoYmFja2dyb3VuZENvbnN0cnVjdG9yLCBjdHgsIHBhcnJlbnQpIHtcclxuICAgIHZhciBnYW1lRGF0YSA9IHRoaXMuc2hvd0xldmVsRGF0YSgpO1xyXG4gICAgdmFyIGJhY2tncnVuZEltYWdlcyA9IGdhbWVEYXRhLmxldmVsTWFwO1xyXG4gICAgdmFyIG1hcE9iamVjdCA9IG5ldyBiYWNrZ3JvdW5kQ29uc3RydWN0b3IoYmFja2dydW5kSW1hZ2VzLCAxLCB0aGlzLmdhbWVJbml0RGF0YS5zY3JlZW4sIGN0eCwgKHRoaXMuZ2FtZUluaXREYXRhLm1hcEJhY2tncm91bmRPYmplY3RzLmxlbmd0aCAlIDIgPT0gMCkgPyB0cnVlIDogbnVsbCAvLy8gICAlMlxyXG4gICAgKTtcclxuICAgIG1hcE9iamVjdC5wYXJyZW50ID0gcGFycmVudDtcclxuICAgIHRoaXMuZ2FtZUluaXREYXRhLm1hcEJhY2tncm91bmRPYmplY3RzID0gdGhpcy5nYW1lSW5pdERhdGEubWFwQmFja2dyb3VuZE9iamVjdHMuY29uY2F0KG1hcE9iamVjdCk7XHJcbn1cclxuLy8vIFBsYXllciBTaGlwXHJcbi8vLyBlbmdpbmUgIDZhIDEz0LrQsNCx0ZbQvdC10YIg0LTQviAxMjozMFxyXG5mdW5jdGlvbiBjcmVhdGVDb250ZXh0KCkge1xyXG4gICAgdGhpcy5nYW1lSW5pdERhdGEuY3R4ID0gdGhpcy5nYW1lSW5pdERhdGEuZ2FtZUZpZWxkLmdldENvbnRleHQoJzJkJyk7XHJcbiAgICB0aGlzLmdhbWVJbml0RGF0YS5jdHhBY3Rpb25GaWVsZCA9IHRoaXMuZ2FtZUluaXREYXRhLmdhbWVBY3Rpb25GaWVsZC5nZXRDb250ZXh0KCcyZCcpO1xyXG4gICAgdGhpcy5nYW1lSW5pdERhdGEuY3R4VUlGaWVsZCA9IHRoaXMuZ2FtZUluaXREYXRhLmdhbWVVSUZpZWxkLmdldENvbnRleHQoJzJkJyk7XHJcbn1cclxuZnVuY3Rpb24gc3RvcEVuZ2luZShlbmdpbmVOYW1lKSB7XHJcbiAgICBjbGVhckludGVydmFsKGVuZ2luZU5hbWUpO1xyXG59XHJcbmZ1bmN0aW9uIGNoYW5nZUxldmVsKCkge1xyXG59XHJcbmZ1bmN0aW9uIGxldmVsVGltZXIoKSB7XHJcbn1cclxuZnVuY3Rpb24gcmVsb2FkR2FtZSgpIHtcclxufVxyXG5tb2R1bGUuZXhwb3J0cy5nYW1lTWV0aG9kcyA9IHtcclxuICAgIGluaXRGaWVsZDogaW5pdEZpZWxkLFxyXG4gICAgc2V0R2FtZUZpZWxkczogc2V0R2FtZUZpZWxkcyxcclxuICAgIGxldmVsSW5pdDogbGV2ZWxJbml0LFxyXG4gICAgY3JlYXRlQ29udGV4dDogY3JlYXRlQ29udGV4dCxcclxufTtcclxuIiwiXCJ1c2Ugc3RyaWN0XCI7XHJcbnZhciBfX2F3YWl0ZXIgPSAodGhpcyAmJiB0aGlzLl9fYXdhaXRlcikgfHwgZnVuY3Rpb24gKHRoaXNBcmcsIF9hcmd1bWVudHMsIFAsIGdlbmVyYXRvcikge1xyXG4gICAgZnVuY3Rpb24gYWRvcHQodmFsdWUpIHsgcmV0dXJuIHZhbHVlIGluc3RhbmNlb2YgUCA/IHZhbHVlIDogbmV3IFAoZnVuY3Rpb24gKHJlc29sdmUpIHsgcmVzb2x2ZSh2YWx1ZSk7IH0pOyB9XHJcbiAgICByZXR1cm4gbmV3IChQIHx8IChQID0gUHJvbWlzZSkpKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcclxuICAgICAgICBmdW5jdGlvbiBmdWxmaWxsZWQodmFsdWUpIHsgdHJ5IHsgc3RlcChnZW5lcmF0b3IubmV4dCh2YWx1ZSkpOyB9IGNhdGNoIChlKSB7IHJlamVjdChlKTsgfSB9XHJcbiAgICAgICAgZnVuY3Rpb24gcmVqZWN0ZWQodmFsdWUpIHsgdHJ5IHsgc3RlcChnZW5lcmF0b3JbXCJ0aHJvd1wiXSh2YWx1ZSkpOyB9IGNhdGNoIChlKSB7IHJlamVjdChlKTsgfSB9XHJcbiAgICAgICAgZnVuY3Rpb24gc3RlcChyZXN1bHQpIHsgcmVzdWx0LmRvbmUgPyByZXNvbHZlKHJlc3VsdC52YWx1ZSkgOiBhZG9wdChyZXN1bHQudmFsdWUpLnRoZW4oZnVsZmlsbGVkLCByZWplY3RlZCk7IH1cclxuICAgICAgICBzdGVwKChnZW5lcmF0b3IgPSBnZW5lcmF0b3IuYXBwbHkodGhpc0FyZywgX2FyZ3VtZW50cyB8fCBbXSkpLm5leHQoKSk7XHJcbiAgICB9KTtcclxufTtcclxudmFyIF9fZ2VuZXJhdG9yID0gKHRoaXMgJiYgdGhpcy5fX2dlbmVyYXRvcikgfHwgZnVuY3Rpb24gKHRoaXNBcmcsIGJvZHkpIHtcclxuICAgIHZhciBfID0geyBsYWJlbDogMCwgc2VudDogZnVuY3Rpb24oKSB7IGlmICh0WzBdICYgMSkgdGhyb3cgdFsxXTsgcmV0dXJuIHRbMV07IH0sIHRyeXM6IFtdLCBvcHM6IFtdIH0sIGYsIHksIHQsIGc7XHJcbiAgICByZXR1cm4gZyA9IHsgbmV4dDogdmVyYigwKSwgXCJ0aHJvd1wiOiB2ZXJiKDEpLCBcInJldHVyblwiOiB2ZXJiKDIpIH0sIHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiAoZ1tTeW1ib2wuaXRlcmF0b3JdID0gZnVuY3Rpb24oKSB7IHJldHVybiB0aGlzOyB9KSwgZztcclxuICAgIGZ1bmN0aW9uIHZlcmIobikgeyByZXR1cm4gZnVuY3Rpb24gKHYpIHsgcmV0dXJuIHN0ZXAoW24sIHZdKTsgfTsgfVxyXG4gICAgZnVuY3Rpb24gc3RlcChvcCkge1xyXG4gICAgICAgIGlmIChmKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiR2VuZXJhdG9yIGlzIGFscmVhZHkgZXhlY3V0aW5nLlwiKTtcclxuICAgICAgICB3aGlsZSAoXykgdHJ5IHtcclxuICAgICAgICAgICAgaWYgKGYgPSAxLCB5ICYmICh0ID0gb3BbMF0gJiAyID8geVtcInJldHVyblwiXSA6IG9wWzBdID8geVtcInRocm93XCJdIHx8ICgodCA9IHlbXCJyZXR1cm5cIl0pICYmIHQuY2FsbCh5KSwgMCkgOiB5Lm5leHQpICYmICEodCA9IHQuY2FsbCh5LCBvcFsxXSkpLmRvbmUpIHJldHVybiB0O1xyXG4gICAgICAgICAgICBpZiAoeSA9IDAsIHQpIG9wID0gW29wWzBdICYgMiwgdC52YWx1ZV07XHJcbiAgICAgICAgICAgIHN3aXRjaCAob3BbMF0pIHtcclxuICAgICAgICAgICAgICAgIGNhc2UgMDogY2FzZSAxOiB0ID0gb3A7IGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSA0OiBfLmxhYmVsKys7IHJldHVybiB7IHZhbHVlOiBvcFsxXSwgZG9uZTogZmFsc2UgfTtcclxuICAgICAgICAgICAgICAgIGNhc2UgNTogXy5sYWJlbCsrOyB5ID0gb3BbMV07IG9wID0gWzBdOyBjb250aW51ZTtcclxuICAgICAgICAgICAgICAgIGNhc2UgNzogb3AgPSBfLm9wcy5wb3AoKTsgXy50cnlzLnBvcCgpOyBjb250aW51ZTtcclxuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCEodCA9IF8udHJ5cywgdCA9IHQubGVuZ3RoID4gMCAmJiB0W3QubGVuZ3RoIC0gMV0pICYmIChvcFswXSA9PT0gNiB8fCBvcFswXSA9PT0gMikpIHsgXyA9IDA7IGNvbnRpbnVlOyB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKG9wWzBdID09PSAzICYmICghdCB8fCAob3BbMV0gPiB0WzBdICYmIG9wWzFdIDwgdFszXSkpKSB7IF8ubGFiZWwgPSBvcFsxXTsgYnJlYWs7IH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAob3BbMF0gPT09IDYgJiYgXy5sYWJlbCA8IHRbMV0pIHsgXy5sYWJlbCA9IHRbMV07IHQgPSBvcDsgYnJlYWs7IH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAodCAmJiBfLmxhYmVsIDwgdFsyXSkgeyBfLmxhYmVsID0gdFsyXTsgXy5vcHMucHVzaChvcCk7IGJyZWFrOyB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRbMl0pIF8ub3BzLnBvcCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIF8udHJ5cy5wb3AoKTsgY29udGludWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgb3AgPSBib2R5LmNhbGwodGhpc0FyZywgXyk7XHJcbiAgICAgICAgfSBjYXRjaCAoZSkgeyBvcCA9IFs2LCBlXTsgeSA9IDA7IH0gZmluYWxseSB7IGYgPSB0ID0gMDsgfVxyXG4gICAgICAgIGlmIChvcFswXSAmIDUpIHRocm93IG9wWzFdOyByZXR1cm4geyB2YWx1ZTogb3BbMF0gPyBvcFsxXSA6IHZvaWQgMCwgZG9uZTogdHJ1ZSB9O1xyXG4gICAgfVxyXG59O1xyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcbnJlcXVpcmUoXCIuLi9zYXNzL21haW4uc2Fzc1wiKTtcclxudmFyIGxldmVsQ29uc3RydWN0b3IgPSByZXF1aXJlKCcuL2NvbnN0cnVjdG9ycy9sZXZlbENvbnN0cnVjdG9ycycpLmxldmVsQ29uc3RydWN0b3I7XHJcbnZhciBwbGF5ZXJNb2R1bGVzID0gcmVxdWlyZSgnLi9jb25zdHJ1Y3RvcnMvdXNlckNvbnN0cnVjdG9yJykucGxheWVyTW9kdWxlcztcclxudmFyIGVuZ2luZU1vZHVsZSA9IHJlcXVpcmUoJy4vZW5naW5lL2VuZ2luZU1vZHVsZXMnKS5lbmdpbmVNb2R1bGU7XHJcbnZhciBzZXJ2ZXJNb2R1bGVzID0gcmVxdWlyZSgnLi9zZXJ2ZXIvc2VydmVyUmVxdWVzdE1vZHVsZXMnKS5zZXJ2ZXJNb2R1bGVzO1xyXG52YXIgZW5lbWllcyA9IHJlcXVpcmUoJy4vZW5lbWllcy9lbmVtaWVzTW9kdWxlcycpLmVuZW1pZXM7XHJcbnZhciB2aWV3TW9kdWxlcyA9IHJlcXVpcmUoJy4vdmlldy9kaXNwbGF5TW9kdWxlcycpLnZpZXdNb2R1bGVzO1xyXG4oZnVuY3Rpb24gaW5pdCgpIHtcclxuICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBmdW5jdGlvbiBnYW1lRGF0YUluaXQoKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHZhciBnYW1lRmllbGQsIGdhbWVBY3Rpb25GaWVsZCwgZ2FtZVVJZmllbGQsIHNlcnZlckxvY2F0aW9uLCBsZXZlbERhdGEsIGdhbWVTZXRpbmdzLCB1c2VyRGF0YTtcclxuICAgICAgICAgICAgICAgIHJldHVybiBfX2dlbmVyYXRvcih0aGlzLCBmdW5jdGlvbiAoX2EpIHtcclxuICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKF9hLmxhYmVsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMDpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdhbWVGaWVsZCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNnYW1lZmllbGQnKSwgZ2FtZUFjdGlvbkZpZWxkID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2dhbWVPYmplY3RzZmllbGQnKSwgZ2FtZVVJZmllbGQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjZ2FtZVVpZmllbGQnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlcnZlckxvY2F0aW9uID0ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhvc3Q6IChkb2N1bWVudC5sb2NhdGlvbi5ob3N0bmFtZSA9PT0gXCJsb2NhbGhvc3RcIikgPyBcImh0dHA6Ly9sb2NhbGhvc3Q6MzAwMC9cIiA6IFwiXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGljdHVyZXNEaXJlY3Rpb246IGxvY2F0aW9uLm9yaWdpbiArICcvaW1hZ2VzLycsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV2ZWxEYXRhOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1ldGhvZDogXCJHRVRcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdXJsOiBcImFwaS9sZXZlbC1kYXRhXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVuZW15bERhdGE6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWV0aG9kOiBcIkdFVFwiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1cmw6IFwiYXBpL2xldmVsLWRhdGFcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZ2FtZVNldGluZ3M6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWV0aG9kOiBcIkdFVFwiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1cmw6IFwiYXBpL2dhbWUtZXR0aW5nc1wiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1c2VyU2hpcDoge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXRob2Q6IFwiR0VUXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVybDogXCJhcGkvdXNlci1zaGlwXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFs0IC8qeWllbGQqLywgc2VydmVyTW9kdWxlcy5nZXREYXRhKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdXJsOiBzZXJ2ZXJMb2NhdGlvbi5ob3N0ICsgc2VydmVyTG9jYXRpb24ubGV2ZWxEYXRhLnVybCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWV0aG9kOiBzZXJ2ZXJMb2NhdGlvbi5sZXZlbERhdGEubWV0aG9kLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhOiBudWxsLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBoZWFkZXJzOiB7ICdtYXBsZXZlbCc6IDIgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAxOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV2ZWxEYXRhID0gX2Euc2VudCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFs0IC8qeWllbGQqLywgc2VydmVyTW9kdWxlcy5nZXREYXRhKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdXJsOiBzZXJ2ZXJMb2NhdGlvbi5ob3N0ICsgc2VydmVyTG9jYXRpb24uZ2FtZVNldGluZ3MudXJsLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXRob2Q6IHNlcnZlckxvY2F0aW9uLmdhbWVTZXRpbmdzLm1ldGhvZCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YTogbnVsbCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaGVhZGVyczogbnVsbFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAyOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZ2FtZVNldGluZ3MgPSBfYS5zZW50KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzQgLyp5aWVsZCovLCBzZXJ2ZXJNb2R1bGVzLmdldERhdGEoe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1cmw6IHNlcnZlckxvY2F0aW9uLmhvc3QgKyBzZXJ2ZXJMb2NhdGlvbi51c2VyU2hpcC51cmwsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1ldGhvZDogc2VydmVyTG9jYXRpb24udXNlclNoaXAubWV0aG9kLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhOiBudWxsLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBoZWFkZXJzOiB7ICd1c2Vyc2hpcCc6IDEgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAzOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdXNlckRhdGEgPSBfYS5zZW50KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzIgLypyZXR1cm4qLywgeyBkYXRhOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdHg6IG51bGwsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBnYW1lRmllbGQ6IChnYW1lRmllbGQpID8gZ2FtZUZpZWxkIDogbnVsbCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdhbWVBY3Rpb25GaWVsZDogKGdhbWVBY3Rpb25GaWVsZCkgPyBnYW1lQWN0aW9uRmllbGQgOiBudWxsLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZ2FtZVVJRmllbGQ6IChnYW1lVUlmaWVsZCkgPyBnYW1lVUlmaWVsZCA6IG51bGwsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBnYW1lRGF0YToge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRMZXZlbDogMixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50UG9pbnQ6IDAsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGxheWVyT2JqZWN0OiBuZXcgcGxheWVyTW9kdWxlcy5QbGF5ZXJTaGlwKHVzZXJEYXRhLCAwLCAzLCAwLCAwKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBnYW1lU2V0aW5nczogZ2FtZVNldGluZ3MsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Ryb2xsZXJzOiBudWxsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2NyZWVuOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd2lkdGg6IHdpbmRvdy5pbm5lcldpZHRoLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhlaWdodDogd2luZG93LmlubmVySGVpZ2h0XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWxsR2FtZUVuZW1pZXM6IFtdLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWxsR2FtZUJ1bGxldHM6IFtdLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWxsR2FtZU1hcE9CamVjdHM6IFtdLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWFwQmFja2dyb3VuZE9iamVjdHM6IFtdLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZ2FtZVBhdXNlOiBmYWxzZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJhY2tTY3JlZW5QYXVzZTogdHJ1ZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdhbWVTdGF0dXM6IGZhbHNlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZ2FtZUVuZ2luZTogc2V0SW50ZXJ2YWwoZ2FtZUludGVydmFsLCAyMCksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXZlbERhdGE6IGxldmVsRGF0YVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCBsb2NhdGlvbnM6IHNlcnZlckxvY2F0aW9uXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfV07XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICBmdW5jdGlvbiBnYW1lSW50ZXJ2YWwoKSB7XHJcbiAgICAgICAgICAgIC8vXHJcbiAgICAgICAgICAgIGlmIChnYW1lT2JqZWN0LmdhbWVJbml0RGF0YS5jdHhBY3Rpb25GaWVsZCkge1xyXG4gICAgICAgICAgICAgICAgdmlld01vZHVsZXMuY2xlYXJGaWVsZChnYW1lT2JqZWN0LmdhbWVJbml0RGF0YS5jdHhBY3Rpb25GaWVsZCwgZ2FtZU9iamVjdC5nYW1lSW5pdERhdGEuc2NyZWVuLndpZHRoLCBnYW1lT2JqZWN0LmdhbWVJbml0RGF0YS5zY3JlZW4uaGVpZ2h0KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBwbGF5ZXJTaGlwRGF0YS5wbGFjZVNoaXAoKTtcclxuICAgICAgICAgICAgcGxheWVyU2hpcERhdGEuZGlzcGxheVBsYXllclNoaXAoKTtcclxuICAgICAgICAgICAgaWYgKGdhbWVPYmplY3QuZ2FtZUluaXREYXRhLmJhY2tTY3JlZW5QYXVzZSkge1xyXG4gICAgICAgICAgICAgICAgZ2FtZU9iamVjdC5nYW1lSW5pdERhdGEuYmFja1NjcmVlblBhdXNlID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICBnYW1lT2JqZWN0LmxldmVsSW5pdChsZXZlbENvbnN0cnVjdG9yLkdhbWVCYWNrZ3JvdW5kLCBnYW1lT2JqZWN0LmdhbWVJbml0RGF0YS5jdHgsIGdhbWVPYmplY3QpO1xyXG4gICAgICAgICAgICAgICAgZ2FtZU9iamVjdC5sZXZlbEluaXQobGV2ZWxDb25zdHJ1Y3Rvci5HYW1lQmFja2dyb3VuZCwgZ2FtZU9iamVjdC5nYW1lSW5pdERhdGEuY3R4LCBnYW1lT2JqZWN0KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoIWdhbWVPYmplY3QuZ2FtZUluaXREYXRhLmJhY2tTY3JlZW5QYXVzZSkge1xyXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgX2kgPSAwLCBfYSA9IGdhbWVPYmplY3QuZ2FtZUluaXREYXRhLm1hcEJhY2tncm91bmRPYmplY3RzOyBfaSA8IF9hLmxlbmd0aDsgX2krKykge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBiYWNrZ3JvdW5kTWFwID0gX2FbX2ldO1xyXG4gICAgICAgICAgICAgICAgICAgIGJhY2tncm91bmRNYXAudXBkYXRlTWFwKCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgdmFyIGdhbWVTdGF0ZSwgZ2FtZU9iamVjdCwgcGxheWVyU2hpcERhdGEsIGNvbnRleHRzO1xyXG4gICAgICAgIHJldHVybiBfX2dlbmVyYXRvcih0aGlzLCBmdW5jdGlvbiAoX2EpIHtcclxuICAgICAgICAgICAgc3dpdGNoIChfYS5sYWJlbCkge1xyXG4gICAgICAgICAgICAgICAgY2FzZSAwOiByZXR1cm4gWzQgLyp5aWVsZCovLCBnYW1lRGF0YUluaXQoKV07XHJcbiAgICAgICAgICAgICAgICBjYXNlIDE6XHJcbiAgICAgICAgICAgICAgICAgICAgZ2FtZVN0YXRlID0gX2Euc2VudCgpLCBnYW1lT2JqZWN0ID0gbmV3IGxldmVsQ29uc3RydWN0b3IuR2FtZShnYW1lU3RhdGUuZGF0YSwgZ2FtZVN0YXRlLmxvY2F0aW9ucyksIHBsYXllclNoaXBEYXRhID0gZ2FtZU9iamVjdC5nYW1lSW5pdERhdGEuZ2FtZURhdGEucGxheWVyT2JqZWN0O1xyXG4gICAgICAgICAgICAgICAgICAgIGdhbWVPYmplY3Quc2V0R2FtZUZpZWxkcygpO1xyXG4gICAgICAgICAgICAgICAgICAgIGdhbWVPYmplY3Quc2V0R2FtZUZpZWxkcygpO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnRleHRzID0gZ2FtZU9iamVjdC5yZXR1cm5Db250ZXh0KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgcGxheWVyU2hpcERhdGEuY3R4ID0gY29udGV4dHMuZ2FtZUFjdGlvbkZpZWxkO1xyXG4gICAgICAgICAgICAgICAgICAgIHBsYXllclNoaXBEYXRhLnBhcnJlbnQgPSBnYW1lT2JqZWN0O1xyXG4gICAgICAgICAgICAgICAgICAgIHBsYXllclNoaXBEYXRhLmluaXRQbGF5ZXJTaGlwKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgcGxheWVyU2hpcERhdGEuc2hpcENvbnRyb2woKTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzIgLypyZXR1cm4qL107XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH0pO1xyXG59KSgpO1xyXG4iLCJ2YXIgYXBpID0gcmVxdWlyZShcIiEuLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9pbmplY3RTdHlsZXNJbnRvU3R5bGVUYWcuanNcIik7XG4gICAgICAgICAgICB2YXIgY29udGVudCA9IHJlcXVpcmUoXCIhIS4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvY2pzLmpzIS4uL25vZGVfbW9kdWxlcy9zYXNzLWxvYWRlci9kaXN0L2Nqcy5qcyEuL21haW4uc2Fzc1wiKTtcblxuICAgICAgICAgICAgY29udGVudCA9IGNvbnRlbnQuX19lc01vZHVsZSA/IGNvbnRlbnQuZGVmYXVsdCA6IGNvbnRlbnQ7XG5cbiAgICAgICAgICAgIGlmICh0eXBlb2YgY29udGVudCA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgICAgY29udGVudCA9IFtbbW9kdWxlLmlkLCBjb250ZW50LCAnJ11dO1xuICAgICAgICAgICAgfVxuXG52YXIgb3B0aW9ucyA9IHt9O1xuXG5vcHRpb25zLmluc2VydCA9IFwiaGVhZFwiO1xub3B0aW9ucy5zaW5nbGV0b24gPSBmYWxzZTtcblxudmFyIHVwZGF0ZSA9IGFwaShjb250ZW50LCBvcHRpb25zKTtcblxudmFyIGV4cG9ydGVkID0gY29udGVudC5sb2NhbHMgPyBjb250ZW50LmxvY2FscyA6IHt9O1xuXG5cblxubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRlZDsiLCJcInVzZSBzdHJpY3RcIjtcblxudmFyIGlzT2xkSUUgPSBmdW5jdGlvbiBpc09sZElFKCkge1xuICB2YXIgbWVtbztcbiAgcmV0dXJuIGZ1bmN0aW9uIG1lbW9yaXplKCkge1xuICAgIGlmICh0eXBlb2YgbWVtbyA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIC8vIFRlc3QgZm9yIElFIDw9IDkgYXMgcHJvcG9zZWQgYnkgQnJvd3NlcmhhY2tzXG4gICAgICAvLyBAc2VlIGh0dHA6Ly9icm93c2VyaGFja3MuY29tLyNoYWNrLWU3MWQ4NjkyZjY1MzM0MTczZmVlNzE1YzIyMmNiODA1XG4gICAgICAvLyBUZXN0cyBmb3IgZXhpc3RlbmNlIG9mIHN0YW5kYXJkIGdsb2JhbHMgaXMgdG8gYWxsb3cgc3R5bGUtbG9hZGVyXG4gICAgICAvLyB0byBvcGVyYXRlIGNvcnJlY3RseSBpbnRvIG5vbi1zdGFuZGFyZCBlbnZpcm9ubWVudHNcbiAgICAgIC8vIEBzZWUgaHR0cHM6Ly9naXRodWIuY29tL3dlYnBhY2stY29udHJpYi9zdHlsZS1sb2FkZXIvaXNzdWVzLzE3N1xuICAgICAgbWVtbyA9IEJvb2xlYW4od2luZG93ICYmIGRvY3VtZW50ICYmIGRvY3VtZW50LmFsbCAmJiAhd2luZG93LmF0b2IpO1xuICAgIH1cblxuICAgIHJldHVybiBtZW1vO1xuICB9O1xufSgpO1xuXG52YXIgZ2V0VGFyZ2V0ID0gZnVuY3Rpb24gZ2V0VGFyZ2V0KCkge1xuICB2YXIgbWVtbyA9IHt9O1xuICByZXR1cm4gZnVuY3Rpb24gbWVtb3JpemUodGFyZ2V0KSB7XG4gICAgaWYgKHR5cGVvZiBtZW1vW3RhcmdldF0gPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICB2YXIgc3R5bGVUYXJnZXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHRhcmdldCk7IC8vIFNwZWNpYWwgY2FzZSB0byByZXR1cm4gaGVhZCBvZiBpZnJhbWUgaW5zdGVhZCBvZiBpZnJhbWUgaXRzZWxmXG5cbiAgICAgIGlmICh3aW5kb3cuSFRNTElGcmFtZUVsZW1lbnQgJiYgc3R5bGVUYXJnZXQgaW5zdGFuY2VvZiB3aW5kb3cuSFRNTElGcmFtZUVsZW1lbnQpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAvLyBUaGlzIHdpbGwgdGhyb3cgYW4gZXhjZXB0aW9uIGlmIGFjY2VzcyB0byBpZnJhbWUgaXMgYmxvY2tlZFxuICAgICAgICAgIC8vIGR1ZSB0byBjcm9zcy1vcmlnaW4gcmVzdHJpY3Rpb25zXG4gICAgICAgICAgc3R5bGVUYXJnZXQgPSBzdHlsZVRhcmdldC5jb250ZW50RG9jdW1lbnQuaGVhZDtcbiAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgIC8vIGlzdGFuYnVsIGlnbm9yZSBuZXh0XG4gICAgICAgICAgc3R5bGVUYXJnZXQgPSBudWxsO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIG1lbW9bdGFyZ2V0XSA9IHN0eWxlVGFyZ2V0O1xuICAgIH1cblxuICAgIHJldHVybiBtZW1vW3RhcmdldF07XG4gIH07XG59KCk7XG5cbnZhciBzdHlsZXNJbkRvbSA9IFtdO1xuXG5mdW5jdGlvbiBnZXRJbmRleEJ5SWRlbnRpZmllcihpZGVudGlmaWVyKSB7XG4gIHZhciByZXN1bHQgPSAtMTtcblxuICBmb3IgKHZhciBpID0gMDsgaSA8IHN0eWxlc0luRG9tLmxlbmd0aDsgaSsrKSB7XG4gICAgaWYgKHN0eWxlc0luRG9tW2ldLmlkZW50aWZpZXIgPT09IGlkZW50aWZpZXIpIHtcbiAgICAgIHJlc3VsdCA9IGk7XG4gICAgICBicmVhaztcbiAgICB9XG4gIH1cblxuICByZXR1cm4gcmVzdWx0O1xufVxuXG5mdW5jdGlvbiBtb2R1bGVzVG9Eb20obGlzdCwgb3B0aW9ucykge1xuICB2YXIgaWRDb3VudE1hcCA9IHt9O1xuICB2YXIgaWRlbnRpZmllcnMgPSBbXTtcblxuICBmb3IgKHZhciBpID0gMDsgaSA8IGxpc3QubGVuZ3RoOyBpKyspIHtcbiAgICB2YXIgaXRlbSA9IGxpc3RbaV07XG4gICAgdmFyIGlkID0gb3B0aW9ucy5iYXNlID8gaXRlbVswXSArIG9wdGlvbnMuYmFzZSA6IGl0ZW1bMF07XG4gICAgdmFyIGNvdW50ID0gaWRDb3VudE1hcFtpZF0gfHwgMDtcbiAgICB2YXIgaWRlbnRpZmllciA9IFwiXCIuY29uY2F0KGlkLCBcIiBcIikuY29uY2F0KGNvdW50KTtcbiAgICBpZENvdW50TWFwW2lkXSA9IGNvdW50ICsgMTtcbiAgICB2YXIgaW5kZXggPSBnZXRJbmRleEJ5SWRlbnRpZmllcihpZGVudGlmaWVyKTtcbiAgICB2YXIgb2JqID0ge1xuICAgICAgY3NzOiBpdGVtWzFdLFxuICAgICAgbWVkaWE6IGl0ZW1bMl0sXG4gICAgICBzb3VyY2VNYXA6IGl0ZW1bM11cbiAgICB9O1xuXG4gICAgaWYgKGluZGV4ICE9PSAtMSkge1xuICAgICAgc3R5bGVzSW5Eb21baW5kZXhdLnJlZmVyZW5jZXMrKztcbiAgICAgIHN0eWxlc0luRG9tW2luZGV4XS51cGRhdGVyKG9iaik7XG4gICAgfSBlbHNlIHtcbiAgICAgIHN0eWxlc0luRG9tLnB1c2goe1xuICAgICAgICBpZGVudGlmaWVyOiBpZGVudGlmaWVyLFxuICAgICAgICB1cGRhdGVyOiBhZGRTdHlsZShvYmosIG9wdGlvbnMpLFxuICAgICAgICByZWZlcmVuY2VzOiAxXG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBpZGVudGlmaWVycy5wdXNoKGlkZW50aWZpZXIpO1xuICB9XG5cbiAgcmV0dXJuIGlkZW50aWZpZXJzO1xufVxuXG5mdW5jdGlvbiBpbnNlcnRTdHlsZUVsZW1lbnQob3B0aW9ucykge1xuICB2YXIgc3R5bGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzdHlsZScpO1xuICB2YXIgYXR0cmlidXRlcyA9IG9wdGlvbnMuYXR0cmlidXRlcyB8fCB7fTtcblxuICBpZiAodHlwZW9mIGF0dHJpYnV0ZXMubm9uY2UgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgdmFyIG5vbmNlID0gdHlwZW9mIF9fd2VicGFja19ub25jZV9fICE9PSAndW5kZWZpbmVkJyA/IF9fd2VicGFja19ub25jZV9fIDogbnVsbDtcblxuICAgIGlmIChub25jZSkge1xuICAgICAgYXR0cmlidXRlcy5ub25jZSA9IG5vbmNlO1xuICAgIH1cbiAgfVxuXG4gIE9iamVjdC5rZXlzKGF0dHJpYnV0ZXMpLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuICAgIHN0eWxlLnNldEF0dHJpYnV0ZShrZXksIGF0dHJpYnV0ZXNba2V5XSk7XG4gIH0pO1xuXG4gIGlmICh0eXBlb2Ygb3B0aW9ucy5pbnNlcnQgPT09ICdmdW5jdGlvbicpIHtcbiAgICBvcHRpb25zLmluc2VydChzdHlsZSk7XG4gIH0gZWxzZSB7XG4gICAgdmFyIHRhcmdldCA9IGdldFRhcmdldChvcHRpb25zLmluc2VydCB8fCAnaGVhZCcpO1xuXG4gICAgaWYgKCF0YXJnZXQpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIkNvdWxkbid0IGZpbmQgYSBzdHlsZSB0YXJnZXQuIFRoaXMgcHJvYmFibHkgbWVhbnMgdGhhdCB0aGUgdmFsdWUgZm9yIHRoZSAnaW5zZXJ0JyBwYXJhbWV0ZXIgaXMgaW52YWxpZC5cIik7XG4gICAgfVxuXG4gICAgdGFyZ2V0LmFwcGVuZENoaWxkKHN0eWxlKTtcbiAgfVxuXG4gIHJldHVybiBzdHlsZTtcbn1cblxuZnVuY3Rpb24gcmVtb3ZlU3R5bGVFbGVtZW50KHN0eWxlKSB7XG4gIC8vIGlzdGFuYnVsIGlnbm9yZSBpZlxuICBpZiAoc3R5bGUucGFyZW50Tm9kZSA9PT0gbnVsbCkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIHN0eWxlLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoc3R5bGUpO1xufVxuLyogaXN0YW5idWwgaWdub3JlIG5leHQgICovXG5cblxudmFyIHJlcGxhY2VUZXh0ID0gZnVuY3Rpb24gcmVwbGFjZVRleHQoKSB7XG4gIHZhciB0ZXh0U3RvcmUgPSBbXTtcbiAgcmV0dXJuIGZ1bmN0aW9uIHJlcGxhY2UoaW5kZXgsIHJlcGxhY2VtZW50KSB7XG4gICAgdGV4dFN0b3JlW2luZGV4XSA9IHJlcGxhY2VtZW50O1xuICAgIHJldHVybiB0ZXh0U3RvcmUuZmlsdGVyKEJvb2xlYW4pLmpvaW4oJ1xcbicpO1xuICB9O1xufSgpO1xuXG5mdW5jdGlvbiBhcHBseVRvU2luZ2xldG9uVGFnKHN0eWxlLCBpbmRleCwgcmVtb3ZlLCBvYmopIHtcbiAgdmFyIGNzcyA9IHJlbW92ZSA/ICcnIDogb2JqLm1lZGlhID8gXCJAbWVkaWEgXCIuY29uY2F0KG9iai5tZWRpYSwgXCIge1wiKS5jb25jYXQob2JqLmNzcywgXCJ9XCIpIDogb2JqLmNzczsgLy8gRm9yIG9sZCBJRVxuXG4gIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAgKi9cblxuICBpZiAoc3R5bGUuc3R5bGVTaGVldCkge1xuICAgIHN0eWxlLnN0eWxlU2hlZXQuY3NzVGV4dCA9IHJlcGxhY2VUZXh0KGluZGV4LCBjc3MpO1xuICB9IGVsc2Uge1xuICAgIHZhciBjc3NOb2RlID0gZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoY3NzKTtcbiAgICB2YXIgY2hpbGROb2RlcyA9IHN0eWxlLmNoaWxkTm9kZXM7XG5cbiAgICBpZiAoY2hpbGROb2Rlc1tpbmRleF0pIHtcbiAgICAgIHN0eWxlLnJlbW92ZUNoaWxkKGNoaWxkTm9kZXNbaW5kZXhdKTtcbiAgICB9XG5cbiAgICBpZiAoY2hpbGROb2Rlcy5sZW5ndGgpIHtcbiAgICAgIHN0eWxlLmluc2VydEJlZm9yZShjc3NOb2RlLCBjaGlsZE5vZGVzW2luZGV4XSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHN0eWxlLmFwcGVuZENoaWxkKGNzc05vZGUpO1xuICAgIH1cbiAgfVxufVxuXG5mdW5jdGlvbiBhcHBseVRvVGFnKHN0eWxlLCBvcHRpb25zLCBvYmopIHtcbiAgdmFyIGNzcyA9IG9iai5jc3M7XG4gIHZhciBtZWRpYSA9IG9iai5tZWRpYTtcbiAgdmFyIHNvdXJjZU1hcCA9IG9iai5zb3VyY2VNYXA7XG5cbiAgaWYgKG1lZGlhKSB7XG4gICAgc3R5bGUuc2V0QXR0cmlidXRlKCdtZWRpYScsIG1lZGlhKTtcbiAgfSBlbHNlIHtcbiAgICBzdHlsZS5yZW1vdmVBdHRyaWJ1dGUoJ21lZGlhJyk7XG4gIH1cblxuICBpZiAoc291cmNlTWFwICYmIGJ0b2EpIHtcbiAgICBjc3MgKz0gXCJcXG4vKiMgc291cmNlTWFwcGluZ1VSTD1kYXRhOmFwcGxpY2F0aW9uL2pzb247YmFzZTY0LFwiLmNvbmNhdChidG9hKHVuZXNjYXBlKGVuY29kZVVSSUNvbXBvbmVudChKU09OLnN0cmluZ2lmeShzb3VyY2VNYXApKSkpLCBcIiAqL1wiKTtcbiAgfSAvLyBGb3Igb2xkIElFXG5cbiAgLyogaXN0YW5idWwgaWdub3JlIGlmICAqL1xuXG5cbiAgaWYgKHN0eWxlLnN0eWxlU2hlZXQpIHtcbiAgICBzdHlsZS5zdHlsZVNoZWV0LmNzc1RleHQgPSBjc3M7XG4gIH0gZWxzZSB7XG4gICAgd2hpbGUgKHN0eWxlLmZpcnN0Q2hpbGQpIHtcbiAgICAgIHN0eWxlLnJlbW92ZUNoaWxkKHN0eWxlLmZpcnN0Q2hpbGQpO1xuICAgIH1cblxuICAgIHN0eWxlLmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKGNzcykpO1xuICB9XG59XG5cbnZhciBzaW5nbGV0b24gPSBudWxsO1xudmFyIHNpbmdsZXRvbkNvdW50ZXIgPSAwO1xuXG5mdW5jdGlvbiBhZGRTdHlsZShvYmosIG9wdGlvbnMpIHtcbiAgdmFyIHN0eWxlO1xuICB2YXIgdXBkYXRlO1xuICB2YXIgcmVtb3ZlO1xuXG4gIGlmIChvcHRpb25zLnNpbmdsZXRvbikge1xuICAgIHZhciBzdHlsZUluZGV4ID0gc2luZ2xldG9uQ291bnRlcisrO1xuICAgIHN0eWxlID0gc2luZ2xldG9uIHx8IChzaW5nbGV0b24gPSBpbnNlcnRTdHlsZUVsZW1lbnQob3B0aW9ucykpO1xuICAgIHVwZGF0ZSA9IGFwcGx5VG9TaW5nbGV0b25UYWcuYmluZChudWxsLCBzdHlsZSwgc3R5bGVJbmRleCwgZmFsc2UpO1xuICAgIHJlbW92ZSA9IGFwcGx5VG9TaW5nbGV0b25UYWcuYmluZChudWxsLCBzdHlsZSwgc3R5bGVJbmRleCwgdHJ1ZSk7XG4gIH0gZWxzZSB7XG4gICAgc3R5bGUgPSBpbnNlcnRTdHlsZUVsZW1lbnQob3B0aW9ucyk7XG4gICAgdXBkYXRlID0gYXBwbHlUb1RhZy5iaW5kKG51bGwsIHN0eWxlLCBvcHRpb25zKTtcblxuICAgIHJlbW92ZSA9IGZ1bmN0aW9uIHJlbW92ZSgpIHtcbiAgICAgIHJlbW92ZVN0eWxlRWxlbWVudChzdHlsZSk7XG4gICAgfTtcbiAgfVxuXG4gIHVwZGF0ZShvYmopO1xuICByZXR1cm4gZnVuY3Rpb24gdXBkYXRlU3R5bGUobmV3T2JqKSB7XG4gICAgaWYgKG5ld09iaikge1xuICAgICAgaWYgKG5ld09iai5jc3MgPT09IG9iai5jc3MgJiYgbmV3T2JqLm1lZGlhID09PSBvYmoubWVkaWEgJiYgbmV3T2JqLnNvdXJjZU1hcCA9PT0gb2JqLnNvdXJjZU1hcCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIHVwZGF0ZShvYmogPSBuZXdPYmopO1xuICAgIH0gZWxzZSB7XG4gICAgICByZW1vdmUoKTtcbiAgICB9XG4gIH07XG59XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGxpc3QsIG9wdGlvbnMpIHtcbiAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307IC8vIEZvcmNlIHNpbmdsZS10YWcgc29sdXRpb24gb24gSUU2LTksIHdoaWNoIGhhcyBhIGhhcmQgbGltaXQgb24gdGhlICMgb2YgPHN0eWxlPlxuICAvLyB0YWdzIGl0IHdpbGwgYWxsb3cgb24gYSBwYWdlXG5cbiAgaWYgKCFvcHRpb25zLnNpbmdsZXRvbiAmJiB0eXBlb2Ygb3B0aW9ucy5zaW5nbGV0b24gIT09ICdib29sZWFuJykge1xuICAgIG9wdGlvbnMuc2luZ2xldG9uID0gaXNPbGRJRSgpO1xuICB9XG5cbiAgbGlzdCA9IGxpc3QgfHwgW107XG4gIHZhciBsYXN0SWRlbnRpZmllcnMgPSBtb2R1bGVzVG9Eb20obGlzdCwgb3B0aW9ucyk7XG4gIHJldHVybiBmdW5jdGlvbiB1cGRhdGUobmV3TGlzdCkge1xuICAgIG5ld0xpc3QgPSBuZXdMaXN0IHx8IFtdO1xuXG4gICAgaWYgKE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChuZXdMaXN0KSAhPT0gJ1tvYmplY3QgQXJyYXldJykge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGFzdElkZW50aWZpZXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICB2YXIgaWRlbnRpZmllciA9IGxhc3RJZGVudGlmaWVyc1tpXTtcbiAgICAgIHZhciBpbmRleCA9IGdldEluZGV4QnlJZGVudGlmaWVyKGlkZW50aWZpZXIpO1xuICAgICAgc3R5bGVzSW5Eb21baW5kZXhdLnJlZmVyZW5jZXMtLTtcbiAgICB9XG5cbiAgICB2YXIgbmV3TGFzdElkZW50aWZpZXJzID0gbW9kdWxlc1RvRG9tKG5ld0xpc3QsIG9wdGlvbnMpO1xuXG4gICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IGxhc3RJZGVudGlmaWVycy5sZW5ndGg7IF9pKyspIHtcbiAgICAgIHZhciBfaWRlbnRpZmllciA9IGxhc3RJZGVudGlmaWVyc1tfaV07XG5cbiAgICAgIHZhciBfaW5kZXggPSBnZXRJbmRleEJ5SWRlbnRpZmllcihfaWRlbnRpZmllcik7XG5cbiAgICAgIGlmIChzdHlsZXNJbkRvbVtfaW5kZXhdLnJlZmVyZW5jZXMgPT09IDApIHtcbiAgICAgICAgc3R5bGVzSW5Eb21bX2luZGV4XS51cGRhdGVyKCk7XG5cbiAgICAgICAgc3R5bGVzSW5Eb20uc3BsaWNlKF9pbmRleCwgMSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgbGFzdElkZW50aWZpZXJzID0gbmV3TGFzdElkZW50aWZpZXJzO1xuICB9O1xufTsiLCIvLyBJbXBvcnRzXG52YXIgX19fQ1NTX0xPQURFUl9BUElfSU1QT1JUX19fID0gcmVxdWlyZShcIi4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvcnVudGltZS9hcGkuanNcIik7XG5leHBvcnRzID0gX19fQ1NTX0xPQURFUl9BUElfSU1QT1JUX19fKGZhbHNlKTtcbi8vIE1vZHVsZVxuZXhwb3J0cy5wdXNoKFttb2R1bGUuaWQsIFwiYm9keXtjb2xvcjpvcmFuZ2U7YmFja2dyb3VuZDojMzMzO21hcmdpbjowO3BhZGRpbmc6MDtjdXJzb3I6bm9uZX0uZ2FtZUJhY2tncm91bmR7YmFja2dyb3VuZDojMDAwfS5nYW1lLWZpZWxkc3twb3NpdGlvbjphYnNvbHV0ZX0uZ2FtZS1maWVsZC13cmFwcGVye2Rpc3BsYXk6ZmxleDtqdXN0aWZ5LWNvbnRlbnQ6Y2VudGVyfVxcblwiLCBcIlwiXSk7XG4vLyBFeHBvcnRzXG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHM7XG4iLCJcInVzZSBzdHJpY3RcIjtcblxuLypcbiAgTUlUIExpY2Vuc2UgaHR0cDovL3d3dy5vcGVuc291cmNlLm9yZy9saWNlbnNlcy9taXQtbGljZW5zZS5waHBcbiAgQXV0aG9yIFRvYmlhcyBLb3BwZXJzIEBzb2tyYVxuKi9cbi8vIGNzcyBiYXNlIGNvZGUsIGluamVjdGVkIGJ5IHRoZSBjc3MtbG9hZGVyXG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZnVuYy1uYW1lc1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAodXNlU291cmNlTWFwKSB7XG4gIHZhciBsaXN0ID0gW107IC8vIHJldHVybiB0aGUgbGlzdCBvZiBtb2R1bGVzIGFzIGNzcyBzdHJpbmdcblxuICBsaXN0LnRvU3RyaW5nID0gZnVuY3Rpb24gdG9TdHJpbmcoKSB7XG4gICAgcmV0dXJuIHRoaXMubWFwKGZ1bmN0aW9uIChpdGVtKSB7XG4gICAgICB2YXIgY29udGVudCA9IGNzc1dpdGhNYXBwaW5nVG9TdHJpbmcoaXRlbSwgdXNlU291cmNlTWFwKTtcblxuICAgICAgaWYgKGl0ZW1bMl0pIHtcbiAgICAgICAgcmV0dXJuIFwiQG1lZGlhIFwiLmNvbmNhdChpdGVtWzJdLCBcIiB7XCIpLmNvbmNhdChjb250ZW50LCBcIn1cIik7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBjb250ZW50O1xuICAgIH0pLmpvaW4oJycpO1xuICB9OyAvLyBpbXBvcnQgYSBsaXN0IG9mIG1vZHVsZXMgaW50byB0aGUgbGlzdFxuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZnVuYy1uYW1lc1xuXG5cbiAgbGlzdC5pID0gZnVuY3Rpb24gKG1vZHVsZXMsIG1lZGlhUXVlcnksIGRlZHVwZSkge1xuICAgIGlmICh0eXBlb2YgbW9kdWxlcyA9PT0gJ3N0cmluZycpIHtcbiAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1wYXJhbS1yZWFzc2lnblxuICAgICAgbW9kdWxlcyA9IFtbbnVsbCwgbW9kdWxlcywgJyddXTtcbiAgICB9XG5cbiAgICB2YXIgYWxyZWFkeUltcG9ydGVkTW9kdWxlcyA9IHt9O1xuXG4gICAgaWYgKGRlZHVwZSkge1xuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBwcmVmZXItZGVzdHJ1Y3R1cmluZ1xuICAgICAgICB2YXIgaWQgPSB0aGlzW2ldWzBdO1xuXG4gICAgICAgIGlmIChpZCAhPSBudWxsKSB7XG4gICAgICAgICAgYWxyZWFkeUltcG9ydGVkTW9kdWxlc1tpZF0gPSB0cnVlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IG1vZHVsZXMubGVuZ3RoOyBfaSsrKSB7XG4gICAgICB2YXIgaXRlbSA9IFtdLmNvbmNhdChtb2R1bGVzW19pXSk7XG5cbiAgICAgIGlmIChkZWR1cGUgJiYgYWxyZWFkeUltcG9ydGVkTW9kdWxlc1tpdGVtWzBdXSkge1xuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tY29udGludWVcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG5cbiAgICAgIGlmIChtZWRpYVF1ZXJ5KSB7XG4gICAgICAgIGlmICghaXRlbVsyXSkge1xuICAgICAgICAgIGl0ZW1bMl0gPSBtZWRpYVF1ZXJ5O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGl0ZW1bMl0gPSBcIlwiLmNvbmNhdChtZWRpYVF1ZXJ5LCBcIiBhbmQgXCIpLmNvbmNhdChpdGVtWzJdKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBsaXN0LnB1c2goaXRlbSk7XG4gICAgfVxuICB9O1xuXG4gIHJldHVybiBsaXN0O1xufTtcblxuZnVuY3Rpb24gY3NzV2l0aE1hcHBpbmdUb1N0cmluZyhpdGVtLCB1c2VTb3VyY2VNYXApIHtcbiAgdmFyIGNvbnRlbnQgPSBpdGVtWzFdIHx8ICcnOyAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgcHJlZmVyLWRlc3RydWN0dXJpbmdcblxuICB2YXIgY3NzTWFwcGluZyA9IGl0ZW1bM107XG5cbiAgaWYgKCFjc3NNYXBwaW5nKSB7XG4gICAgcmV0dXJuIGNvbnRlbnQ7XG4gIH1cblxuICBpZiAodXNlU291cmNlTWFwICYmIHR5cGVvZiBidG9hID09PSAnZnVuY3Rpb24nKSB7XG4gICAgdmFyIHNvdXJjZU1hcHBpbmcgPSB0b0NvbW1lbnQoY3NzTWFwcGluZyk7XG4gICAgdmFyIHNvdXJjZVVSTHMgPSBjc3NNYXBwaW5nLnNvdXJjZXMubWFwKGZ1bmN0aW9uIChzb3VyY2UpIHtcbiAgICAgIHJldHVybiBcIi8qIyBzb3VyY2VVUkw9XCIuY29uY2F0KGNzc01hcHBpbmcuc291cmNlUm9vdCB8fCAnJykuY29uY2F0KHNvdXJjZSwgXCIgKi9cIik7XG4gICAgfSk7XG4gICAgcmV0dXJuIFtjb250ZW50XS5jb25jYXQoc291cmNlVVJMcykuY29uY2F0KFtzb3VyY2VNYXBwaW5nXSkuam9pbignXFxuJyk7XG4gIH1cblxuICByZXR1cm4gW2NvbnRlbnRdLmpvaW4oJ1xcbicpO1xufSAvLyBBZGFwdGVkIGZyb20gY29udmVydC1zb3VyY2UtbWFwIChNSVQpXG5cblxuZnVuY3Rpb24gdG9Db21tZW50KHNvdXJjZU1hcCkge1xuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW5kZWZcbiAgdmFyIGJhc2U2NCA9IGJ0b2EodW5lc2NhcGUoZW5jb2RlVVJJQ29tcG9uZW50KEpTT04uc3RyaW5naWZ5KHNvdXJjZU1hcCkpKSk7XG4gIHZhciBkYXRhID0gXCJzb3VyY2VNYXBwaW5nVVJMPWRhdGE6YXBwbGljYXRpb24vanNvbjtjaGFyc2V0PXV0Zi04O2Jhc2U2NCxcIi5jb25jYXQoYmFzZTY0KTtcbiAgcmV0dXJuIFwiLyojIFwiLmNvbmNhdChkYXRhLCBcIiAqL1wiKTtcbn0iLCJtb2R1bGUuZXhwb3J0cy5FUlJPUl9MSVNUID0ge1xyXG4gICAgbm9EYXRhOiAnVGhlcmUgaXMgbm8gZGF0YScsXHJcbiAgICBub09iamVjdDogJ1RoZXJlIGlzIG5vIE9iamVjdCdcclxufTtcclxuIiwidmFyIHZpZXdNb2R1bGVzID0gcmVxdWlyZSgnLi4vdmlldy9kaXNwbGF5TW9kdWxlcycpLnZpZXdNb2R1bGVzO1xyXG52YXIgcGxheWVyU2hpcCA9IHJlcXVpcmUoJy4uL2VuZ2luZS9wbGF5ZXJTaGlwTW9kdWxlJykucGxheWVyU2hpcDtcclxudmFyIFBsYXllclNoaXAgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XHJcbiAgICBmdW5jdGlvbiBQbGF5ZXJTaGlwKGRhdGEsIHBvaW50cywgbGlmZVBvaW50cywgeCwgeSkge1xyXG4gICAgICAgIGlmICh4ID09PSB2b2lkIDApIHsgeCA9IDA7IH1cclxuICAgICAgICBpZiAoeSA9PT0gdm9pZCAwKSB7IHkgPSAwOyB9XHJcbiAgICAgICAgdGhpcy5kYXRhID0gZGF0YTtcclxuICAgICAgICB0aGlzLnBvaW50cyA9IHBvaW50cztcclxuICAgICAgICB0aGlzLmxpZmVQb2ludHMgPSBsaWZlUG9pbnRzO1xyXG4gICAgICAgIHRoaXMueCA9IHg7XHJcbiAgICAgICAgdGhpcy55ID0geTtcclxuICAgIH1cclxuICAgIFBsYXllclNoaXAucHJvdG90eXBlLnNob3dJbmZvcm1hdGlvbiA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBjb25zb2xlLmxvZyh0aGlzKTtcclxuICAgIH07XHJcbiAgICBQbGF5ZXJTaGlwLnByb3RvdHlwZS5zZXRDb250ZXh0ID0gZnVuY3Rpb24gKGNvbnRleHQpIHtcclxuICAgICAgICB0aGlzLmN0eCA9IGNvbnRleHQ7XHJcbiAgICB9O1xyXG4gICAgUGxheWVyU2hpcC5wcm90b3R5cGUucGxhY2VTaGlwID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHZhciB4QWRqID0gKHRoaXMueEZpbmFsIC0gdGhpcy54KSAvIHRoaXMuZGF0YS5zcGVlZDtcclxuICAgICAgICB2YXIgeUFkaiA9ICh0aGlzLnlGaW5hbCAtIHRoaXMueSkgLyB0aGlzLmRhdGEuc3BlZWQ7XHJcbiAgICAgICAgeEFkaiA9IChNYXRoLnNpZ24oeEFkaikgPiAwKSA/IHhBZGogOiB4QWRqICogLTE7XHJcbiAgICAgICAgeUFkaiA9IChNYXRoLnNpZ24oeUFkaikgPiAwKSA/IHlBZGogOiB5QWRqICogLTE7XHJcbiAgICAgICAgLy9jb25zb2xlLmxvZyh4QWRqLCB5QWRqKVxyXG4gICAgICAgIHRoaXMueCA9ICh0aGlzLnggPiB0aGlzLnhGaW5hbCkgPyB0aGlzLnggLSB4QWRqIDogLy90aGlzLnggLSB0aGlzLmRhdGEuc3BlZWQgOlxyXG4gICAgICAgICAgICAodGhpcy54IDwgdGhpcy54RmluYWwpID8gdGhpcy54ICsgeEFkaiA6IHRoaXMueEZpbmFsO1xyXG4gICAgICAgIHRoaXMueSA9ICh0aGlzLnkgPiB0aGlzLnlGaW5hbCkgPyB0aGlzLnkgLSB5QWRqIDpcclxuICAgICAgICAgICAgKHRoaXMueSA8IHRoaXMueUZpbmFsKSA/IHRoaXMueSArIHlBZGogOiB0aGlzLnlGaW5hbDtcclxuICAgIH07XHJcbiAgICBQbGF5ZXJTaGlwLnByb3RvdHlwZS5tb3ZlU2hpcCA9IGZ1bmN0aW9uIChfYSkge1xyXG4gICAgICAgIHZhciBfYiA9IF9hLnhQb3MsIHhQb3MgPSBfYiA9PT0gdm9pZCAwID8gMCA6IF9iLCBfYyA9IF9hLnlQb3MsIHlQb3MgPSBfYyA9PT0gdm9pZCAwID8gMCA6IF9jO1xyXG4gICAgICAgIHRoaXMueCArPSB4UG9zO1xyXG4gICAgICAgIHRoaXMueSArPSB5UG9zO1xyXG4gICAgfTtcclxuICAgIHJldHVybiBQbGF5ZXJTaGlwO1xyXG59KCkpO1xyXG5QbGF5ZXJTaGlwLnByb3RvdHlwZS5pbml0UGxheWVyU2hpcCA9IHBsYXllclNoaXAuaW5pdFBsYXllclNoaXA7XHJcblBsYXllclNoaXAucHJvdG90eXBlLmRpc3BsYXlQbGF5ZXJTaGlwID0gcGxheWVyU2hpcC5kaXNwbGF5UGxheWVyU2hpcDtcclxuUGxheWVyU2hpcC5wcm90b3R5cGUuc2hpcENvbnRyb2wgPSBwbGF5ZXJTaGlwLnNoaXBDb250cm9sO1xyXG5tb2R1bGUuZXhwb3J0cy5wbGF5ZXJNb2R1bGVzID0ge1xyXG4gICAgUGxheWVyU2hpcDogUGxheWVyU2hpcFxyXG59O1xyXG4iLCJmdW5jdGlvbiBnZXREYXRhKF9hKSB7XHJcbiAgICB2YXIgdXJsID0gX2EudXJsLCBtZXRob2QgPSBfYS5tZXRob2QsIGRhdGEgPSBfYS5kYXRhLCBoZWFkZXJzID0gX2EuaGVhZGVycztcclxuICAgIHZhciByZXN1bHRIZWFkZXIgPSBPYmplY3QuYXNzaWduKHtcclxuICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nXHJcbiAgICB9LCBoZWFkZXJzIHx8IGZhbHNlKTtcclxuICAgIHJldHVybiBmZXRjaCh1cmwsIHtcclxuICAgICAgICBtZXRob2Q6IG1ldGhvZCxcclxuICAgICAgICBtb2RlOiAnY29ycycsXHJcbiAgICAgICAgaGVhZGVyczogcmVzdWx0SGVhZGVyLFxyXG4gICAgICAgIGJvZHk6IChkYXRhKSA/IEpTT04uc3RyaW5naWZ5KGRhdGEpIDogbnVsbFxyXG4gICAgfSkudGhlbihmdW5jdGlvbiAocmVzKSB7IHJldHVybiByZXMuanNvbigpOyB9KS50aGVuKGZ1bmN0aW9uIChkYXRhKSB7IHJldHVybiBkYXRhOyB9KTtcclxufVxyXG5tb2R1bGUuZXhwb3J0cy5zZXJ2ZXJNb2R1bGVzID0ge1xyXG4gICAgZ2V0RGF0YTogZ2V0RGF0YVxyXG59O1xyXG4iLCJmdW5jdGlvbiBwbGFjZUVuZW15ZXMoKSB7XHJcbn1cclxuZnVuY3Rpb24gbW92ZUVuZW15ZXMoKSB7XHJcbn1cclxuZnVuY3Rpb24gbG9hZEVuZW15ZXMoKSB7XHJcbn1cclxubW9kdWxlLmV4cG9ydHMuZW5lbWllcyA9IHBsYWNlRW5lbXllcztcclxuIiwidmFyIHZpZXdNb2R1bGVzID0gcmVxdWlyZSgnLi4vdmlldy9kaXNwbGF5TW9kdWxlcycpLnZpZXdNb2R1bGVzO1xyXG52YXIgbGV2ZWxDb25zdHJ1Y3RvciA9IHJlcXVpcmUoJy4uL2NvbnN0cnVjdG9ycy9sZXZlbENvbnN0cnVjdG9ycycpLmxldmVsQ29uc3RydWN0b3I7XHJcbmZ1bmN0aW9uIGluaXRQbGF5ZXJTaGlwKCkge1xyXG4gICAgdmFyIF90aGlzID0gdGhpcztcclxuICAgIGlmICh0aGlzLmN0eCkge1xyXG4gICAgICAgIHZhciB3aWR0aCA9IHRoaXMuY3R4LndpZHRoLCBoZWlnaHQgPSB0aGlzLmN0eC5oZWlnaHQsIGltYWdlID0gdGhpcy5kYXRhLnRleHR1cmUsIGltYWdlTG9jYXRpb24gPSB0aGlzLnBhcnJlbnQuc2VydmVyTG9jYXRpb24ucGljdHVyZXNEaXJlY3Rpb247XHJcbiAgICAgICAgdGhpcy5pbWcgPSBuZXcgSW1hZ2UoKTtcclxuICAgICAgICB0aGlzLmltZy5vbmxvYWQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIGlmIChfdGhpcy5wbGFjZVBsYXllclNoaXApIHtcclxuICAgICAgICAgICAgICAgIF90aGlzLnBsYWNlUGxheWVyU2hpcCgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiBfdGhpcy5pbWc7XHJcbiAgICAgICAgfTtcclxuICAgICAgICB0aGlzLmltZy5zcmMgPSBpbWFnZUxvY2F0aW9uICsgaW1hZ2U7XHJcbiAgICB9XHJcbn1cclxuZnVuY3Rpb24gZGlzcGxheVBsYXllclNoaXAoKSB7XHJcbiAgICBpZiAodGhpcy5pbWcpIHtcclxuICAgICAgICBpZiAodGhpcy5jdHggJiYgdGhpcy5pbWcpIHtcclxuICAgICAgICAgICAgdmFyIHdpZHRoID0gdGhpcy5jdHgud2lkdGgsIGhlaWdodCA9IHRoaXMuY3R4LmhlaWdodDtcclxuICAgICAgICAgICAgdmlld01vZHVsZXMuY3JlYXRlSW1hZ2UodGhpcy5jdHgsIHRoaXMuaW1nLCB0aGlzLngsIHRoaXMueSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcbmZ1bmN0aW9uIHNoaXBDb250cm9sKCkge1xyXG4gICAgdmFyIF90aGlzID0gdGhpcztcclxuICAgIHZhciBjb250cm9sS2V5cyA9IHRoaXMucGFycmVudC5nYW1lSW5pdERhdGEuZ2FtZURhdGEuZ2FtZVNldGluZ3Mua2V5Q29udHJvbHM7XHJcbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwia2V5ZG93blwiIHx8IFwia2V5dXBcIiwgZnVuY3Rpb24gKGUpIHtcclxuICAgICAgICBjb25zb2xlLmxvZyhlLmtleSk7XHJcbiAgICAgICAgaWYgKGNvbnRyb2xLZXlzLmRvd24uc29tZShmdW5jdGlvbiAobykgeyByZXR1cm4gZS5rZXlDb2RlID09IG87IH0pKVxyXG4gICAgICAgICAgICBfdGhpcy5tb3ZlU2hpcCh7IHhQb3M6IDAsIHlQb3M6IF90aGlzLmRhdGEuc3BlZWQgfSk7XHJcbiAgICAgICAgaWYgKGNvbnRyb2xLZXlzLmxlZnQuc29tZShmdW5jdGlvbiAobykgeyByZXR1cm4gZS5rZXlDb2RlID09IG87IH0pKVxyXG4gICAgICAgICAgICBfdGhpcy5tb3ZlU2hpcCh7IHhQb3M6IF90aGlzLmRhdGEuc3BlZWQgKiAtMSwgeVBvczogMCB9KTtcclxuICAgICAgICBpZiAoY29udHJvbEtleXMucmlnaHQuc29tZShmdW5jdGlvbiAobykgeyByZXR1cm4gZS5rZXlDb2RlID09IG87IH0pKVxyXG4gICAgICAgICAgICBfdGhpcy5tb3ZlU2hpcCh7IHhQb3M6IF90aGlzLmRhdGEuc3BlZWQsIHlQb3M6IDAgfSk7XHJcbiAgICAgICAgaWYgKGNvbnRyb2xLZXlzLnVwLnNvbWUoZnVuY3Rpb24gKG8pIHsgcmV0dXJuIGUua2V5Q29kZSA9PSBvOyB9KSlcclxuICAgICAgICAgICAgX3RoaXMubW92ZVNoaXAoeyB4UG9zOiAwLCB5UG9zOiBfdGhpcy5kYXRhLnNwZWVkICogLTEgfSk7XHJcbiAgICB9KTtcclxuICAgIGNvbnNvbGUubG9nKHRoaXMpO1xyXG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlbW92ZVwiLCBmdW5jdGlvbiAoZSkge1xyXG4gICAgICAgIGlmIChlLnRhcmdldC50YWdOYW1lID09PSBcIkNBTlZBU1wiKSB7XHJcbiAgICAgICAgICAgIHZhciB4ID0gZS5jbGllbnRYIC0gZS50YXJnZXQub2Zmc2V0TGVmdCwgeSA9IGUuY2xpZW50WSAtIGUudGFyZ2V0Lm9mZnNldFRvcDtcclxuICAgICAgICAgICAgX3RoaXMueEZpbmFsID0gKHggJSBfdGhpcy5kYXRhLnNwZWVkID09IDApID8geCA6IF90aGlzLmRhdGEuc3BlZWQgKiBNYXRoLmZsb29yKHggLyBfdGhpcy5kYXRhLnNwZWVkKTtcclxuICAgICAgICAgICAgX3RoaXMueUZpbmFsID0gKHkgJSBfdGhpcy5kYXRhLnNwZWVkID09IDApID8geSA6IF90aGlzLmRhdGEuc3BlZWQgKiBNYXRoLmZsb29yKHkgLyBfdGhpcy5kYXRhLnNwZWVkKTtcclxuICAgICAgICB9XHJcbiAgICB9KTtcclxufVxyXG5tb2R1bGUuZXhwb3J0cy5wbGF5ZXJTaGlwID0ge1xyXG4gICAgZGlzcGxheVBsYXllclNoaXA6IGRpc3BsYXlQbGF5ZXJTaGlwLFxyXG4gICAgaW5pdFBsYXllclNoaXA6IGluaXRQbGF5ZXJTaGlwLFxyXG4gICAgc2hpcENvbnRyb2w6IHNoaXBDb250cm9sXHJcbn07XHJcbiJdLCJzb3VyY2VSb290IjoiIn0=