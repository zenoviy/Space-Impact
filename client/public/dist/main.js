!function(e){var t={};function i(n){if(t[n])return t[n].exports;var a=t[n]={i:n,l:!1,exports:{}};return e[n].call(a.exports,a,a.exports,i),a.l=!0,a.exports}i.m=e,i.c=t,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)i.d(n,a,function(t){return e[t]}.bind(null,a));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/public/dist",i(i.s=11)}([function(e,t,i){"use strict";var n=this&&this.__spreadArrays||function(){for(var e=0,t=0,i=arguments.length;t<i;t++)e+=arguments[t].length;var n=Array(e),a=0;for(t=0;t<i;t++)for(var r=arguments[t],o=0,s=r.length;o<s;o++,a++)n[a]=r[o];return n};Object.defineProperty(t,"__esModule",{value:!0});var a=i(22);t.createWindow=a.createWindow,t.createShapeRoundBorder=a.createShapeRoundBorder,t.createRoundButton=a.createRoundButton;var r=i(23);function o(e,t){for(var i=[],n=2;n<arguments.length;n++)i[n-2]=arguments[n];e[t].apply(e,i)}t.draw=o,t.createLaserBullet=function(e){if(!e.ctx)return new Error("no context");"player"==e.objectOwner&&"blaster"==e.type&&r.weapon1(e,o),"enemy"==e.objectOwner&&"blaster"==e.type&&r.weapon1(e,o),"enemy"==e.objectOwner&&"beam"==e.type&&r.weapon1(e,o)},t.createImage=function(e,t){for(var i=[],a=2;a<arguments.length;a++)i[a-2]=arguments[a];o.apply(void 0,n([e,"drawImage",t],i))},t.clearField=function(e,t,i){o(e,"clearRect",0,0,t,i)}},function(e,t,i){"use strict";var n=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)Object.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var a=i(0),r=i(9),o=n(i(3));t.placeEnemyes=function(e){a.createImage(e.gameInitData.ctxActionField,this.img,this.sx,this.sy,this.sWidth,this.sHeight,this.x,this.y,this.width,this.height)},t.moveEnemyes=function(e,t){void 0===t&&(t=0),this.x-=this.speed,this.y-=t},t.loadEnemyes=function(){this.img=new Image,this.img.src=this.shipTexture},t.shoot=function(e,t){if(t.gameInitData.gamePause||!this.isShoot)return!1;for(var i=this.guns,n=function(i){if(1>t.gameRandomizer(i.fireRepead)){var n=new e(a.x,a.y+(i.firePosition?i.firePosition:t.gameRandomizer(a.height)),i.name,i.color,"enemy",i.speed+a.speed,i.width,i.height,i.damage,i.type,i.texture,i.sx,i.sy,i.sWidth,i.sHeight,i.explosionAnimation);n.img.src=n.texture,n.img.onload=function(){t.gameInitData.allGameBullets=t.gameInitData.allGameBullets.concat(n)}}},a=this,r=0,o=i;r<o.length;r++){n(o[r])}},t.enemyAnimation=function(e){void 0===e&&(e=!0),this.detectFrame+=1,this.detectFrame%this.animationSteps==0&&e&&(this.detectFrame=0,this.sx+=this.sWidth,this.sx>=this.picturesWidth&&(this.sx=0))},t.enemyDamageAnimation=function(){if(this.numberOfVerticalItems>1){var e=this.originalHealthPoint/this.numberOfVerticalItems,t=new Array(this.numberOfVerticalItems).fill(null);t=t.map((function(t,i){return e*(i+1)})).sort((function(e,t){return e-t})).reverse();for(var i=0;i<t.length;i++){if(this.healthPoint<t[i]&&this.healthPoint>t[i+1]&&t[i+1]){this.sy=this.sHeight*i;break}t[i+1]||(this.sy=this.sHeight*(this.numberOfVerticalItems-1))}}},t.takeDamage=function(e,t,i){if(this.hasOwnProperty("bulletType")&&"enemy"==this.objectOwner&&"player"==t.objectOwner||this.hasOwnProperty("bulletType")&&"player"==this.objectOwner&&"enemy"==t.objectOwner||this.hasOwnProperty("bulletType")&&"player"==this.objectOwner&&"environment"==t.objectOwner&&t.hasOwnProperty("healthPoint")||this.hasOwnProperty("bulletType")&&"enemy"==this.objectOwner&&"environment"==t.objectOwner&&t.hasOwnProperty("healthPoint")||this.hasOwnProperty("bulletType")&&"player"==this.objectOwner&&"collide"==t.objectOwner&&t.hasOwnProperty("healthPoint")||this.hasOwnProperty("bulletType")&&"enemy"==this.objectOwner&&"collide"==t.objectOwner&&t.hasOwnProperty("healthPoint"))return r.explosionFire(this,i,t,o.SideObject),this.objectPresent=!1;if(this.hasOwnProperty("healthPoint")&&"enemy"==this.objectOwner&&"player"==t.objectOwner||this.hasOwnProperty("healthPoint")&&"collide"==this.objectOwner&&"player"==t.objectOwner||this.hasOwnProperty("healthPoint")&&"collide"==this.objectOwner&&"enemy"==t.objectOwner||this.hasOwnProperty("healthPoint")&&"environment"==this.objectOwner&&"player"==t.objectOwner||this.hasOwnProperty("healthPoint")&&"environment"==this.objectOwner&&"enemy"==t.objectOwner)n.call(this,null,i),this.enemyDamageAnimation(),this.healthPoint<=0&&(this.objectPresent=!1,r.explosionFire(this,i,t,o.SideObject),this.isBoss&&(i.gameInitData.levelChange=!0));else{if(!this.hasOwnProperty("healthPoint")||"player"!=this.objectOwner||"enemy"!=t.objectOwner)return!1;this.collisionAllow&&n.call(this,i.getLevelUserData(),i)}function n(t,i){if(this.healthPoint-=e,this.healthPoint<=0)return t&&t.life>0?(t.sourse.playerObject.numberOflife-=1,t.sourse.playerObject.numberOflife<=0&&(i.gameOverWindow(),i.gameInitData.gameOver=!0,setTimeout((function(){i.backToStartScreen(o.PlayerShip)}),3e3)),this.healthPoint=t.sourse.playerObject.maxHealth,!1):(i.collectPoints(this.pointsPerUnit),this.objectPresent=!1)}},t.hitDetection=function(e,t,i){for(var n=null,a=0,r=t;a<r.length;a++){var o=r[a],s=e.getObjectPosition.call(e),l=Math.max(s.x,o.x),c=Math.max(s.y,o.y),h=Math.min(s.x+(e.width||s.width),o.x+o.width)-l,u=Math.min(s.y+(e.height||s.height),o.y+o.height)-c;if("collision"==(n=!(Math.sign(h)<0||Math.sign(u)<0)&&"collision")){e.takeDamage&&o.takeDamage&&(e.takeDamage(o.damage?o.damage:0,o,i),o.takeDamage(e.damage?e.damage:0,e,i));break}}return"collision"==n&&e}},function(e,t,i){"use strict";var n=this&&this.__spreadArrays||function(){for(var e=0,t=0,i=arguments.length;t<i;t++)e+=arguments[t].length;var n=Array(e),a=0;for(t=0;t<i;t++)for(var r=arguments[t],o=0,s=r.length;o<s;o++,a++)n[a]=r[o];return n};Object.defineProperty(t,"__esModule",{value:!0});var a=i(0);t.initField=function(e,t){void 0===e&&(e=window.innerWidth),void 0===t&&(t=window.innerHeight);var i=[].concat(this.gameInitData.gameField,this.gameInitData.gameActionField,this.gameInitData.gameUIField);if(!i)throw Error("Error");for(var n=0,a=i;n<a.length;n++){var r=a[n];r=Object.assign(r,{width:e-4,height:t-4})}},t.setGameFields=function(){this.initField(),this.createContext(),this.initPlayerShip()},t.warpEffect=function(){var e=this.getScreenSize(),t=this.gameInitData.ctx,i=this.gameInitData.warpObjects;if(this.getSecondMeasure((function(e){var t=!(this.gameInitData.timeToEressLevel>=0);this.gameInitData.timeToEressLevel>=0&&!t&&(this.gameInitData.timeToEressLevel-=1);this.gameInitData.timeToEressLevel<0&&!t&&this.changeLevelProcedure()}),{timeToEressLevel:this.gameInitData.timeToEressLevel,ctx:t,screenSiz:this.getScreenSize()}),this.gameInitData.warpObjects=i.length<350?this.gameInitData.warpObjects.concat({x:e.width,y:this.gameRandomizer(e.height),height:this.gameRandomizer(20,10),width:10,speed:this.gameRandomizer(10,5),background:this.getRandomColor()}):this.gameInitData.warpObjects,i.length>0)for(var n=0,r=i;n<r.length;n++){var o=r[n];o.x-=o.x>0?o.speed:0,o.width=i.length<150?o.width-o.speed:i.length>150&&i.length<350?o.width+o.speed:o.width-o.speed,t.fillStyle=o.background,a.draw(t,"fillRect",o.x,o.y,o.width,o.height),t.fill()}},t.levelInit=function(e,t,i){var n=this.showLevelData().levelBackgroundElements;i.gameInitData.backScreenPause=!1;for(var a=0,r=n;a<r.length;a++){var o=r[a],s=new e(o.levelMap,o.speed,this.gameInitData.screen,t,this.gameInitData.mapBackgroundObjects.length%2==0||null,o.extraMap?o.extraMap:null,o.timeToExtraMapSeconds?o.timeToExtraMapSeconds:null,o.timeToExtraMapMinutes?o.timeToExtraMapMinutes:null);i.gameInitData.mapBackgroundObjects=i.gameInitData.mapBackgroundObjects.concat(s),s.img.src=this.showGameInfo().imageDirrection+s.backgroundTexture}},t.createContext=function(){this.gameInitData.ctx=this.gameInitData.gameField.getContext("2d"),this.gameInitData.ctxActionField=this.gameInitData.gameActionField.getContext("2d"),this.gameInitData.ctxUIField=this.gameInitData.gameUIField.getContext("2d")},t.getScreenSize=function(){return{width:this.gameInitData.screen.width,height:this.gameInitData.screen.height}},t.changeLevelProcedure=function(){var e=this.showGameInfo();this.changeLevel(e.gameData.currentLevel+1)<=e.gameData.levelData.allLevels?this.nextLevelDataReload(e):alert("Win Game Screen ")},t.levelTimer=function(){var e=this.getLevelUserData();if(e.sourse.levelData.bosPresents)e.sourse.levelData.levelDetails.levelSeconds=null,e.sourse.levelData.levelDetails.levelMinutes=null;else{e.sourse.levelData.levelDetails;this.gameInitData.levelChange||this.getSecondMeasure((function(e){e.levelSeconds<=0&&(0==e.levelMinutes&&0==e.levelSeconds&&(e.levelSeconds=0,this.gameInitData.levelChange=!0),e.levelMinutes=e.levelMinutes>0?e.levelMinutes-1:0);e.levelSeconds=e.levelSeconds>0?e.levelSeconds-1:this.gameInitData.levelChange?0:59}),e.sourse.levelData.levelDetails)}},t.getSecondMeasure=function(e){for(var t=[],i=1;i<arguments.length;i++)t[i-1]=arguments[i];var a=1e3/this.gameInitData.intervalCount;if(this.gameInitData.gemeExtraSeconds%a==0)return this.gameInitData.gemeExtraSeconds=0,e?e.call.apply(e,n([this],t)):a},t.gameSecondsIncrease=function(){this.gameInitData.gemeExtraSeconds+=1},t.getLevelUserData=function(){var e=this.gameInitData.gameData,t=e.levelData.levelDetails;return{sourse:e,currentLevel:e.currentLevel,allLevels:e.levelData.allLevels,points:e.currentPoint,life:e.playerObject.numberOflife,minutes:t.levelMinutes,seconds:t.levelSeconds}},t.deleteBullet=function(e){if(e.x>this.gameInitData.screen.width||e.x<-1*e.width||!e.objectPresent){var t=this.gameInitData.allGameBullets.indexOf(e);this.gameInitData.allGameBullets.splice(t,1)}},t.deleteObjects=function(e){if(e.x+e.sWidth<0||!e.objectPresent){var t=this.gameInitData.allGameEnemies.indexOf(e);this.gameInitData.allGameEnemies.splice(t,1)}},t.delateSideObject=function(e){if(!e.objectPresent||e.x<0-e.width){var t=this.gameInitData.allGameSideObjects.indexOf(e);this.gameInitData.allGameSideObjects.splice(t,1)}},t.collectPoints=function(e){this.gameInitData.gameData.currentPoint+=e},t.getObjectPosition=function(){return{x:this.x,y:this.y,width:this.width,height:this.height}},t.getRandomColor=function(){for(var e="#",t=0;t<6;t++)e+="0123456789ABCDEF"[Math.floor(16*Math.random())];return e}},function(e,t,i){"use strict";function n(e){for(var i in e)t.hasOwnProperty(i)||(t[i]=e[i])}Object.defineProperty(t,"__esModule",{value:!0}),n(i(20)),n(i(32)),n(i(8)),n(i(34)),n(i(35)),n(i(37))},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.init=function(e,t){e(t=t||this)},t.getUIObjectPosition=function(){return{x:this.propertyes.x,y:this.propertyes.y,width:this.propertyes.width,height:this.propertyes.height}}},function(e,t,i){"use strict";var n=this&&this.__awaiter||function(e,t,i,n){return new(i||(i=Promise))((function(a,r){function o(e){try{l(n.next(e))}catch(e){r(e)}}function s(e){try{l(n.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(o,s)}l((n=n.apply(e,t||[])).next())}))},a=this&&this.__generator||function(e,t){var i,n,a,r,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(r){return function(s){return function(r){if(i)throw new TypeError("Generator is already executing.");for(;o;)try{if(i=1,n&&(a=2&r[0]?n.return:r[0]?n.throw||((a=n.return)&&a.call(n),0):n.next)&&!(a=a.call(n,r[1])).done)return a;switch(n=0,a&&(r=[2&r[0],a.value]),r[0]){case 0:case 1:a=r;break;case 4:return o.label++,{value:r[1],done:!1};case 5:o.label++,n=r[1],r=[0];continue;case 7:r=o.ops.pop(),o.trys.pop();continue;default:if(!(a=(a=o.trys).length>0&&a[a.length-1])&&(6===r[0]||2===r[0])){o=0;continue}if(3===r[0]&&(!a||r[1]>a[0]&&r[1]<a[3])){o.label=r[1];break}if(6===r[0]&&o.label<a[1]){o.label=a[1],a=r;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(r);break}a[2]&&o.ops.pop(),o.trys.pop();continue}r=t.call(e,o)}catch(e){r=[6,e],n=0}finally{i=a=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,s])}}};Object.defineProperty(t,"__esModule",{value:!0});var r=i(19);function o(e){return n(this,void 0,void 0,(function(){var t,i,n,o,s,l;return a(this,(function(a){switch(a.label){case 0:return t={host:"http://localhost:3000/",picturesDirection:__dirname+"/public/images/",levelData:{method:"GET",url:"api/level-data"},levelObjects:{method:"GET",url:"api/level-objects"},gameSetings:{method:"GET",url:"api/game-settings"},userShip:{method:"GET",url:"api/user-ship"},enemylData:{method:"GET",url:"api/enemy-ship"}},[4,r.getData({url:t.host+t.levelData.url,method:t.levelData.method,data:null,headers:{maplevel:e.level}})];case 1:return i=a.sent(),[4,r.getData({url:t.host+t.levelObjects.url,method:t.levelObjects.method,data:null,headers:{mapObject:i.levelOBjects}})];case 2:return n=a.sent(),[4,r.getData({url:t.host+t.gameSetings.url,method:t.gameSetings.method,data:null,headers:null})];case 3:return o=a.sent(),[4,r.getData({url:t.host+t.userShip.url,method:t.userShip.method,data:null,headers:{usership:e.shipConfiguration}})];case 4:return s=a.sent(),[4,r.getData({url:t.host+t.enemylData.url,method:t.enemylData.method,data:null,headers:{"ship-type-number":i.enemyType}})];case 5:return l=a.sent(),[2,{levelData:i,levelObjects:n,gameSetings:o,userData:s,enemyData:l}]}}))}))}function s(e){return n(this,void 0,void 0,(function(){var t,i,n,r,s,l,c,h,u,m,d;return a(this,(function(a){switch(a.label){case 0:return t=document.querySelector("#gamefield"),i=document.querySelector("#gameObjectsfield"),n=document.querySelector("#gameUifield"),1,s=5,[4,o({level:r=4,shipConfiguration:1})];case 1:return l=a.sent(),c=l.levelData,h=l.levelObjects,u=l.gameSetings,m=l.userData,d=l.enemyData,[2,{data:{ctx:null,gameField:t||null,gameActionField:i||null,gameUIField:n||null,gameData:{currentLevel:r,currentPoint:0,playerObject:new e(m,0,300,s,100,100,m.size.width,m.size.height,m.damage),levelData:c,levelObjects:h,gameSetings:u,enemyData:d,controllers:null},screen:{width:window.innerWidth,height:window.innerHeight},intervalCount:20,enemyType:null,allGameSideObjects:[],allGameEnemies:[],allGameBullets:[],allGameMapOBjects:[],mapBackgroundObjects:[],warpObjects:[],timeToEressLevel:6,levelChange:!1,gamePause:!1,gameUiPause:!1,backScreenPause:!0,gameStatus:!1,gameOver:!1,gemeExtraSeconds:0}}]}}))}))}t.serverRequest=o,t.gameDataInit=s,t.gameEngine=function(e){return n(this,void 0,void 0,(function(){return a(this,(function(e){return[2]}))}))},t.gameStart=function(){this.gameInitData.gameOver=!1,this.gameInitData.gameStatus=!0},t.backToStartScreen=function(e){return n(this,void 0,void 0,(function(){var t,i,n,r,o,l;return a(this,(function(a){switch(a.label){case 0:return[4,s(e)];case 1:for(t=a.sent(),i=0,n=Object.entries(t.data);i<n.length;i++)r=n[i],o=r[0],null!==(l=r[1])&&(this.gameInitData[o]=l);return this.gameInitData.gameOver=!1,this.gameInitData.gameStatus=!1,[2]}}))}))}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.uiImage=function(e){var t=e.propertyes;t.ctx.drawImage(t.background,0,0,t.sWidth,t.sHeight,t.x,t.y,t.width,t.height)},t.uiText=function(e){var t=e.propertyes;t.ctx.measureText(e.text).width,t.ctx.font=e.fontSize,t.ctx.fillStyle=t.borderColor,t.ctx.fillText(e.text,t.x+t.width,t.y+t.height)},t.uiRepeatImage=function(e){var t=e.propertyes,i=t.ctx.createPattern(t.background,"repeat-x");t.ctx.rect(t.x,t.y,t.width,t.height),t.ctx.fillStyle=i,t.ctx.fill()}},function(e,t,i){"use strict";var n=this&&this.__awaiter||function(e,t,i,n){return new(i||(i=Promise))((function(a,r){function o(e){try{l(n.next(e))}catch(e){r(e)}}function s(e){try{l(n.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(o,s)}l((n=n.apply(e,t||[])).next())}))},a=this&&this.__generator||function(e,t){var i,n,a,r,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(r){return function(s){return function(r){if(i)throw new TypeError("Generator is already executing.");for(;o;)try{if(i=1,n&&(a=2&r[0]?n.return:r[0]?n.throw||((a=n.return)&&a.call(n),0):n.next)&&!(a=a.call(n,r[1])).done)return a;switch(n=0,a&&(r=[2&r[0],a.value]),r[0]){case 0:case 1:a=r;break;case 4:return o.label++,{value:r[1],done:!1};case 5:o.label++,n=r[1],r=[0];continue;case 7:r=o.ops.pop(),o.trys.pop();continue;default:if(!(a=(a=o.trys).length>0&&a[a.length-1])&&(6===r[0]||2===r[0])){o=0;continue}if(3===r[0]&&(!a||r[1]>a[0]&&r[1]<a[3])){o.label=r[1];break}if(6===r[0]&&o.label<a[1]){o.label=a[1],a=r;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(r);break}a[2]&&o.ops.pop(),o.trys.pop();continue}r=t.call(e,o)}catch(e){r=[6,e],n=0}finally{i=a=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,s])}}};Object.defineProperty(t,"__esModule",{value:!0});var r=i(5);t.nextLevelDataReload=function(e){return n(this,void 0,void 0,(function(){function t(e){for(var n=0,a=Object.entries(e);n<a.length;n++){var r=a[n],o=r[0],s=r[1];"object"!=typeof e[o]||null==s||e[o].length||t(e[o]),i.call(this,o,e)}}function i(e,t){for(var i=0,n=Object.entries(l);i<n.length;i++){var a=n[i],r=a[0],o=a[1];r==e&&null!=o&&(this.gameInitData[r]=o)}}var n,o,s,l;return a(this,(function(i){switch(i.label){case 0:return n=e.gameData.currentLevel,[4,r.serverRequest({level:n,shipConfiguration:1})];case 1:return o=i.sent(),l={gameData:{currentLevel:n,currentPoint:(s=this).gameInitData.gameData.currentPoint,playerObject:s.gameInitData.gameData.playerObject,levelData:o.levelData,levelObjects:o.levelObjects,gameSetings:s.gameInitData.gameData.gameSetings,enemyData:o.enemyData,controllers:s.gameInitData.gameData.controllers},enemyType:null,allGameSideObjects:[],allGameEnemies:[],allGameBullets:[],allGameMapOBjects:[],mapBackgroundObjects:[],gamePause:!1,gameUiPause:!1,backScreenPause:!0,gameOver:!1,gemeExtraSeconds:0},setTimeout((function(){s.gameInitData.warpObjects=[],s.gameInitData.timeToEressLevel=6,s.gameInitData.levelChange=!1}),5e3),t.call(this,this.gameInitData),[2]}}))}))}},function(e,t,i){"use strict";var n=this&&this.__rest||function(e,t){var i={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(i[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(i[n[a]]=e[n[a]])}return i};Object.defineProperty(t,"__esModule",{value:!0});var a=i(21),r=i(1),o=i(40),s=function(e){var t=n(e,[]);this.id=(new Date).getTime(),this.x=t.x,this.y=t.y,this.sx=t.sx,this.sy=t.sy,this.sWidth=t.sWidth,this.sHeight=t.sHeight,this.picturesWidth=t.picturesWidth,this.numberOfItems=t.numberOfItems,this.width=t.width,this.height=t.height,this.shipTexture=__dirname+"/public/images/spaceShips/"+t.shipTexture,this.speed=t.speed,this.status=t.status,this.name=t.name,this.bulletTypeNumber=t.bulletTypeNumber,this.rapidFire=t.rapidFire,this.pointsPerUnit=t.pointsPerUnit,this.healthPoint=t.healthPoint,this.animationSteps=t.animationSteps,this.damage=t.damage,this.guns=t.guns,this.detectFrame=0,this.objectPresent=!0,this.objectOwner=t.objectOwner,this.guns=t.guns,this.explosion=t.explosion,this.numberOfVerticalItems=t.numberOfVerticalItems,this.originalHealthPoint=t.healthPoint,this.isMove=t.isMove,this.isShoot=t.isShoot,this.verticalSpeed=t.verticalSpeed?t.verticalSpeed:Math.floor(Math.random()*t.speed+1),this.spotDistance=t.isBoss?t.spotDistance:Math.floor(Math.random()*t.spotDistance),this.yFinal=0,this.xFinal=0,this.behavior=t.behavior,this.direction=null,this.isBoss=t.isBoss};t.EnemyObject=s,s.prototype.placeEnemyes=r.placeEnemyes,s.prototype.moveEnemyes=r.moveEnemyes,s.prototype.loadEnemyes=r.loadEnemyes,s.prototype.shoot=r.shoot,s.prototype.enemyAnimation=r.enemyAnimation,s.prototype.getObjectPosition=o.getObjectPosition,s.prototype.enemyDamageAnimation=r.enemyDamageAnimation,s.prototype.enemyShipLogicVertical=a.enemyShipLogicVertical,s.prototype.enemyVerticalMoveCalculation=a.enemyVerticalMoveCalculation,s.prototype.takeDamage=r.takeDamage},function(e,t,i){"use strict";var n=this&&this.__assign||function(){return(n=Object.assign||function(e){for(var t,i=1,n=arguments.length;i<n;i++)for(var a in t=arguments[i])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.explosionFire=function(e,t,i,a){var r=i.x+i.width/2,o=e.x+e.width/2,s=(Math.max(r,o),Math.min(r,o),i.x,e.x,{x:e.x-e.explosion.width/2,y:e.bulletType?e.y-e.explosion.width/2:e.y,sx:0,sy:0,objectOwner:"explosion",sWidth:e.explosion.imageWidth/e.explosion.numberOfItems,sHeight:e.explosion.imageHeight,width:2*e.explosion.width,height:2*e.explosion.width,animationSteps:e.explosion.animationSteps,target:i.objectOwner,numberOfItems:e.explosion.imageWidth/e.explosion.numberOfItems,texture:e.explosion.texture,speed:i.speed/2,picturesWidth:e.explosion.imageWidth}),l=new a(n({},s));l.img.src=l.texture,l.img.onload=function(){t.gameInitData.allGameSideObjects=t.gameInitData.allGameSideObjects.concat(l)}},t.fireAnimationEnded=function(e){this.detectFrame+=1,this.detectFrame%this.animationSteps==0&&(this.detectFrame=0,this.sx+=this.sWidth,this.sx>=this.picturesWidth&&(this.objectPresent=!1,this.sx=0)),this.sx>=this.picturesWidth&&(this.animationState=!1)},t.mapObjectMove=function(){this.x-=this.speed?this.speed:3},t.mapRanomObjectSpawn=function(e,t,i){this.getSecondMeasure((function(e,t,i){var a=this,r=this.showGameInfo().gameData.levelData;if(this.gameRandomizer(r.objectProbability)<r.objectMinTimeSpawn){var o=this.getScreenSize(),s=e[this.gameRandomizer(e.length)],l="bottom"==s.spawnDetails.position&&"string"==typeof s.spawnDetails.position?o.height-this.gameRandomizer(s.height):"top"==s.spawnDetails.position&&"string"==typeof s.spawnDetails.position?this.gameRandomizer(s.height):"string"==typeof s.spawnDetails.position?this.gameRandomizer(o.height):s.spawnDetails.position,c={x:o.width,y:l,sx:0,sy:0,objectOwner:s.objectOwner,sWidth:s.imageWidth/s.numberOfItems,sHeight:s.imageHeight,width:s.width,height:s.height,animationSteps:s.animationSteps,target:null,numberOfItems:s.numberOfItems,texture:s.skinName,speed:s.speed,picturesWidth:s.imageWidth,healthPoint:s.healthPoint,damage:s.damage,isBackground:s.isBackground,explosion:s.explosionAnimation,pointsPerUnit:s.pointsPerUnit},h=new t(n({},c));h.img.src=h.texture,h.img.onload=function(){a.gameInitData.allGameSideObjects=a.gameInitData.allGameSideObjects.concat(h)}}}),e,t,i)}},function(e,t,i){"use strict";var n=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)Object.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var a=n(i(3)),r=n(i(24));t.initPlayerShip=function(e){var t=this;if(this.ctx){var i=this.data.texture,n=e.showGameInfo().imageDirrection;this.img=new Image,this.img.onload=function(){return t.placePlayerShip&&t.placePlayerShip(),t.img},this.img.src=n+i}},t.movePlayerShip=function(){this.img&&this.ctx&&this.img&&r.createImage(this.ctx,this.img,this.x,this.y,this.width,this.height)},t.shipControl=function(e){var t=this,i=e.gameInitData.gameData.gameSetings.keyControls;document.addEventListener("keydown",(function(n){if(e.gameInitData.gamePause)return!1;i.down.some((function(e){return n.keyCode==e}))&&t.moveShip({xPos:0,yPos:t.data.speed}),i.left.some((function(e){return n.keyCode==e}))&&t.moveShip({xPos:-1*t.data.speed,yPos:0}),i.right.some((function(e){return n.keyCode==e}))&&t.moveShip({xPos:t.data.speed,yPos:0}),i.up.some((function(e){return n.keyCode==e}))&&t.moveShip({xPos:0,yPos:-1*t.data.speed})})),document.addEventListener("mousemove",(function(i){if(e.gameInitData.gamePause)return!1;if("CANVAS"===i.target.tagName&&!e.gameInitData.gamePause&&e.gameInitData.gameStatus){var n=i.clientX-i.target.offsetLeft,a=i.clientY-i.target.offsetTop;t.xFinal=(n%t.data.speed==0?n:t.data.speed*Math.floor(n/t.data.speed))-t.width/2,t.yFinal=(a%t.data.speed==0?a:t.data.speed*Math.floor(a/t.data.speed))-t.height/2}})),document.addEventListener("click",(function(i){if(e.gameInitData.gamePause)return!1;for(var n=function(i){var n=new a.BulletConstruct(t.x,t.y+i.firePosition,i.name,i.color,"player",i.speed+t.xAdj,i.width,i.height,i.damage,i.type,i.texture,i.sx,i.sy,i.sWidth,i.sHeight,i.explosionAnimation);n.img.src=n.texture,n.img.onload=function(){e.gameInitData.allGameBullets=e.gameInitData.allGameBullets.concat(n)}},r=0,o=t.data.guns;r<o.length;r++){n(o[r])}}))},t.setContext=function(e){this.ctx=e},t.placeShip=function(){var e=(this.xFinal-this.x)/this.data.speed,t=(this.yFinal-this.y)/this.data.speed;e=Math.sign(e)>0?e:-1*e,t=Math.sign(t)>0?t:-1*t,e=e>this.data.minSpeed?this.data.minSpeed:e,t=t>this.data.minSpeed?this.data.minSpeed:t,this.xAdj=this.x>this.xFinal?0:e,this.x=this.x>this.xFinal?this.x-e:this.x<this.xFinal?this.x+e:this.xFinal,this.y=this.y>this.yFinal?this.y-t:this.y<this.yFinal?this.y+t:this.yFinal},t.moveShip=function(e){var t=e.xPos,i=void 0===t?0:t,n=e.yPos,a=void 0===n?0:n;this.x+=i,this.y+=a}},function(e,t,i){"use strict";var n=this&&this.__awaiter||function(e,t,i,n){return new(i||(i=Promise))((function(a,r){function o(e){try{l(n.next(e))}catch(e){r(e)}}function s(e){try{l(n.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(o,s)}l((n=n.apply(e,t||[])).next())}))},a=this&&this.__generator||function(e,t){var i,n,a,r,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(r){return function(s){return function(r){if(i)throw new TypeError("Generator is already executing.");for(;o;)try{if(i=1,n&&(a=2&r[0]?n.return:r[0]?n.throw||((a=n.return)&&a.call(n),0):n.next)&&!(a=a.call(n,r[1])).done)return a;switch(n=0,a&&(r=[2&r[0],a.value]),r[0]){case 0:case 1:a=r;break;case 4:return o.label++,{value:r[1],done:!1};case 5:o.label++,n=r[1],r=[0];continue;case 7:r=o.ops.pop(),o.trys.pop();continue;default:if(!(a=(a=o.trys).length>0&&a[a.length-1])&&(6===r[0]||2===r[0])){o=0;continue}if(3===r[0]&&(!a||r[1]>a[0]&&r[1]<a[3])){o.label=r[1];break}if(6===r[0]&&o.label<a[1]){o.label=a[1],a=r;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(r);break}a[2]&&o.ops.pop(),o.trys.pop();continue}r=t.call(e,o)}catch(e){r=[6,e],n=0}finally{i=a=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,s])}}},r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)Object.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0}),i(12);i(16);var o=r(i(18)),s=r(i(3)),l=i(0);!function(){n(this,void 0,void 0,(function(){function e(){return n(this,void 0,void 0,(function(){var e,t,n,o,c,h,u,m,d,g,p,f;return a(this,(function(a){if(i.gameInitData.ctxUIField&&l.clearField(i.gameInitData.ctxUIField,i.gameInitData.screen.width,i.gameInitData.screen.height),i.gameInitData.ctxActionField&&!i.gameInitData.gamePause&&l.clearField(i.gameInitData.ctxActionField,i.gameInitData.screen.width,i.gameInitData.screen.height),i.gameInitData.backScreenPause&&i.levelInit(s.GameBackground,i.gameInitData.ctx,i),!i.gameInitData.gamePause&&i.gameInitData.gameStatus&&i.gameInitData.gameStatus){if(i.gameInitData.levelChange||i.spawnEnemyLogic(s.EnemyObject),i.gameInitData.allGameBullets.length>0)for(e=0,t=i.gameInitData.allGameBullets;e<t.length;e++)(n=t[e]).moveBullets(r,i),n.createBullets(i),i.deleteBullet(n),i.hitDetection(n,i.gameInitData.allGameEnemies,i),i.hitDetection(r,[n],i),i.hitDetection(n,i.gameInitData.allGameSideObjects,i);if(i.gameInitData.allGameEnemies.length>0)for(o=0,c=i.gameInitData.allGameEnemies;o<c.length;o++)(h=c[o]).placeEnemyes(i),h.moveEnemyes(),h.enemyShipLogicVertical({x:r.x,y:r.y},i),h.enemyAnimation(!0),h.shoot(s.BulletConstruct,i),i.deleteObjects(h),i.hitDetection(r,[h],i);if(i.gameInitData.gameOver||(r.placeShip(),r.movePlayerShip()),i.gameInitData.allGameSideObjects.length>0)for(u=0,m=i.gameInitData.allGameSideObjects;u<m.length;u++)(d=m[u]).placeEnemyes(i),"explosion"==d.objectOwner?d.fireAnimationEnded(i.gameInitData.allGameSideObjects):("enemy"!=d.objectOwner&&"collide"!=d.objectOwner||i.hitDetection(r,[d],i),d.enemyAnimation()),d.mapObjectMove(),i.delateSideObject(d);i.gameInitData.gameData.levelObjects&&i.mapRanomObjectSpawn(i.gameInitData.gameData.levelObjects,s.SideObject,i.gameInitData.allGameSideObjects),i.gameSecondsIncrease(),i.levelTimer()}if(!(i.gameInitData.backScreenPause&&i.gameInitData.gamePause&&i.gameInitData.gameStatus||i.gameInitData.gamePause&&i.gameInitData.gameStatus)){for(i.gameInitData.ctx&&l.clearField(i.gameInitData.ctx,i.gameInitData.screen.width,i.gameInitData.screen.height),g=0,p=i.gameInitData.mapBackgroundObjects;g<p.length;g++)(f=p[g]).updateMap(),f.changePartOfTexture(i,i.gameInitData.mapBackgroundObjects);i.gameInitData.levelChange&&i.warpEffect()}return i.gameInitData.gameStatus||i.showStartWindow(),i.gameInitData.gameStatus&&i.showGameStats(),i.gameInitData.gamePause&&i.showPauseWindow(),i.gameInitData.gameUiPause&&(i.showMenuWindow(),i.showPauseWindow()),i.gameInitData.gameOver&&i.gameOverWindow(),[2]}))}))}var t,i,r,c;return a(this,(function(n){switch(n.label){case 0:return[4,o.gameDataInit(s.PlayerShip)];case 1:return t=n.sent(),[4,new s.Game(t.data)];case 2:return i=n.sent(),r=i.gameInitData.gameData.playerObject,setInterval(e,i.gameInitData.intervalCount),i.uiController(),i.setGameFields(),i.getScreenSize(),c=i.returnContext(),r.ctx=c.gameActionField,r.initPlayerShip(i),r.shipControl(i),[2]}}))}))}()},function(e,t,i){var n=i(13),a=i(14);"string"==typeof(a=a.__esModule?a.default:a)&&(a=[[e.i,a,""]]);var r={insert:"head",singleton:!1},o=(n(a,r),a.locals?a.locals:{});e.exports=o},function(e,t,i){"use strict";var n,a=function(){return void 0===n&&(n=Boolean(window&&document&&document.all&&!window.atob)),n},r=function(){var e={};return function(t){if(void 0===e[t]){var i=document.querySelector(t);if(window.HTMLIFrameElement&&i instanceof window.HTMLIFrameElement)try{i=i.contentDocument.head}catch(e){i=null}e[t]=i}return e[t]}}(),o=[];function s(e){for(var t=-1,i=0;i<o.length;i++)if(o[i].identifier===e){t=i;break}return t}function l(e,t){for(var i={},n=[],a=0;a<e.length;a++){var r=e[a],l=t.base?r[0]+t.base:r[0],c=i[l]||0,h="".concat(l," ").concat(c);i[l]=c+1;var u=s(h),m={css:r[1],media:r[2],sourceMap:r[3]};-1!==u?(o[u].references++,o[u].updater(m)):o.push({identifier:h,updater:f(m,t),references:1}),n.push(h)}return n}function c(e){var t=document.createElement("style"),n=e.attributes||{};if(void 0===n.nonce){var a=i.nc;a&&(n.nonce=a)}if(Object.keys(n).forEach((function(e){t.setAttribute(e,n[e])})),"function"==typeof e.insert)e.insert(t);else{var o=r(e.insert||"head");if(!o)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");o.appendChild(t)}return t}var h,u=(h=[],function(e,t){return h[e]=t,h.filter(Boolean).join("\n")});function m(e,t,i,n){var a=i?"":n.media?"@media ".concat(n.media," {").concat(n.css,"}"):n.css;if(e.styleSheet)e.styleSheet.cssText=u(t,a);else{var r=document.createTextNode(a),o=e.childNodes;o[t]&&e.removeChild(o[t]),o.length?e.insertBefore(r,o[t]):e.appendChild(r)}}function d(e,t,i){var n=i.css,a=i.media,r=i.sourceMap;if(a?e.setAttribute("media",a):e.removeAttribute("media"),r&&btoa&&(n+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(r))))," */")),e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}var g=null,p=0;function f(e,t){var i,n,a;if(t.singleton){var r=p++;i=g||(g=c(t)),n=m.bind(null,i,r,!1),a=m.bind(null,i,r,!0)}else i=c(t),n=d.bind(null,i,t),a=function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(i)};return n(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;n(e=t)}else a()}}e.exports=function(e,t){(t=t||{}).singleton||"boolean"==typeof t.singleton||(t.singleton=a());var i=l(e=e||[],t);return function(e){if(e=e||[],"[object Array]"===Object.prototype.toString.call(e)){for(var n=0;n<i.length;n++){var a=s(i[n]);o[a].references--}for(var r=l(e,t),c=0;c<i.length;c++){var h=s(i[c]);0===o[h].references&&(o[h].updater(),o.splice(h,1))}i=r}}}},function(e,t,i){(t=i(15)(!1)).push([e.i,"body{font-family:'Roboto';color:orange;background:#333;margin:0;padding:0}canvas{cursor:crosshair}.gameBackground{background:#000}.game-fields{position:absolute}.game-field-wrapper{display:flex;justify-content:center;height:100vh;align-items:center}\n",""]),e.exports=t},function(e,t,i){"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var i=function(e,t){var i=e[1]||"",n=e[3];if(!n)return i;if(t&&"function"==typeof btoa){var a=(o=n,s=btoa(unescape(encodeURIComponent(JSON.stringify(o)))),l="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(s),"/*# ".concat(l," */")),r=n.sources.map((function(e){return"/*# sourceURL=".concat(n.sourceRoot||"").concat(e," */")}));return[i].concat(r).concat([a]).join("\n")}var o,s,l;return[i].join("\n")}(t,e);return t[2]?"@media ".concat(t[2]," {").concat(i,"}"):i})).join("")},t.i=function(e,i,n){"string"==typeof e&&(e=[[null,e,""]]);var a={};if(n)for(var r=0;r<this.length;r++){var o=this[r][0];null!=o&&(a[o]=!0)}for(var s=0;s<e.length;s++){var l=[].concat(e[s]);n&&a[l[0]]||(i&&(l[2]?l[2]="".concat(i," and ").concat(l[2]):l[2]=i),t.push(l))}},t}},function(e,t,i){(function(e){function i(e,t){for(var i=0,n=e.length-1;n>=0;n--){var a=e[n];"."===a?e.splice(n,1):".."===a?(e.splice(n,1),i++):i&&(e.splice(n,1),i--)}if(t)for(;i--;i)e.unshift("..");return e}function n(e,t){if(e.filter)return e.filter(t);for(var i=[],n=0;n<e.length;n++)t(e[n],n,e)&&i.push(e[n]);return i}t.resolve=function(){for(var t="",a=!1,r=arguments.length-1;r>=-1&&!a;r--){var o=r>=0?arguments[r]:e.cwd();if("string"!=typeof o)throw new TypeError("Arguments to path.resolve must be strings");o&&(t=o+"/"+t,a="/"===o.charAt(0))}return(a?"/":"")+(t=i(n(t.split("/"),(function(e){return!!e})),!a).join("/"))||"."},t.normalize=function(e){var r=t.isAbsolute(e),o="/"===a(e,-1);return(e=i(n(e.split("/"),(function(e){return!!e})),!r).join("/"))||r||(e="."),e&&o&&(e+="/"),(r?"/":"")+e},t.isAbsolute=function(e){return"/"===e.charAt(0)},t.join=function(){var e=Array.prototype.slice.call(arguments,0);return t.normalize(n(e,(function(e,t){if("string"!=typeof e)throw new TypeError("Arguments to path.join must be strings");return e})).join("/"))},t.relative=function(e,i){function n(e){for(var t=0;t<e.length&&""===e[t];t++);for(var i=e.length-1;i>=0&&""===e[i];i--);return t>i?[]:e.slice(t,i-t+1)}e=t.resolve(e).substr(1),i=t.resolve(i).substr(1);for(var a=n(e.split("/")),r=n(i.split("/")),o=Math.min(a.length,r.length),s=o,l=0;l<o;l++)if(a[l]!==r[l]){s=l;break}var c=[];for(l=s;l<a.length;l++)c.push("..");return(c=c.concat(r.slice(s))).join("/")},t.sep="/",t.delimiter=":",t.dirname=function(e){if("string"!=typeof e&&(e+=""),0===e.length)return".";for(var t=e.charCodeAt(0),i=47===t,n=-1,a=!0,r=e.length-1;r>=1;--r)if(47===(t=e.charCodeAt(r))){if(!a){n=r;break}}else a=!1;return-1===n?i?"/":".":i&&1===n?"/":e.slice(0,n)},t.basename=function(e,t){var i=function(e){"string"!=typeof e&&(e+="");var t,i=0,n=-1,a=!0;for(t=e.length-1;t>=0;--t)if(47===e.charCodeAt(t)){if(!a){i=t+1;break}}else-1===n&&(a=!1,n=t+1);return-1===n?"":e.slice(i,n)}(e);return t&&i.substr(-1*t.length)===t&&(i=i.substr(0,i.length-t.length)),i},t.extname=function(e){"string"!=typeof e&&(e+="");for(var t=-1,i=0,n=-1,a=!0,r=0,o=e.length-1;o>=0;--o){var s=e.charCodeAt(o);if(47!==s)-1===n&&(a=!1,n=o+1),46===s?-1===t?t=o:1!==r&&(r=1):-1!==t&&(r=-1);else if(!a){i=o+1;break}}return-1===t||-1===n||0===r||1===r&&t===n-1&&t===i+1?"":e.slice(t,n)};var a="b"==="ab".substr(-1)?function(e,t,i){return e.substr(t,i)}:function(e,t,i){return t<0&&(t=e.length+t),e.substr(t,i)}}).call(this,i(17))},function(e,t){var i,n,a=e.exports={};function r(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function s(e){if(i===setTimeout)return setTimeout(e,0);if((i===r||!i)&&setTimeout)return i=setTimeout,setTimeout(e,0);try{return i(e,0)}catch(t){try{return i.call(null,e,0)}catch(t){return i.call(this,e,0)}}}!function(){try{i="function"==typeof setTimeout?setTimeout:r}catch(e){i=r}try{n="function"==typeof clearTimeout?clearTimeout:o}catch(e){n=o}}();var l,c=[],h=!1,u=-1;function m(){h&&l&&(h=!1,l.length?c=l.concat(c):u=-1,c.length&&d())}function d(){if(!h){var e=s(m);h=!0;for(var t=c.length;t;){for(l=c,c=[];++u<t;)l&&l[u].run();u=-1,t=c.length}l=null,h=!1,function(e){if(n===clearTimeout)return clearTimeout(e);if((n===o||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(e);try{n(e)}catch(t){try{return n.call(null,e)}catch(t){return n.call(this,e)}}}(e)}}function g(e,t){this.fun=e,this.array=t}function p(){}a.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var i=1;i<arguments.length;i++)t[i-1]=arguments[i];c.push(new g(e,t)),1!==c.length||h||s(d)},g.prototype.run=function(){this.fun.apply(null,this.array)},a.title="browser",a.browser=!0,a.env={},a.argv=[],a.version="",a.versions={},a.on=p,a.addListener=p,a.once=p,a.off=p,a.removeListener=p,a.removeAllListeners=p,a.emit=p,a.prependListener=p,a.prependOnceListener=p,a.listeners=function(e){return[]},a.binding=function(e){throw new Error("process.binding is not supported")},a.cwd=function(){return"/"},a.chdir=function(e){throw new Error("process.chdir is not supported")},a.umask=function(){return 0}},function(e,t,i){"use strict";function n(e){for(var i in e)t.hasOwnProperty(i)||(t[i]=e[i])}Object.defineProperty(t,"__esModule",{value:!0}),n(i(5)),n(i(7))},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getData=function(e){var t=e.url,i=e.method,n=e.data,a=e.headers,r=Object.assign({"Content-Type":"application/json"},a||!1);return fetch(t,{method:i,mode:"cors",headers:r,body:n?JSON.stringify(n):null}).then((function(e){return e.json()})).then((function(e){return e}))}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(21),a=i(1),r=i(7),o=i(2),s=i(10),l=i(27),c=i(5),h=i(9),u=function(){function e(e){this.gameInitData=e}return e.prototype.changeLevel=function(e){return this.gameInitData.gameData.currentLevel=e,this.gameInitData.gameData.currentLevel},e.prototype.showGameInfo=function(){return{levelToChange:this.gameInitData.gameData.currentLevel,currentPoint:this.gameInitData.gameData.currentPoint,gameData:this.gameInitData.gameData,imageDirrection:__dirname+"/public/images/"}},e.prototype.showLevelData=function(){return this.gameInitData.gameData.levelData},e.prototype.returnContext=function(){return this.gameInitData.gameField&&this.gameInitData.gameActionField&&this.gameInitData.gameUIField?{gameField:this.gameInitData.gameField,gameActionField:this.gameInitData.ctxActionField,gameUIField:this.gameInitData.gameUIField}:null},e}();t.Game=u,u.prototype.createContext=o.createContext,u.prototype.initField=o.initField,u.prototype.levelInit=o.levelInit,u.prototype.setGameFields=o.setGameFields,u.prototype.warpEffect=o.warpEffect,u.prototype.getScreenSize=o.getScreenSize,u.prototype.getLevelUserData=o.getLevelUserData,u.prototype.levelTimer=o.levelTimer,u.prototype.getSecondMeasure=o.getSecondMeasure,u.prototype.gameSecondsIncrease=o.gameSecondsIncrease,u.prototype.initPlayerShip=s.initPlayerShip,u.prototype.deleteBullet=o.deleteBullet,u.prototype.deleteObjects=o.deleteObjects,u.prototype.delateSideObject=o.delateSideObject,u.prototype.hitDetection=a.hitDetection,u.prototype.collectPoints=o.collectPoints,u.prototype.spawnEnemyLogic=n.spawnEnemyLogic,u.prototype.createNewEnemy=n.createNewEnemy,u.prototype.gameRandomizer=n.gameRandomizer,u.prototype.uiController=l.uiController,u.prototype.gameUiPause=l.gameUiPause,u.prototype.gameUiMenu=l.gameUiMenu,u.prototype.showMenuWindow=l.showMenuWindow,u.prototype.showUiPopupWindow=l.showUiPopupWindow,u.prototype.showStartWindow=l.showStartWindow,u.prototype.showPauseWindow=l.showPauseWindow,u.prototype.gameOverWindow=l.gameOverWindow,u.prototype.showGameStats=l.showGameStats,u.prototype.initUiElements=l.initUiElements,u.prototype.gameStart=c.gameStart,u.prototype.backToStartScreen=c.backToStartScreen,u.prototype.nextLevelDataReload=r.nextLevelDataReload,u.prototype.changeLevelProcedure=o.changeLevelProcedure,u.prototype.getRandomColor=o.getRandomColor,u.prototype.mapRanomObjectSpawn=h.mapRanomObjectSpawn},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.enemyShipLogicVertical=function(e,t){var i=Math.max(e.x,this.x),n=Math.min(e.x,this.x),a=Math.max(e.y-this.height/2,this.y),r=Math.min(e.y-this.height/2,this.y),o=i-n,s=a-r;if(this.isMove&&this.behavior)switch(this.behavior){case"patrool":if(!this.direction){var l=t.gameRandomizer(2,1);this.direction=1==l?"up":"down"}(function(e){var t=e.getScreenSize(),i=Math.max(this.y,this.yFinal)-Math.min(this.y,this.yFinal);switch(this.direction){case"up":this.yFinal=0,this.y-this.height<this.yFinal&&(this.direction="down");break;case"down":this.yFinal=t.height,this.y+this.height>this.yFinal&&(this.direction="up");break;default:this.yFinal=t.height/2}this.enemyVerticalMoveCalculation(i)}).call(this,t);break;case"find":c.call(this);break;case"attack":(function(e,t,i){this.yFinal=i.y-this.height/2,t<100&&this.enemyVerticalMoveCalculation(e)}).call(this,s,o,e);break;case"comeEndFind":c.call(this),function(){var e=t.getScreenSize();this.x<e.width-2*this.width&&(this.speed=0)}.call(this);break;default:c.call(this)}function c(){if(this.spotDistance>o||this.spotDistance>s)return this.yFinal=e.y-this.height/2,this.enemyVerticalMoveCalculation(s),!0}},t.enemyVerticalMoveCalculation=function(e){var t=e/this.verticalSpeed;t=(t=Math.sign(t)>0?t:-1*t)>this.verticalSpeed?this.verticalSpeed:t,this.y=this.y>this.yFinal?this.y-t:this.y<this.yFinal?this.y+t:this.yFinal},t.spawnEnemyLogic=function(e){var t=this.gameInitData.gameData,i=t.levelData,n=t.enemyData,a=this.getLevelUserData(),r=a.sourse.levelData.bosPresents?a.sourse.levelData.bosPresents:null;if(this.gameInitData.gameData.levelChange||r){if(0==this.gameInitData.allGameEnemies.length){var o=this.createNewEnemy(n[0],e);o.loadEnemyes(),this.gameInitData.allGameEnemies=this.gameInitData.allGameEnemies.concat(o)}}else(function(){if(this.gameRandomizer(i.enemyProbability)<=i.enemyRandomizerIndex)for(var t=this.gameRandomizer(i.enemyMaxNumber);t<i.enemyMaxNumber;t++){var a=n[this.gameRandomizer(n.length)],r=this.createNewEnemy(a,e);r.loadEnemyes(),this.gameInitData.allGameEnemies=this.gameInitData.allGameEnemies.concat(r)}}).call(this)},t.createNewEnemy=function(e,t){var i=this.gameInitData.screen.width+300,n=this.gameRandomizer(this.gameInitData.screen.height-200,100);if(e.details){var a=e.details,r=a.behavior?a.behavior[this.gameRandomizer(a.behavior.length)]:null;return new t({x:i,y:n,sx:a.sx,sy:a.sy,sWidth:a.imageWidth/a.numberOfItems,sHeight:a.imageHeight,picturesWidth:a.imageWidth,numberOfItems:a.numberOfItems,width:a.width,height:a.height,shipTexture:a.skinName,speed:a.speed,status:a.status,name:a.name,bulletTypeNumber:a.bulletType,rapidFire:a.rapidFire,pointsPerUnit:a.pointsPerUnit,healthPoint:a.healthPoint,animationSteps:a.animationSteps,damage:a.damage,objectOwner:a.objectOwner,guns:a.guns?a.guns:[],explosion:a.explosionAnimation,numberOfVerticalItems:a.numberOfVerticalItems,isMove:a.isMove,isShoot:a.isShoot,spotDistance:a.spotDistance,behavior:r,verticalSpeed:a.verticalSpeed?a.verticalSpeed:null,isBoss:!!a.isBoss&&a.isBoss})}},t.gameRandomizer=function(e,t){return void 0===t&&(t=0),Math.floor(Math.random()*e+t)}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createWindow=function(e,t){var i=this.getScreenSize();i.width,i.height,e.fillRect(t.x,t.y,t.width,t.height)},t.createShapeRoundBorder=function(e){var t=e.propertyes;t.ctx.fillStyle=t.background,t.ctx.beginPath(),t.ctx.moveTo(t.x+t.radius,t.y),t.ctx.lineTo(t.x+t.width-t.radius,t.y),t.ctx.quadraticCurveTo(t.x+t.width,t.y,t.x+t.width,t.y+t.radius),t.ctx.lineTo(t.x+t.width,t.y+t.height-t.radius),t.ctx.quadraticCurveTo(t.x+t.width,t.y+t.height,t.x+t.width-t.radius,t.y+t.height),t.ctx.lineTo(t.x+t.radius,t.y+t.height),t.ctx.quadraticCurveTo(t.x,t.y+t.height,t.x,t.y+t.height-t.radius),t.ctx.lineTo(t.x,t.y+t.radius),t.ctx.quadraticCurveTo(t.x,t.y,t.x+t.radius,t.y),t.ctx.closePath(),t.ctx.fill()},t.createRoundButton=function(e){var t=e.propertyes,i=t.ctx.measureText(e.text).width/3.2,n=t.textProperty.leftPadding+i+t.textProperty.rightPadding;t.ctx.fillStyle=t.background,t.ctx.beginPath(),t.ctx.moveTo(t.x+t.radius,t.y),t.ctx.lineTo(t.x+n-t.radius,t.y),t.ctx.quadraticCurveTo(t.x+n,t.y,t.x+n,t.y+t.radius),t.ctx.lineTo(t.x+n,t.y+t.height-t.radius),t.ctx.quadraticCurveTo(t.x+n,t.y+t.height,t.x+n-t.radius,t.y+t.height),t.ctx.lineTo(t.x+t.radius,t.y+t.height),t.ctx.quadraticCurveTo(t.x,t.y+t.height,t.x,t.y+t.height-t.radius),t.ctx.lineTo(t.x,t.y+t.radius),t.ctx.quadraticCurveTo(t.x,t.y,t.x+t.radius,t.y),t.ctx.closePath(),t.ctx.fill(),t.ctx.font=e.fontSize,t.ctx.fillStyle=t.textProperty.textColor,t.ctx.fillText(e.text,t.x+t.textProperty.leftPadding,t.y+t.height/2+t.textProperty.topPadding)}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.weapon1=function(e,t){t(e.ctx,"drawImage",e.img,e.sx,e.sy,e.sWidth,e.sHeight,e.x,e.y,e.width+10,e.height+10)},t.weapon1backward=function(e,t){t(e.ctx,"drawImage",e.img,0,0,e.width,e.height,e.x,e.y,e.width+10,e.height+10)}},function(e,t,i){"use strict";function n(e){for(var i in e)t.hasOwnProperty(i)||(t[i]=e[i])}Object.defineProperty(t,"__esModule",{value:!0}),n(i(0)),n(i(6)),n(i(25))},function(e,t,i){"use strict";function n(e){for(var i in e)t.hasOwnProperty(i)||(t[i]=e[i])}Object.defineProperty(t,"__esModule",{value:!0}),n(i(6)),n(i(26))},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.warpElement=function(){var e=null.createLinearGradient(0,0,170,0);e.addColorStop("0","magenta"),e.addColorStop("0.5","blue"),e.addColorStop("1.0","red")}},function(e,t,i){"use strict";var n=this&&this.__spreadArrays||function(){for(var e=0,t=0,i=arguments.length;t<i;t++)e+=arguments[t].length;var n=Array(e),a=0;for(t=0;t<i;t++)for(var r=arguments[t],o=0,s=r.length;o<s;o++,a++)n[a]=r[o];return n};Object.defineProperty(t,"__esModule",{value:!0});var a=i(0),r=i(28),o=i(29),s=i(30),l=i(31),c=i(39),h=i(6),u=i(1);t.gameUiPause=function(){!this.gameInitData.gameUiPause&&this.gameInitData.gameStatus&&(this.gameInitData.gamePause=!this.gameInitData.gamePause)},t.gameUiMenu=function(e){this.gameInitData.gameUiPause=!this.gameInitData.gameUiPause,this.gameInitData.gamePause=!e},t.uiController=function(){var e=this,t=this.gameInitData.gameData.gameSetings.keyControls,i=this;document.addEventListener("keydown",(function(n){t.escape.some((function(e){return n.keyCode==e}))&&i.gameUiMenu(e.gameInitData.gameUiPause),t.pause.some((function(e){return n.keyCode==e}))&&i.gameUiPause()})),document.addEventListener("click",(function(t){if("CANVAS"===t.target.tagName){var i=t.clientX-t.target.offsetLeft,n=t.clientY-t.target.offsetTop,a=null,s=e.gameInitData.ctxUIField,l=e.getScreenSize();for(var c in e.gameInitData.gameStatus||(a=r.gameLoadMenu(null,s,l.width,l.height,null)),e.gameInitData.gameUiPause&&(a=o.gameSettingsMenu(null,s,l.width,l.height)),a){if(u.hitDetection(a[c],[].concat({x:i,y:n,width:10,height:10,name:"cursor"}),e)&&a[c].action){a[c].action.call(e);break}}}}))},t.showUiPopupWindow=function(){a.createWindow.call(this)},t.showStartWindow=function(){var e=[a.createRoundButton,h.uiImage,h.uiText,h.uiText];this.initUiElements(e,r.gameLoadMenu)},t.showMenuWindow=function(){var e=[a.createShapeRoundBorder,a.createRoundButton,h.uiText];this.initUiElements(e,o.gameSettingsMenu)},t.showPauseWindow=function(){var e=[h.uiText];this.initUiElements(e,s.gamePause)},t.showGameStats=function(){var e=this.getLevelUserData(),t=[h.uiImage,h.uiText,h.uiText,h.uiText];this.initUiElements(t,l.gameInformationScreen,e)},t.gameOverWindow=function(){var e=[h.uiText,h.uiText,h.uiText];this.initUiElements(e,c.gameOverScreen)},t.initUiElements=function(e,t){for(var i=[],a=2;a<arguments.length;a++)i[a-2]=arguments[a];for(var r=this.gameInitData.ctxUIField,o=this.getScreenSize(),s=this.showGameInfo().imageDirrection,l=t.apply(void 0,n([null,r,o.width,o.height,s],i)),c=0;c<l.length;c++)l[c].hasOwnProperty("loadPicture")&&l[c].loadPicture(),l[c].init(e[c])}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(4);t.gameLoadMenu=function(e,t,i,a,r){return e||[{name:"Start button",text:"Press Start to begin",description:"Main start game button in the main load screen",fontSize:"30px Arial",clicked:!1,propertyes:{ctx:t,width:400,height:90,x:i/2-165,y:a/2+150,background:"rgba(255, 255, 255, 1)",borderColor:"rgba(255, 255, 255, 1)",textProperty:{textColor:"#007BD1",topPadding:10,rightPadding:40,bottomPadding:10,leftPadding:40},radius:45},action:function(){this.gameStart()},init:n.init,getObjectPosition:n.getUIObjectPosition},{name:"Logotype",text:"",description:"Game logotype",clicked:!1,propertyes:{ctx:t,width:150,height:150,sWidth:1024,sHeight:1024,x:i/2-75,y:90,background:new Image,borderColor:!1,radius:null},loadPicture:function(){this.propertyes.background.src=r+"misc/logo-1024x1024.png"},init:n.init,getObjectPosition:n.getUIObjectPosition},{name:"Game name",text:"Space",description:"Game part the name",clicked:!1,fontSize:"bold 100px Roboto",propertyes:{ctx:t,width:-290,height:0,x:i/2,y:370,background:!1,borderColor:"rgba(255, 255, 255, 1)",radius:null},init:n.init,getObjectPosition:n.getUIObjectPosition},{name:"Game name",text:"Attack",description:"Game part the name",clicked:!1,fontSize:"lighter 100px Roboto",propertyes:{ctx:t,width:0,height:0,x:i/2,y:370,background:!1,borderColor:"rgba(255, 255, 255, 1)",radius:null},init:n.init,getObjectPosition:n.getUIObjectPosition}]}},function(e,t,i){"use strict";var n=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)Object.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var a=i(4),r=n(i(3));t.gameSettingsMenu=function(e,t,i,n){return e||[{name:"menu background",text:"",description:"back part of menu ",fontSize:"30px Arial",clicked:!1,propertyes:{ctx:t,width:i,height:n/2,x:0,y:n/4,background:"rgba(38, 38, 86, 1)",borderColor:"rgba(255, 255, 255, 1)",radius:5},init:a.init,getObjectPosition:a.getUIObjectPosition},{name:"Button end game",text:"go to start",description:"back to start screen",fontSize:"25px Roboto",clicked:!1,propertyes:{ctx:t,width:200,height:50,x:i/2-150,y:n/2+50,background:"rgba(255, 255, 255, 1)",borderColor:"rgba(255, 255, 255, 1)",textProperty:{textColor:"#007BD1",topPadding:7,rightPadding:50,bottomPadding:10,leftPadding:20},radius:15},action:function(){this.backToStartScreen.call(this,r.PlayerShip)},init:a.init,getObjectPosition:a.getUIObjectPosition},{name:"Main game menu name",text:"Menu",description:"Text in main top",fontSize:"25px Roboto",clicked:!1,propertyes:{ctx:t,width:-45,height:0,x:i/2,y:n/3,background:!1,borderColor:"rgba(255, 255, 255, 1)",radius:null},init:a.init,getObjectPosition:a.getUIObjectPosition}]}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(4);t.gamePause=function(e,t,i,a,r){return e||[{name:"Pause text",text:"Pause",description:"part of pause window",fontSize:"60px Arial",clicked:!1,propertyes:{ctx:t,width:400,height:90,x:i/2-150,y:a/2+50,background:"rgba(255, 255, 255, 1)",borderColor:"rgba(255, 255, 255, 1)",radius:45},init:n.init,getObjectPosition:n.getUIObjectPosition}]}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(4);t.gameInformationScreen=function(e,t,i,a,r,o){return[{name:"lifePoint",text:"",number:o.life,step:[o.life].map((function(e){return 50*e})),description:"Game logotype",clicked:!1,propertyes:{ctx:t,width:70,height:70,sWidth:500,sHeight:500,x:10,y:20,background:new Image,borderColor:!1,radius:null},loadPicture:function(){this.propertyes.background.src=r+"misc/ruby.png"},init:function(e,t){t=t||this;for(var i=Array(o.life).fill(0).map((function(e,t){return 30*t})),n=0;n<this.number;n++)this.propertyes.x=0==n?30:0+i[n]+(0!=n?30:0),e(t)},getObjectPosition:n.getUIObjectPosition},{name:"level",text:"Current Level "+o.currentLevel+"/"+o.allLevels+" ",description:"Game part the name",clicked:!1,fontSize:"bold 16px Roboto",propertyes:{ctx:t,width:0,height:0,x:30,y:70,background:!1,borderColor:"rgba(255, 255, 255, 1)",radius:null},init:n.init,getObjectPosition:n.getUIObjectPosition},{name:"Time to end f level",text:o.minutes||o.seconds?"Time to level end "+(o.minutes-10>=0?"":0)+o.minutes+":"+(o.seconds-10>=0?"":0)+o.seconds:"Boss level",description:"Game part the name",clicked:!1,fontSize:"light 16px Roboto",propertyes:{ctx:t,width:50,height:0,x:i-300,y:30,background:!1,borderColor:"rgba(255, 255, 255, 1)",radius:null},init:n.init,getObjectPosition:n.getUIObjectPosition},{name:"Game points",text:o.points,description:"Game part the name",clicked:!1,fontSize:"light 18px Roboto",propertyes:{ctx:t,width:-50,height:0,x:i/2,y:50,background:!1,borderColor:"rgba(255, 255, 255, 1)",radius:null},init:n.init,getObjectPosition:n.getUIObjectPosition}]}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(2),a=i(33),r=function(e,t,i,n,a,r,o,s){this.x=0,this.y=0,this.backgroundTexture=e,this.backgroundSpeed=t,this.screenData=i,this.ctx=n,this.x=a?0:i.width,this.y=0,this.img=new Image,this.extraMap=r,this.timeToEressLevel=4,this.warpObjects=[],this.timeToExtraMapSeconds=o,this.timeToExtraMapMinutes=s};t.GameBackground=r,r.prototype.updateMap=a.updateMap,r.prototype.warpEffect=n.warpEffect,r.prototype.changePartOfTexture=a.changePartOfTexture},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(0);t.updateMap=function(){this.x-=this.backgroundSpeed,Math.sign(this.backgroundSpeed)>0&&this.x+this.screenData.width<0?this.x=this.screenData.width:Math.sign(this.backgroundSpeed)<0&&this.x>this.screenData.width&&(this.x=0-this.screenData.width),n.createImage(this.ctx,this.img,this.x,0,this.screenData.width+2,this.screenData.height)},t.changePartOfTexture=function(e,t){var i=e.getLevelUserData(),n=e.getScreenSize();if(i.minutes<=this.timeToExtraMapMinutes&&i.seconds<=this.timeToExtraMapSeconds&&this.extraMap&&this.x>=n.width-200){var a=e.showGameInfo();this.img.src=a.imageDirrection+this.extraMap}}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(10),a=i(2),r=i(1),o=function(e,t,i,n,a,r,o,s,l){void 0===a&&(a=100),void 0===r&&(r=100),this.data=e,this.points=t,this.numberOflife=n,this.healthPoint=i+e.armor,this.maxHealth=i+e.armor,this.x=a-o/2,this.y=r-s/2,this.xFinal=a,this.yFinal=r,this.collisionAllow=!0,this.objectOwner="player",this.width=o,this.height=s,this.xAdj=0,this.speed=e.speed,this.explosion=e.explosion,this.damage=l};t.PlayerShip=o,o.prototype.initPlayerShip=n.initPlayerShip,o.prototype.movePlayerShip=n.movePlayerShip,o.prototype.shipControl=n.shipControl,o.prototype.moveShip=n.moveShip,o.prototype.placeShip=n.placeShip,o.prototype.setContext=n.setContext,o.prototype.getObjectPosition=a.getObjectPosition,o.prototype.takeDamage=r.takeDamage},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(36),a=i(2),r=i(1),o=function(e,t,i,n,a,r,o,s,l,c,h,u,m,d,g,p){this.x=e,this.y=t,this.bulletType=i,this.bulletTexture=n,this.objectOwner=a,this.bulletSpeed=r,this.width=o,this.height=s,this.damage=l,this.id=(new Date).getTime(),this.objectPresent=!0,this.type=c,this.img=new Image,this.texture=__dirname+"/public/images/"+h,this.sx=u,this.sy=m,this.sWidth=d,this.sHeight=g,this.explosion=p};t.BulletConstruct=o,o.prototype.createBullets=n.createBullets,o.prototype.initBullets=n.initBullets,o.prototype.moveBullets=n.moveBullets,o.prototype.getObjectPosition=a.getObjectPosition,o.prototype.takeDamage=r.takeDamage},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(0);t.createBullets=function(e){n.createLaserBullet({source:this,objectOwner:this.objectOwner,ctx:e.gameInitData.ctxActionField,x:this.x,y:this.y,color:this.bulletTexture,width:this.width,height:this.height,radius:5,type:this.type,img:this.img,sx:this.sx,sy:this.sy,sWidth:this.sWidth,sHeight:this.sHeight})},t.initBullets=function(){},t.moveBullets=function(e,t){switch(this.type){case"blaster":i.call(this);break;case"beam":(function(){t.getScreenSize();this.x>0?this.width+=this.bulletSpeed:this.width>0&&(this.x=0,this.width-=this.bulletSpeed)}).call(this),i.call(this);break;default:i.call(this)}function i(){"player"==this.objectOwner?this.x+=this.bulletSpeed:this.x-=this.bulletSpeed}}},function(e,t,i){"use strict";var n=this&&this.__rest||function(e,t){var i={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(i[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(i[n[a]]=e[n[a]])}return i},a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)Object.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var r=a(i(38)),o=i(9),s=i(1),l=function(e){var t=n(e,[]);this.x=t.x,this.y=t.y,this.sx=t.sx,this.sy=t.sy,this.sWidth=t.sWidth,this.sHeight=t.sHeight,this.width=t.width,this.height=t.height,this.img=new Image,this.texture=__dirname+"/public/images/"+t.texture,this.animationSteps=t.animationSteps,this.numberOfItems=t.numberOfItems,this.target=t.target,this.animationState=!0,this.detectFrame=0,this.objectPresent=!0,this.speed=t.speed,this.picturesWidth=t.picturesWidth,this.damage=t.damage?t.damage:null,this.objectOwner=t.objectOwner?t.objectOwner:null,this.healthPoint=t.healthPoint?t.healthPoint:null,this.isBackground=t.isBackground?t.isBackground:null,this.explosion=t.explosion?t.explosion:null,this.pointsPerUnit=t.pointsPerUnit?t.pointsPerUnit:0};t.SideObject=l,l.prototype.enemyAnimation=r.enemyAnimation,l.prototype.placeEnemyes=r.placeEnemyes,l.prototype.fireAnimationEnded=o.fireAnimationEnded,l.prototype.takeDamage=s.takeDamage,l.prototype.mapObjectMove=o.mapObjectMove,l.prototype.enemyDamageAnimation=s.enemyDamageAnimation},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var i in e)t.hasOwnProperty(i)||(t[i]=e[i])}(i(1))},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(4);t.gameOverScreen=function(e,t,i,a,r){return e||[{name:"Pause text",text:"Game Over",description:"text for game over window",fontSize:"110px Arial",clicked:!1,propertyes:{ctx:t,width:0,height:90,x:i/2-250,y:a/2-50,background:"rgba(255, 255, 255, 1)",borderColor:"rgba(255, 255, 255, 1)",radius:45},init:n.init,getObjectPosition:n.getUIObjectPosition}]}},function(e,t,i){"use strict";function n(e){for(var i in e)t.hasOwnProperty(i)||(t[i]=e[i])}Object.defineProperty(t,"__esModule",{value:!0}),n(i(9)),n(i(10)),n(i(2)),n(i(36)),n(i(33)),n(i(41))},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.noData="There is no data",t.noObject="There is no Object"}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibWFpbi5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy9tYWluLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIiFmdW5jdGlvbihlKXt2YXIgdD17fTtmdW5jdGlvbiBpKG4pe2lmKHRbbl0pcmV0dXJuIHRbbl0uZXhwb3J0czt2YXIgYT10W25dPXtpOm4sbDohMSxleHBvcnRzOnt9fTtyZXR1cm4gZVtuXS5jYWxsKGEuZXhwb3J0cyxhLGEuZXhwb3J0cyxpKSxhLmw9ITAsYS5leHBvcnRzfWkubT1lLGkuYz10LGkuZD1mdW5jdGlvbihlLHQsbil7aS5vKGUsdCl8fE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLHQse2VudW1lcmFibGU6ITAsZ2V0Om59KX0saS5yPWZ1bmN0aW9uKGUpe1widW5kZWZpbmVkXCIhPXR5cGVvZiBTeW1ib2wmJlN5bWJvbC50b1N0cmluZ1RhZyYmT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsU3ltYm9sLnRvU3RyaW5nVGFnLHt2YWx1ZTpcIk1vZHVsZVwifSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSl9LGkudD1mdW5jdGlvbihlLHQpe2lmKDEmdCYmKGU9aShlKSksOCZ0KXJldHVybiBlO2lmKDQmdCYmXCJvYmplY3RcIj09dHlwZW9mIGUmJmUmJmUuX19lc01vZHVsZSlyZXR1cm4gZTt2YXIgbj1PYmplY3QuY3JlYXRlKG51bGwpO2lmKGkucihuKSxPYmplY3QuZGVmaW5lUHJvcGVydHkobixcImRlZmF1bHRcIix7ZW51bWVyYWJsZTohMCx2YWx1ZTplfSksMiZ0JiZcInN0cmluZ1wiIT10eXBlb2YgZSlmb3IodmFyIGEgaW4gZSlpLmQobixhLGZ1bmN0aW9uKHQpe3JldHVybiBlW3RdfS5iaW5kKG51bGwsYSkpO3JldHVybiBufSxpLm49ZnVuY3Rpb24oZSl7dmFyIHQ9ZSYmZS5fX2VzTW9kdWxlP2Z1bmN0aW9uKCl7cmV0dXJuIGUuZGVmYXVsdH06ZnVuY3Rpb24oKXtyZXR1cm4gZX07cmV0dXJuIGkuZCh0LFwiYVwiLHQpLHR9LGkubz1mdW5jdGlvbihlLHQpe3JldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZSx0KX0saS5wPVwiL3B1YmxpYy9kaXN0XCIsaShpLnM9MTEpfShbZnVuY3Rpb24oZSx0LGkpe1widXNlIHN0cmljdFwiO3ZhciBuPXRoaXMmJnRoaXMuX19zcHJlYWRBcnJheXN8fGZ1bmN0aW9uKCl7Zm9yKHZhciBlPTAsdD0wLGk9YXJndW1lbnRzLmxlbmd0aDt0PGk7dCsrKWUrPWFyZ3VtZW50c1t0XS5sZW5ndGg7dmFyIG49QXJyYXkoZSksYT0wO2Zvcih0PTA7dDxpO3QrKylmb3IodmFyIHI9YXJndW1lbnRzW3RdLG89MCxzPXIubGVuZ3RoO288cztvKyssYSsrKW5bYV09cltvXTtyZXR1cm4gbn07T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIGE9aSgyMik7dC5jcmVhdGVXaW5kb3c9YS5jcmVhdGVXaW5kb3csdC5jcmVhdGVTaGFwZVJvdW5kQm9yZGVyPWEuY3JlYXRlU2hhcGVSb3VuZEJvcmRlcix0LmNyZWF0ZVJvdW5kQnV0dG9uPWEuY3JlYXRlUm91bmRCdXR0b247dmFyIHI9aSgyMyk7ZnVuY3Rpb24gbyhlLHQpe2Zvcih2YXIgaT1bXSxuPTI7bjxhcmd1bWVudHMubGVuZ3RoO24rKylpW24tMl09YXJndW1lbnRzW25dO2VbdF0uYXBwbHkoZSxpKX10LmRyYXc9byx0LmNyZWF0ZUxhc2VyQnVsbGV0PWZ1bmN0aW9uKGUpe2lmKCFlLmN0eClyZXR1cm4gbmV3IEVycm9yKFwibm8gY29udGV4dFwiKTtcInBsYXllclwiPT1lLm9iamVjdE93bmVyJiZcImJsYXN0ZXJcIj09ZS50eXBlJiZyLndlYXBvbjEoZSxvKSxcImVuZW15XCI9PWUub2JqZWN0T3duZXImJlwiYmxhc3RlclwiPT1lLnR5cGUmJnIud2VhcG9uMShlLG8pLFwiZW5lbXlcIj09ZS5vYmplY3RPd25lciYmXCJiZWFtXCI9PWUudHlwZSYmci53ZWFwb24xKGUsbyl9LHQuY3JlYXRlSW1hZ2U9ZnVuY3Rpb24oZSx0KXtmb3IodmFyIGk9W10sYT0yO2E8YXJndW1lbnRzLmxlbmd0aDthKyspaVthLTJdPWFyZ3VtZW50c1thXTtvLmFwcGx5KHZvaWQgMCxuKFtlLFwiZHJhd0ltYWdlXCIsdF0saSkpfSx0LmNsZWFyRmllbGQ9ZnVuY3Rpb24oZSx0LGkpe28oZSxcImNsZWFyUmVjdFwiLDAsMCx0LGkpfX0sZnVuY3Rpb24oZSx0LGkpe1widXNlIHN0cmljdFwiO3ZhciBuPXRoaXMmJnRoaXMuX19pbXBvcnRTdGFyfHxmdW5jdGlvbihlKXtpZihlJiZlLl9fZXNNb2R1bGUpcmV0dXJuIGU7dmFyIHQ9e307aWYobnVsbCE9ZSlmb3IodmFyIGkgaW4gZSlPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChlLGkpJiYodFtpXT1lW2ldKTtyZXR1cm4gdC5kZWZhdWx0PWUsdH07T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIGE9aSgwKSxyPWkoOSksbz1uKGkoMykpO3QucGxhY2VFbmVteWVzPWZ1bmN0aW9uKGUpe2EuY3JlYXRlSW1hZ2UoZS5nYW1lSW5pdERhdGEuY3R4QWN0aW9uRmllbGQsdGhpcy5pbWcsdGhpcy5zeCx0aGlzLnN5LHRoaXMuc1dpZHRoLHRoaXMuc0hlaWdodCx0aGlzLngsdGhpcy55LHRoaXMud2lkdGgsdGhpcy5oZWlnaHQpfSx0Lm1vdmVFbmVteWVzPWZ1bmN0aW9uKGUsdCl7dm9pZCAwPT09dCYmKHQ9MCksdGhpcy54LT10aGlzLnNwZWVkLHRoaXMueS09dH0sdC5sb2FkRW5lbXllcz1mdW5jdGlvbigpe3RoaXMuaW1nPW5ldyBJbWFnZSx0aGlzLmltZy5zcmM9dGhpcy5zaGlwVGV4dHVyZX0sdC5zaG9vdD1mdW5jdGlvbihlLHQpe2lmKHQuZ2FtZUluaXREYXRhLmdhbWVQYXVzZXx8IXRoaXMuaXNTaG9vdClyZXR1cm4hMTtmb3IodmFyIGk9dGhpcy5ndW5zLG49ZnVuY3Rpb24oaSl7aWYoMT50LmdhbWVSYW5kb21pemVyKGkuZmlyZVJlcGVhZCkpe3ZhciBuPW5ldyBlKGEueCxhLnkrKGkuZmlyZVBvc2l0aW9uP2kuZmlyZVBvc2l0aW9uOnQuZ2FtZVJhbmRvbWl6ZXIoYS5oZWlnaHQpKSxpLm5hbWUsaS5jb2xvcixcImVuZW15XCIsaS5zcGVlZCthLnNwZWVkLGkud2lkdGgsaS5oZWlnaHQsaS5kYW1hZ2UsaS50eXBlLGkudGV4dHVyZSxpLnN4LGkuc3ksaS5zV2lkdGgsaS5zSGVpZ2h0LGkuZXhwbG9zaW9uQW5pbWF0aW9uKTtuLmltZy5zcmM9bi50ZXh0dXJlLG4uaW1nLm9ubG9hZD1mdW5jdGlvbigpe3QuZ2FtZUluaXREYXRhLmFsbEdhbWVCdWxsZXRzPXQuZ2FtZUluaXREYXRhLmFsbEdhbWVCdWxsZXRzLmNvbmNhdChuKX19fSxhPXRoaXMscj0wLG89aTtyPG8ubGVuZ3RoO3IrKyl7bihvW3JdKX19LHQuZW5lbXlBbmltYXRpb249ZnVuY3Rpb24oZSl7dm9pZCAwPT09ZSYmKGU9ITApLHRoaXMuZGV0ZWN0RnJhbWUrPTEsdGhpcy5kZXRlY3RGcmFtZSV0aGlzLmFuaW1hdGlvblN0ZXBzPT0wJiZlJiYodGhpcy5kZXRlY3RGcmFtZT0wLHRoaXMuc3grPXRoaXMuc1dpZHRoLHRoaXMuc3g+PXRoaXMucGljdHVyZXNXaWR0aCYmKHRoaXMuc3g9MCkpfSx0LmVuZW15RGFtYWdlQW5pbWF0aW9uPWZ1bmN0aW9uKCl7aWYodGhpcy5udW1iZXJPZlZlcnRpY2FsSXRlbXM+MSl7dmFyIGU9dGhpcy5vcmlnaW5hbEhlYWx0aFBvaW50L3RoaXMubnVtYmVyT2ZWZXJ0aWNhbEl0ZW1zLHQ9bmV3IEFycmF5KHRoaXMubnVtYmVyT2ZWZXJ0aWNhbEl0ZW1zKS5maWxsKG51bGwpO3Q9dC5tYXAoKGZ1bmN0aW9uKHQsaSl7cmV0dXJuIGUqKGkrMSl9KSkuc29ydCgoZnVuY3Rpb24oZSx0KXtyZXR1cm4gZS10fSkpLnJldmVyc2UoKTtmb3IodmFyIGk9MDtpPHQubGVuZ3RoO2krKyl7aWYodGhpcy5oZWFsdGhQb2ludDx0W2ldJiZ0aGlzLmhlYWx0aFBvaW50PnRbaSsxXSYmdFtpKzFdKXt0aGlzLnN5PXRoaXMuc0hlaWdodCppO2JyZWFrfXRbaSsxXXx8KHRoaXMuc3k9dGhpcy5zSGVpZ2h0Kih0aGlzLm51bWJlck9mVmVydGljYWxJdGVtcy0xKSl9fX0sdC50YWtlRGFtYWdlPWZ1bmN0aW9uKGUsdCxpKXtpZih0aGlzLmhhc093blByb3BlcnR5KFwiYnVsbGV0VHlwZVwiKSYmXCJlbmVteVwiPT10aGlzLm9iamVjdE93bmVyJiZcInBsYXllclwiPT10Lm9iamVjdE93bmVyfHx0aGlzLmhhc093blByb3BlcnR5KFwiYnVsbGV0VHlwZVwiKSYmXCJwbGF5ZXJcIj09dGhpcy5vYmplY3RPd25lciYmXCJlbmVteVwiPT10Lm9iamVjdE93bmVyfHx0aGlzLmhhc093blByb3BlcnR5KFwiYnVsbGV0VHlwZVwiKSYmXCJwbGF5ZXJcIj09dGhpcy5vYmplY3RPd25lciYmXCJlbnZpcm9ubWVudFwiPT10Lm9iamVjdE93bmVyJiZ0Lmhhc093blByb3BlcnR5KFwiaGVhbHRoUG9pbnRcIil8fHRoaXMuaGFzT3duUHJvcGVydHkoXCJidWxsZXRUeXBlXCIpJiZcImVuZW15XCI9PXRoaXMub2JqZWN0T3duZXImJlwiZW52aXJvbm1lbnRcIj09dC5vYmplY3RPd25lciYmdC5oYXNPd25Qcm9wZXJ0eShcImhlYWx0aFBvaW50XCIpfHx0aGlzLmhhc093blByb3BlcnR5KFwiYnVsbGV0VHlwZVwiKSYmXCJwbGF5ZXJcIj09dGhpcy5vYmplY3RPd25lciYmXCJjb2xsaWRlXCI9PXQub2JqZWN0T3duZXImJnQuaGFzT3duUHJvcGVydHkoXCJoZWFsdGhQb2ludFwiKXx8dGhpcy5oYXNPd25Qcm9wZXJ0eShcImJ1bGxldFR5cGVcIikmJlwiZW5lbXlcIj09dGhpcy5vYmplY3RPd25lciYmXCJjb2xsaWRlXCI9PXQub2JqZWN0T3duZXImJnQuaGFzT3duUHJvcGVydHkoXCJoZWFsdGhQb2ludFwiKSlyZXR1cm4gci5leHBsb3Npb25GaXJlKHRoaXMsaSx0LG8uU2lkZU9iamVjdCksdGhpcy5vYmplY3RQcmVzZW50PSExO2lmKHRoaXMuaGFzT3duUHJvcGVydHkoXCJoZWFsdGhQb2ludFwiKSYmXCJlbmVteVwiPT10aGlzLm9iamVjdE93bmVyJiZcInBsYXllclwiPT10Lm9iamVjdE93bmVyfHx0aGlzLmhhc093blByb3BlcnR5KFwiaGVhbHRoUG9pbnRcIikmJlwiY29sbGlkZVwiPT10aGlzLm9iamVjdE93bmVyJiZcInBsYXllclwiPT10Lm9iamVjdE93bmVyfHx0aGlzLmhhc093blByb3BlcnR5KFwiaGVhbHRoUG9pbnRcIikmJlwiY29sbGlkZVwiPT10aGlzLm9iamVjdE93bmVyJiZcImVuZW15XCI9PXQub2JqZWN0T3duZXJ8fHRoaXMuaGFzT3duUHJvcGVydHkoXCJoZWFsdGhQb2ludFwiKSYmXCJlbnZpcm9ubWVudFwiPT10aGlzLm9iamVjdE93bmVyJiZcInBsYXllclwiPT10Lm9iamVjdE93bmVyfHx0aGlzLmhhc093blByb3BlcnR5KFwiaGVhbHRoUG9pbnRcIikmJlwiZW52aXJvbm1lbnRcIj09dGhpcy5vYmplY3RPd25lciYmXCJlbmVteVwiPT10Lm9iamVjdE93bmVyKW4uY2FsbCh0aGlzLG51bGwsaSksdGhpcy5lbmVteURhbWFnZUFuaW1hdGlvbigpLHRoaXMuaGVhbHRoUG9pbnQ8PTAmJih0aGlzLm9iamVjdFByZXNlbnQ9ITEsci5leHBsb3Npb25GaXJlKHRoaXMsaSx0LG8uU2lkZU9iamVjdCksdGhpcy5pc0Jvc3MmJihpLmdhbWVJbml0RGF0YS5sZXZlbENoYW5nZT0hMCkpO2Vsc2V7aWYoIXRoaXMuaGFzT3duUHJvcGVydHkoXCJoZWFsdGhQb2ludFwiKXx8XCJwbGF5ZXJcIiE9dGhpcy5vYmplY3RPd25lcnx8XCJlbmVteVwiIT10Lm9iamVjdE93bmVyKXJldHVybiExO3RoaXMuY29sbGlzaW9uQWxsb3cmJm4uY2FsbCh0aGlzLGkuZ2V0TGV2ZWxVc2VyRGF0YSgpLGkpfWZ1bmN0aW9uIG4odCxpKXtpZih0aGlzLmhlYWx0aFBvaW50LT1lLHRoaXMuaGVhbHRoUG9pbnQ8PTApcmV0dXJuIHQmJnQubGlmZT4wPyh0LnNvdXJzZS5wbGF5ZXJPYmplY3QubnVtYmVyT2ZsaWZlLT0xLHQuc291cnNlLnBsYXllck9iamVjdC5udW1iZXJPZmxpZmU8PTAmJihpLmdhbWVPdmVyV2luZG93KCksaS5nYW1lSW5pdERhdGEuZ2FtZU92ZXI9ITAsc2V0VGltZW91dCgoZnVuY3Rpb24oKXtpLmJhY2tUb1N0YXJ0U2NyZWVuKG8uUGxheWVyU2hpcCl9KSwzZTMpKSx0aGlzLmhlYWx0aFBvaW50PXQuc291cnNlLnBsYXllck9iamVjdC5tYXhIZWFsdGgsITEpOihpLmNvbGxlY3RQb2ludHModGhpcy5wb2ludHNQZXJVbml0KSx0aGlzLm9iamVjdFByZXNlbnQ9ITEpfX0sdC5oaXREZXRlY3Rpb249ZnVuY3Rpb24oZSx0LGkpe2Zvcih2YXIgbj1udWxsLGE9MCxyPXQ7YTxyLmxlbmd0aDthKyspe3ZhciBvPXJbYV0scz1lLmdldE9iamVjdFBvc2l0aW9uLmNhbGwoZSksbD1NYXRoLm1heChzLngsby54KSxjPU1hdGgubWF4KHMueSxvLnkpLGg9TWF0aC5taW4ocy54KyhlLndpZHRofHxzLndpZHRoKSxvLngrby53aWR0aCktbCx1PU1hdGgubWluKHMueSsoZS5oZWlnaHR8fHMuaGVpZ2h0KSxvLnkrby5oZWlnaHQpLWM7aWYoXCJjb2xsaXNpb25cIj09KG49IShNYXRoLnNpZ24oaCk8MHx8TWF0aC5zaWduKHUpPDApJiZcImNvbGxpc2lvblwiKSl7ZS50YWtlRGFtYWdlJiZvLnRha2VEYW1hZ2UmJihlLnRha2VEYW1hZ2Uoby5kYW1hZ2U/by5kYW1hZ2U6MCxvLGkpLG8udGFrZURhbWFnZShlLmRhbWFnZT9lLmRhbWFnZTowLGUsaSkpO2JyZWFrfX1yZXR1cm5cImNvbGxpc2lvblwiPT1uJiZlfX0sZnVuY3Rpb24oZSx0LGkpe1widXNlIHN0cmljdFwiO3ZhciBuPXRoaXMmJnRoaXMuX19zcHJlYWRBcnJheXN8fGZ1bmN0aW9uKCl7Zm9yKHZhciBlPTAsdD0wLGk9YXJndW1lbnRzLmxlbmd0aDt0PGk7dCsrKWUrPWFyZ3VtZW50c1t0XS5sZW5ndGg7dmFyIG49QXJyYXkoZSksYT0wO2Zvcih0PTA7dDxpO3QrKylmb3IodmFyIHI9YXJndW1lbnRzW3RdLG89MCxzPXIubGVuZ3RoO288cztvKyssYSsrKW5bYV09cltvXTtyZXR1cm4gbn07T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIGE9aSgwKTt0LmluaXRGaWVsZD1mdW5jdGlvbihlLHQpe3ZvaWQgMD09PWUmJihlPXdpbmRvdy5pbm5lcldpZHRoKSx2b2lkIDA9PT10JiYodD13aW5kb3cuaW5uZXJIZWlnaHQpO3ZhciBpPVtdLmNvbmNhdCh0aGlzLmdhbWVJbml0RGF0YS5nYW1lRmllbGQsdGhpcy5nYW1lSW5pdERhdGEuZ2FtZUFjdGlvbkZpZWxkLHRoaXMuZ2FtZUluaXREYXRhLmdhbWVVSUZpZWxkKTtpZighaSl0aHJvdyBFcnJvcihcIkVycm9yXCIpO2Zvcih2YXIgbj0wLGE9aTtuPGEubGVuZ3RoO24rKyl7dmFyIHI9YVtuXTtyPU9iamVjdC5hc3NpZ24ocix7d2lkdGg6ZS00LGhlaWdodDp0LTR9KX19LHQuc2V0R2FtZUZpZWxkcz1mdW5jdGlvbigpe3RoaXMuaW5pdEZpZWxkKCksdGhpcy5jcmVhdGVDb250ZXh0KCksdGhpcy5pbml0UGxheWVyU2hpcCgpfSx0LndhcnBFZmZlY3Q9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmdldFNjcmVlblNpemUoKSx0PXRoaXMuZ2FtZUluaXREYXRhLmN0eCxpPXRoaXMuZ2FtZUluaXREYXRhLndhcnBPYmplY3RzO2lmKHRoaXMuZ2V0U2Vjb25kTWVhc3VyZSgoZnVuY3Rpb24oZSl7dmFyIHQ9ISh0aGlzLmdhbWVJbml0RGF0YS50aW1lVG9FcmVzc0xldmVsPj0wKTt0aGlzLmdhbWVJbml0RGF0YS50aW1lVG9FcmVzc0xldmVsPj0wJiYhdCYmKHRoaXMuZ2FtZUluaXREYXRhLnRpbWVUb0VyZXNzTGV2ZWwtPTEpO3RoaXMuZ2FtZUluaXREYXRhLnRpbWVUb0VyZXNzTGV2ZWw8MCYmIXQmJnRoaXMuY2hhbmdlTGV2ZWxQcm9jZWR1cmUoKX0pLHt0aW1lVG9FcmVzc0xldmVsOnRoaXMuZ2FtZUluaXREYXRhLnRpbWVUb0VyZXNzTGV2ZWwsY3R4OnQsc2NyZWVuU2l6OnRoaXMuZ2V0U2NyZWVuU2l6ZSgpfSksdGhpcy5nYW1lSW5pdERhdGEud2FycE9iamVjdHM9aS5sZW5ndGg8MzUwP3RoaXMuZ2FtZUluaXREYXRhLndhcnBPYmplY3RzLmNvbmNhdCh7eDplLndpZHRoLHk6dGhpcy5nYW1lUmFuZG9taXplcihlLmhlaWdodCksaGVpZ2h0OnRoaXMuZ2FtZVJhbmRvbWl6ZXIoMjAsMTApLHdpZHRoOjEwLHNwZWVkOnRoaXMuZ2FtZVJhbmRvbWl6ZXIoMTAsNSksYmFja2dyb3VuZDp0aGlzLmdldFJhbmRvbUNvbG9yKCl9KTp0aGlzLmdhbWVJbml0RGF0YS53YXJwT2JqZWN0cyxpLmxlbmd0aD4wKWZvcih2YXIgbj0wLHI9aTtuPHIubGVuZ3RoO24rKyl7dmFyIG89cltuXTtvLngtPW8ueD4wP28uc3BlZWQ6MCxvLndpZHRoPWkubGVuZ3RoPDE1MD9vLndpZHRoLW8uc3BlZWQ6aS5sZW5ndGg+MTUwJiZpLmxlbmd0aDwzNTA/by53aWR0aCtvLnNwZWVkOm8ud2lkdGgtby5zcGVlZCx0LmZpbGxTdHlsZT1vLmJhY2tncm91bmQsYS5kcmF3KHQsXCJmaWxsUmVjdFwiLG8ueCxvLnksby53aWR0aCxvLmhlaWdodCksdC5maWxsKCl9fSx0LmxldmVsSW5pdD1mdW5jdGlvbihlLHQsaSl7dmFyIG49dGhpcy5zaG93TGV2ZWxEYXRhKCkubGV2ZWxCYWNrZ3JvdW5kRWxlbWVudHM7aS5nYW1lSW5pdERhdGEuYmFja1NjcmVlblBhdXNlPSExO2Zvcih2YXIgYT0wLHI9bjthPHIubGVuZ3RoO2ErKyl7dmFyIG89clthXSxzPW5ldyBlKG8ubGV2ZWxNYXAsby5zcGVlZCx0aGlzLmdhbWVJbml0RGF0YS5zY3JlZW4sdCx0aGlzLmdhbWVJbml0RGF0YS5tYXBCYWNrZ3JvdW5kT2JqZWN0cy5sZW5ndGglMj09MHx8bnVsbCxvLmV4dHJhTWFwP28uZXh0cmFNYXA6bnVsbCxvLnRpbWVUb0V4dHJhTWFwU2Vjb25kcz9vLnRpbWVUb0V4dHJhTWFwU2Vjb25kczpudWxsLG8udGltZVRvRXh0cmFNYXBNaW51dGVzP28udGltZVRvRXh0cmFNYXBNaW51dGVzOm51bGwpO2kuZ2FtZUluaXREYXRhLm1hcEJhY2tncm91bmRPYmplY3RzPWkuZ2FtZUluaXREYXRhLm1hcEJhY2tncm91bmRPYmplY3RzLmNvbmNhdChzKSxzLmltZy5zcmM9dGhpcy5zaG93R2FtZUluZm8oKS5pbWFnZURpcnJlY3Rpb24rcy5iYWNrZ3JvdW5kVGV4dHVyZX19LHQuY3JlYXRlQ29udGV4dD1mdW5jdGlvbigpe3RoaXMuZ2FtZUluaXREYXRhLmN0eD10aGlzLmdhbWVJbml0RGF0YS5nYW1lRmllbGQuZ2V0Q29udGV4dChcIjJkXCIpLHRoaXMuZ2FtZUluaXREYXRhLmN0eEFjdGlvbkZpZWxkPXRoaXMuZ2FtZUluaXREYXRhLmdhbWVBY3Rpb25GaWVsZC5nZXRDb250ZXh0KFwiMmRcIiksdGhpcy5nYW1lSW5pdERhdGEuY3R4VUlGaWVsZD10aGlzLmdhbWVJbml0RGF0YS5nYW1lVUlGaWVsZC5nZXRDb250ZXh0KFwiMmRcIil9LHQuZ2V0U2NyZWVuU2l6ZT1mdW5jdGlvbigpe3JldHVybnt3aWR0aDp0aGlzLmdhbWVJbml0RGF0YS5zY3JlZW4ud2lkdGgsaGVpZ2h0OnRoaXMuZ2FtZUluaXREYXRhLnNjcmVlbi5oZWlnaHR9fSx0LmNoYW5nZUxldmVsUHJvY2VkdXJlPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5zaG93R2FtZUluZm8oKTt0aGlzLmNoYW5nZUxldmVsKGUuZ2FtZURhdGEuY3VycmVudExldmVsKzEpPD1lLmdhbWVEYXRhLmxldmVsRGF0YS5hbGxMZXZlbHM/dGhpcy5uZXh0TGV2ZWxEYXRhUmVsb2FkKGUpOmFsZXJ0KFwiV2luIEdhbWUgU2NyZWVuIFwiKX0sdC5sZXZlbFRpbWVyPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5nZXRMZXZlbFVzZXJEYXRhKCk7aWYoZS5zb3Vyc2UubGV2ZWxEYXRhLmJvc1ByZXNlbnRzKWUuc291cnNlLmxldmVsRGF0YS5sZXZlbERldGFpbHMubGV2ZWxTZWNvbmRzPW51bGwsZS5zb3Vyc2UubGV2ZWxEYXRhLmxldmVsRGV0YWlscy5sZXZlbE1pbnV0ZXM9bnVsbDtlbHNle2Uuc291cnNlLmxldmVsRGF0YS5sZXZlbERldGFpbHM7dGhpcy5nYW1lSW5pdERhdGEubGV2ZWxDaGFuZ2V8fHRoaXMuZ2V0U2Vjb25kTWVhc3VyZSgoZnVuY3Rpb24oZSl7ZS5sZXZlbFNlY29uZHM8PTAmJigwPT1lLmxldmVsTWludXRlcyYmMD09ZS5sZXZlbFNlY29uZHMmJihlLmxldmVsU2Vjb25kcz0wLHRoaXMuZ2FtZUluaXREYXRhLmxldmVsQ2hhbmdlPSEwKSxlLmxldmVsTWludXRlcz1lLmxldmVsTWludXRlcz4wP2UubGV2ZWxNaW51dGVzLTE6MCk7ZS5sZXZlbFNlY29uZHM9ZS5sZXZlbFNlY29uZHM+MD9lLmxldmVsU2Vjb25kcy0xOnRoaXMuZ2FtZUluaXREYXRhLmxldmVsQ2hhbmdlPzA6NTl9KSxlLnNvdXJzZS5sZXZlbERhdGEubGV2ZWxEZXRhaWxzKX19LHQuZ2V0U2Vjb25kTWVhc3VyZT1mdW5jdGlvbihlKXtmb3IodmFyIHQ9W10saT0xO2k8YXJndW1lbnRzLmxlbmd0aDtpKyspdFtpLTFdPWFyZ3VtZW50c1tpXTt2YXIgYT0xZTMvdGhpcy5nYW1lSW5pdERhdGEuaW50ZXJ2YWxDb3VudDtpZih0aGlzLmdhbWVJbml0RGF0YS5nZW1lRXh0cmFTZWNvbmRzJWE9PTApcmV0dXJuIHRoaXMuZ2FtZUluaXREYXRhLmdlbWVFeHRyYVNlY29uZHM9MCxlP2UuY2FsbC5hcHBseShlLG4oW3RoaXNdLHQpKTphfSx0LmdhbWVTZWNvbmRzSW5jcmVhc2U9ZnVuY3Rpb24oKXt0aGlzLmdhbWVJbml0RGF0YS5nZW1lRXh0cmFTZWNvbmRzKz0xfSx0LmdldExldmVsVXNlckRhdGE9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmdhbWVJbml0RGF0YS5nYW1lRGF0YSx0PWUubGV2ZWxEYXRhLmxldmVsRGV0YWlscztyZXR1cm57c291cnNlOmUsY3VycmVudExldmVsOmUuY3VycmVudExldmVsLGFsbExldmVsczplLmxldmVsRGF0YS5hbGxMZXZlbHMscG9pbnRzOmUuY3VycmVudFBvaW50LGxpZmU6ZS5wbGF5ZXJPYmplY3QubnVtYmVyT2ZsaWZlLG1pbnV0ZXM6dC5sZXZlbE1pbnV0ZXMsc2Vjb25kczp0LmxldmVsU2Vjb25kc319LHQuZGVsZXRlQnVsbGV0PWZ1bmN0aW9uKGUpe2lmKGUueD50aGlzLmdhbWVJbml0RGF0YS5zY3JlZW4ud2lkdGh8fGUueDwtMSplLndpZHRofHwhZS5vYmplY3RQcmVzZW50KXt2YXIgdD10aGlzLmdhbWVJbml0RGF0YS5hbGxHYW1lQnVsbGV0cy5pbmRleE9mKGUpO3RoaXMuZ2FtZUluaXREYXRhLmFsbEdhbWVCdWxsZXRzLnNwbGljZSh0LDEpfX0sdC5kZWxldGVPYmplY3RzPWZ1bmN0aW9uKGUpe2lmKGUueCtlLnNXaWR0aDwwfHwhZS5vYmplY3RQcmVzZW50KXt2YXIgdD10aGlzLmdhbWVJbml0RGF0YS5hbGxHYW1lRW5lbWllcy5pbmRleE9mKGUpO3RoaXMuZ2FtZUluaXREYXRhLmFsbEdhbWVFbmVtaWVzLnNwbGljZSh0LDEpfX0sdC5kZWxhdGVTaWRlT2JqZWN0PWZ1bmN0aW9uKGUpe2lmKCFlLm9iamVjdFByZXNlbnR8fGUueDwwLWUud2lkdGgpe3ZhciB0PXRoaXMuZ2FtZUluaXREYXRhLmFsbEdhbWVTaWRlT2JqZWN0cy5pbmRleE9mKGUpO3RoaXMuZ2FtZUluaXREYXRhLmFsbEdhbWVTaWRlT2JqZWN0cy5zcGxpY2UodCwxKX19LHQuY29sbGVjdFBvaW50cz1mdW5jdGlvbihlKXt0aGlzLmdhbWVJbml0RGF0YS5nYW1lRGF0YS5jdXJyZW50UG9pbnQrPWV9LHQuZ2V0T2JqZWN0UG9zaXRpb249ZnVuY3Rpb24oKXtyZXR1cm57eDp0aGlzLngseTp0aGlzLnksd2lkdGg6dGhpcy53aWR0aCxoZWlnaHQ6dGhpcy5oZWlnaHR9fSx0LmdldFJhbmRvbUNvbG9yPWZ1bmN0aW9uKCl7Zm9yKHZhciBlPVwiI1wiLHQ9MDt0PDY7dCsrKWUrPVwiMDEyMzQ1Njc4OUFCQ0RFRlwiW01hdGguZmxvb3IoMTYqTWF0aC5yYW5kb20oKSldO3JldHVybiBlfX0sZnVuY3Rpb24oZSx0LGkpe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIG4oZSl7Zm9yKHZhciBpIGluIGUpdC5oYXNPd25Qcm9wZXJ0eShpKXx8KHRbaV09ZVtpXSl9T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksbihpKDIwKSksbihpKDMyKSksbihpKDgpKSxuKGkoMzQpKSxuKGkoMzUpKSxuKGkoMzcpKX0sZnVuY3Rpb24oZSx0LGkpe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLHQuaW5pdD1mdW5jdGlvbihlLHQpe2UodD10fHx0aGlzKX0sdC5nZXRVSU9iamVjdFBvc2l0aW9uPWZ1bmN0aW9uKCl7cmV0dXJue3g6dGhpcy5wcm9wZXJ0eWVzLngseTp0aGlzLnByb3BlcnR5ZXMueSx3aWR0aDp0aGlzLnByb3BlcnR5ZXMud2lkdGgsaGVpZ2h0OnRoaXMucHJvcGVydHllcy5oZWlnaHR9fX0sZnVuY3Rpb24oZSx0LGkpe1widXNlIHN0cmljdFwiO3ZhciBuPXRoaXMmJnRoaXMuX19hd2FpdGVyfHxmdW5jdGlvbihlLHQsaSxuKXtyZXR1cm4gbmV3KGl8fChpPVByb21pc2UpKSgoZnVuY3Rpb24oYSxyKXtmdW5jdGlvbiBvKGUpe3RyeXtsKG4ubmV4dChlKSl9Y2F0Y2goZSl7cihlKX19ZnVuY3Rpb24gcyhlKXt0cnl7bChuLnRocm93KGUpKX1jYXRjaChlKXtyKGUpfX1mdW5jdGlvbiBsKGUpe3ZhciB0O2UuZG9uZT9hKGUudmFsdWUpOih0PWUudmFsdWUsdCBpbnN0YW5jZW9mIGk/dDpuZXcgaSgoZnVuY3Rpb24oZSl7ZSh0KX0pKSkudGhlbihvLHMpfWwoKG49bi5hcHBseShlLHR8fFtdKSkubmV4dCgpKX0pKX0sYT10aGlzJiZ0aGlzLl9fZ2VuZXJhdG9yfHxmdW5jdGlvbihlLHQpe3ZhciBpLG4sYSxyLG89e2xhYmVsOjAsc2VudDpmdW5jdGlvbigpe2lmKDEmYVswXSl0aHJvdyBhWzFdO3JldHVybiBhWzFdfSx0cnlzOltdLG9wczpbXX07cmV0dXJuIHI9e25leHQ6cygwKSx0aHJvdzpzKDEpLHJldHVybjpzKDIpfSxcImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJihyW1N5bWJvbC5pdGVyYXRvcl09ZnVuY3Rpb24oKXtyZXR1cm4gdGhpc30pLHI7ZnVuY3Rpb24gcyhyKXtyZXR1cm4gZnVuY3Rpb24ocyl7cmV0dXJuIGZ1bmN0aW9uKHIpe2lmKGkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkdlbmVyYXRvciBpcyBhbHJlYWR5IGV4ZWN1dGluZy5cIik7Zm9yKDtvOyl0cnl7aWYoaT0xLG4mJihhPTImclswXT9uLnJldHVybjpyWzBdP24udGhyb3d8fCgoYT1uLnJldHVybikmJmEuY2FsbChuKSwwKTpuLm5leHQpJiYhKGE9YS5jYWxsKG4sclsxXSkpLmRvbmUpcmV0dXJuIGE7c3dpdGNoKG49MCxhJiYocj1bMiZyWzBdLGEudmFsdWVdKSxyWzBdKXtjYXNlIDA6Y2FzZSAxOmE9cjticmVhaztjYXNlIDQ6cmV0dXJuIG8ubGFiZWwrKyx7dmFsdWU6clsxXSxkb25lOiExfTtjYXNlIDU6by5sYWJlbCsrLG49clsxXSxyPVswXTtjb250aW51ZTtjYXNlIDc6cj1vLm9wcy5wb3AoKSxvLnRyeXMucG9wKCk7Y29udGludWU7ZGVmYXVsdDppZighKGE9KGE9by50cnlzKS5sZW5ndGg+MCYmYVthLmxlbmd0aC0xXSkmJig2PT09clswXXx8Mj09PXJbMF0pKXtvPTA7Y29udGludWV9aWYoMz09PXJbMF0mJighYXx8clsxXT5hWzBdJiZyWzFdPGFbM10pKXtvLmxhYmVsPXJbMV07YnJlYWt9aWYoNj09PXJbMF0mJm8ubGFiZWw8YVsxXSl7by5sYWJlbD1hWzFdLGE9cjticmVha31pZihhJiZvLmxhYmVsPGFbMl0pe28ubGFiZWw9YVsyXSxvLm9wcy5wdXNoKHIpO2JyZWFrfWFbMl0mJm8ub3BzLnBvcCgpLG8udHJ5cy5wb3AoKTtjb250aW51ZX1yPXQuY2FsbChlLG8pfWNhdGNoKGUpe3I9WzYsZV0sbj0wfWZpbmFsbHl7aT1hPTB9aWYoNSZyWzBdKXRocm93IHJbMV07cmV0dXJue3ZhbHVlOnJbMF0/clsxXTp2b2lkIDAsZG9uZTohMH19KFtyLHNdKX19fTtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgcj1pKDE5KTtmdW5jdGlvbiBvKGUpe3JldHVybiBuKHRoaXMsdm9pZCAwLHZvaWQgMCwoZnVuY3Rpb24oKXt2YXIgdCxpLG4sbyxzLGw7cmV0dXJuIGEodGhpcywoZnVuY3Rpb24oYSl7c3dpdGNoKGEubGFiZWwpe2Nhc2UgMDpyZXR1cm4gdD17aG9zdDpcImh0dHA6Ly9sb2NhbGhvc3Q6MzAwMC9cIixwaWN0dXJlc0RpcmVjdGlvbjpfX2Rpcm5hbWUrXCIvcHVibGljL2ltYWdlcy9cIixsZXZlbERhdGE6e21ldGhvZDpcIkdFVFwiLHVybDpcImFwaS9sZXZlbC1kYXRhXCJ9LGxldmVsT2JqZWN0czp7bWV0aG9kOlwiR0VUXCIsdXJsOlwiYXBpL2xldmVsLW9iamVjdHNcIn0sZ2FtZVNldGluZ3M6e21ldGhvZDpcIkdFVFwiLHVybDpcImFwaS9nYW1lLXNldHRpbmdzXCJ9LHVzZXJTaGlwOnttZXRob2Q6XCJHRVRcIix1cmw6XCJhcGkvdXNlci1zaGlwXCJ9LGVuZW15bERhdGE6e21ldGhvZDpcIkdFVFwiLHVybDpcImFwaS9lbmVteS1zaGlwXCJ9fSxbNCxyLmdldERhdGEoe3VybDp0Lmhvc3QrdC5sZXZlbERhdGEudXJsLG1ldGhvZDp0LmxldmVsRGF0YS5tZXRob2QsZGF0YTpudWxsLGhlYWRlcnM6e21hcGxldmVsOmUubGV2ZWx9fSldO2Nhc2UgMTpyZXR1cm4gaT1hLnNlbnQoKSxbNCxyLmdldERhdGEoe3VybDp0Lmhvc3QrdC5sZXZlbE9iamVjdHMudXJsLG1ldGhvZDp0LmxldmVsT2JqZWN0cy5tZXRob2QsZGF0YTpudWxsLGhlYWRlcnM6e21hcE9iamVjdDppLmxldmVsT0JqZWN0c319KV07Y2FzZSAyOnJldHVybiBuPWEuc2VudCgpLFs0LHIuZ2V0RGF0YSh7dXJsOnQuaG9zdCt0LmdhbWVTZXRpbmdzLnVybCxtZXRob2Q6dC5nYW1lU2V0aW5ncy5tZXRob2QsZGF0YTpudWxsLGhlYWRlcnM6bnVsbH0pXTtjYXNlIDM6cmV0dXJuIG89YS5zZW50KCksWzQsci5nZXREYXRhKHt1cmw6dC5ob3N0K3QudXNlclNoaXAudXJsLG1ldGhvZDp0LnVzZXJTaGlwLm1ldGhvZCxkYXRhOm51bGwsaGVhZGVyczp7dXNlcnNoaXA6ZS5zaGlwQ29uZmlndXJhdGlvbn19KV07Y2FzZSA0OnJldHVybiBzPWEuc2VudCgpLFs0LHIuZ2V0RGF0YSh7dXJsOnQuaG9zdCt0LmVuZW15bERhdGEudXJsLG1ldGhvZDp0LmVuZW15bERhdGEubWV0aG9kLGRhdGE6bnVsbCxoZWFkZXJzOntcInNoaXAtdHlwZS1udW1iZXJcIjppLmVuZW15VHlwZX19KV07Y2FzZSA1OnJldHVybiBsPWEuc2VudCgpLFsyLHtsZXZlbERhdGE6aSxsZXZlbE9iamVjdHM6bixnYW1lU2V0aW5nczpvLHVzZXJEYXRhOnMsZW5lbXlEYXRhOmx9XX19KSl9KSl9ZnVuY3Rpb24gcyhlKXtyZXR1cm4gbih0aGlzLHZvaWQgMCx2b2lkIDAsKGZ1bmN0aW9uKCl7dmFyIHQsaSxuLHIscyxsLGMsaCx1LG0sZDtyZXR1cm4gYSh0aGlzLChmdW5jdGlvbihhKXtzd2l0Y2goYS5sYWJlbCl7Y2FzZSAwOnJldHVybiB0PWRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjZ2FtZWZpZWxkXCIpLGk9ZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNnYW1lT2JqZWN0c2ZpZWxkXCIpLG49ZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNnYW1lVWlmaWVsZFwiKSwxLHM9NSxbNCxvKHtsZXZlbDpyPTQsc2hpcENvbmZpZ3VyYXRpb246MX0pXTtjYXNlIDE6cmV0dXJuIGw9YS5zZW50KCksYz1sLmxldmVsRGF0YSxoPWwubGV2ZWxPYmplY3RzLHU9bC5nYW1lU2V0aW5ncyxtPWwudXNlckRhdGEsZD1sLmVuZW15RGF0YSxbMix7ZGF0YTp7Y3R4Om51bGwsZ2FtZUZpZWxkOnR8fG51bGwsZ2FtZUFjdGlvbkZpZWxkOml8fG51bGwsZ2FtZVVJRmllbGQ6bnx8bnVsbCxnYW1lRGF0YTp7Y3VycmVudExldmVsOnIsY3VycmVudFBvaW50OjAscGxheWVyT2JqZWN0Om5ldyBlKG0sMCwzMDAscywxMDAsMTAwLG0uc2l6ZS53aWR0aCxtLnNpemUuaGVpZ2h0LG0uZGFtYWdlKSxsZXZlbERhdGE6YyxsZXZlbE9iamVjdHM6aCxnYW1lU2V0aW5nczp1LGVuZW15RGF0YTpkLGNvbnRyb2xsZXJzOm51bGx9LHNjcmVlbjp7d2lkdGg6d2luZG93LmlubmVyV2lkdGgsaGVpZ2h0OndpbmRvdy5pbm5lckhlaWdodH0saW50ZXJ2YWxDb3VudDoyMCxlbmVteVR5cGU6bnVsbCxhbGxHYW1lU2lkZU9iamVjdHM6W10sYWxsR2FtZUVuZW1pZXM6W10sYWxsR2FtZUJ1bGxldHM6W10sYWxsR2FtZU1hcE9CamVjdHM6W10sbWFwQmFja2dyb3VuZE9iamVjdHM6W10sd2FycE9iamVjdHM6W10sdGltZVRvRXJlc3NMZXZlbDo2LGxldmVsQ2hhbmdlOiExLGdhbWVQYXVzZTohMSxnYW1lVWlQYXVzZTohMSxiYWNrU2NyZWVuUGF1c2U6ITAsZ2FtZVN0YXR1czohMSxnYW1lT3ZlcjohMSxnZW1lRXh0cmFTZWNvbmRzOjB9fV19fSkpfSkpfXQuc2VydmVyUmVxdWVzdD1vLHQuZ2FtZURhdGFJbml0PXMsdC5nYW1lRW5naW5lPWZ1bmN0aW9uKGUpe3JldHVybiBuKHRoaXMsdm9pZCAwLHZvaWQgMCwoZnVuY3Rpb24oKXtyZXR1cm4gYSh0aGlzLChmdW5jdGlvbihlKXtyZXR1cm5bMl19KSl9KSl9LHQuZ2FtZVN0YXJ0PWZ1bmN0aW9uKCl7dGhpcy5nYW1lSW5pdERhdGEuZ2FtZU92ZXI9ITEsdGhpcy5nYW1lSW5pdERhdGEuZ2FtZVN0YXR1cz0hMH0sdC5iYWNrVG9TdGFydFNjcmVlbj1mdW5jdGlvbihlKXtyZXR1cm4gbih0aGlzLHZvaWQgMCx2b2lkIDAsKGZ1bmN0aW9uKCl7dmFyIHQsaSxuLHIsbyxsO3JldHVybiBhKHRoaXMsKGZ1bmN0aW9uKGEpe3N3aXRjaChhLmxhYmVsKXtjYXNlIDA6cmV0dXJuWzQscyhlKV07Y2FzZSAxOmZvcih0PWEuc2VudCgpLGk9MCxuPU9iamVjdC5lbnRyaWVzKHQuZGF0YSk7aTxuLmxlbmd0aDtpKyspcj1uW2ldLG89clswXSxudWxsIT09KGw9clsxXSkmJih0aGlzLmdhbWVJbml0RGF0YVtvXT1sKTtyZXR1cm4gdGhpcy5nYW1lSW5pdERhdGEuZ2FtZU92ZXI9ITEsdGhpcy5nYW1lSW5pdERhdGEuZ2FtZVN0YXR1cz0hMSxbMl19fSkpfSkpfX0sZnVuY3Rpb24oZSx0LGkpe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLHQudWlJbWFnZT1mdW5jdGlvbihlKXt2YXIgdD1lLnByb3BlcnR5ZXM7dC5jdHguZHJhd0ltYWdlKHQuYmFja2dyb3VuZCwwLDAsdC5zV2lkdGgsdC5zSGVpZ2h0LHQueCx0LnksdC53aWR0aCx0LmhlaWdodCl9LHQudWlUZXh0PWZ1bmN0aW9uKGUpe3ZhciB0PWUucHJvcGVydHllczt0LmN0eC5tZWFzdXJlVGV4dChlLnRleHQpLndpZHRoLHQuY3R4LmZvbnQ9ZS5mb250U2l6ZSx0LmN0eC5maWxsU3R5bGU9dC5ib3JkZXJDb2xvcix0LmN0eC5maWxsVGV4dChlLnRleHQsdC54K3Qud2lkdGgsdC55K3QuaGVpZ2h0KX0sdC51aVJlcGVhdEltYWdlPWZ1bmN0aW9uKGUpe3ZhciB0PWUucHJvcGVydHllcyxpPXQuY3R4LmNyZWF0ZVBhdHRlcm4odC5iYWNrZ3JvdW5kLFwicmVwZWF0LXhcIik7dC5jdHgucmVjdCh0LngsdC55LHQud2lkdGgsdC5oZWlnaHQpLHQuY3R4LmZpbGxTdHlsZT1pLHQuY3R4LmZpbGwoKX19LGZ1bmN0aW9uKGUsdCxpKXtcInVzZSBzdHJpY3RcIjt2YXIgbj10aGlzJiZ0aGlzLl9fYXdhaXRlcnx8ZnVuY3Rpb24oZSx0LGksbil7cmV0dXJuIG5ldyhpfHwoaT1Qcm9taXNlKSkoKGZ1bmN0aW9uKGEscil7ZnVuY3Rpb24gbyhlKXt0cnl7bChuLm5leHQoZSkpfWNhdGNoKGUpe3IoZSl9fWZ1bmN0aW9uIHMoZSl7dHJ5e2wobi50aHJvdyhlKSl9Y2F0Y2goZSl7cihlKX19ZnVuY3Rpb24gbChlKXt2YXIgdDtlLmRvbmU/YShlLnZhbHVlKToodD1lLnZhbHVlLHQgaW5zdGFuY2VvZiBpP3Q6bmV3IGkoKGZ1bmN0aW9uKGUpe2UodCl9KSkpLnRoZW4obyxzKX1sKChuPW4uYXBwbHkoZSx0fHxbXSkpLm5leHQoKSl9KSl9LGE9dGhpcyYmdGhpcy5fX2dlbmVyYXRvcnx8ZnVuY3Rpb24oZSx0KXt2YXIgaSxuLGEscixvPXtsYWJlbDowLHNlbnQ6ZnVuY3Rpb24oKXtpZigxJmFbMF0pdGhyb3cgYVsxXTtyZXR1cm4gYVsxXX0sdHJ5czpbXSxvcHM6W119O3JldHVybiByPXtuZXh0OnMoMCksdGhyb3c6cygxKSxyZXR1cm46cygyKX0sXCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiYocltTeW1ib2wuaXRlcmF0b3JdPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9KSxyO2Z1bmN0aW9uIHMocil7cmV0dXJuIGZ1bmN0aW9uKHMpe3JldHVybiBmdW5jdGlvbihyKXtpZihpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJHZW5lcmF0b3IgaXMgYWxyZWFkeSBleGVjdXRpbmcuXCIpO2Zvcig7bzspdHJ5e2lmKGk9MSxuJiYoYT0yJnJbMF0/bi5yZXR1cm46clswXT9uLnRocm93fHwoKGE9bi5yZXR1cm4pJiZhLmNhbGwobiksMCk6bi5uZXh0KSYmIShhPWEuY2FsbChuLHJbMV0pKS5kb25lKXJldHVybiBhO3N3aXRjaChuPTAsYSYmKHI9WzImclswXSxhLnZhbHVlXSksclswXSl7Y2FzZSAwOmNhc2UgMTphPXI7YnJlYWs7Y2FzZSA0OnJldHVybiBvLmxhYmVsKysse3ZhbHVlOnJbMV0sZG9uZTohMX07Y2FzZSA1Om8ubGFiZWwrKyxuPXJbMV0scj1bMF07Y29udGludWU7Y2FzZSA3OnI9by5vcHMucG9wKCksby50cnlzLnBvcCgpO2NvbnRpbnVlO2RlZmF1bHQ6aWYoIShhPShhPW8udHJ5cykubGVuZ3RoPjAmJmFbYS5sZW5ndGgtMV0pJiYoNj09PXJbMF18fDI9PT1yWzBdKSl7bz0wO2NvbnRpbnVlfWlmKDM9PT1yWzBdJiYoIWF8fHJbMV0+YVswXSYmclsxXTxhWzNdKSl7by5sYWJlbD1yWzFdO2JyZWFrfWlmKDY9PT1yWzBdJiZvLmxhYmVsPGFbMV0pe28ubGFiZWw9YVsxXSxhPXI7YnJlYWt9aWYoYSYmby5sYWJlbDxhWzJdKXtvLmxhYmVsPWFbMl0sby5vcHMucHVzaChyKTticmVha31hWzJdJiZvLm9wcy5wb3AoKSxvLnRyeXMucG9wKCk7Y29udGludWV9cj10LmNhbGwoZSxvKX1jYXRjaChlKXtyPVs2LGVdLG49MH1maW5hbGx5e2k9YT0wfWlmKDUmclswXSl0aHJvdyByWzFdO3JldHVybnt2YWx1ZTpyWzBdP3JbMV06dm9pZCAwLGRvbmU6ITB9fShbcixzXSl9fX07T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIHI9aSg1KTt0Lm5leHRMZXZlbERhdGFSZWxvYWQ9ZnVuY3Rpb24oZSl7cmV0dXJuIG4odGhpcyx2b2lkIDAsdm9pZCAwLChmdW5jdGlvbigpe2Z1bmN0aW9uIHQoZSl7Zm9yKHZhciBuPTAsYT1PYmplY3QuZW50cmllcyhlKTtuPGEubGVuZ3RoO24rKyl7dmFyIHI9YVtuXSxvPXJbMF0scz1yWzFdO1wib2JqZWN0XCIhPXR5cGVvZiBlW29dfHxudWxsPT1zfHxlW29dLmxlbmd0aHx8dChlW29dKSxpLmNhbGwodGhpcyxvLGUpfX1mdW5jdGlvbiBpKGUsdCl7Zm9yKHZhciBpPTAsbj1PYmplY3QuZW50cmllcyhsKTtpPG4ubGVuZ3RoO2krKyl7dmFyIGE9bltpXSxyPWFbMF0sbz1hWzFdO3I9PWUmJm51bGwhPW8mJih0aGlzLmdhbWVJbml0RGF0YVtyXT1vKX19dmFyIG4sbyxzLGw7cmV0dXJuIGEodGhpcywoZnVuY3Rpb24oaSl7c3dpdGNoKGkubGFiZWwpe2Nhc2UgMDpyZXR1cm4gbj1lLmdhbWVEYXRhLmN1cnJlbnRMZXZlbCxbNCxyLnNlcnZlclJlcXVlc3Qoe2xldmVsOm4sc2hpcENvbmZpZ3VyYXRpb246MX0pXTtjYXNlIDE6cmV0dXJuIG89aS5zZW50KCksbD17Z2FtZURhdGE6e2N1cnJlbnRMZXZlbDpuLGN1cnJlbnRQb2ludDoocz10aGlzKS5nYW1lSW5pdERhdGEuZ2FtZURhdGEuY3VycmVudFBvaW50LHBsYXllck9iamVjdDpzLmdhbWVJbml0RGF0YS5nYW1lRGF0YS5wbGF5ZXJPYmplY3QsbGV2ZWxEYXRhOm8ubGV2ZWxEYXRhLGxldmVsT2JqZWN0czpvLmxldmVsT2JqZWN0cyxnYW1lU2V0aW5nczpzLmdhbWVJbml0RGF0YS5nYW1lRGF0YS5nYW1lU2V0aW5ncyxlbmVteURhdGE6by5lbmVteURhdGEsY29udHJvbGxlcnM6cy5nYW1lSW5pdERhdGEuZ2FtZURhdGEuY29udHJvbGxlcnN9LGVuZW15VHlwZTpudWxsLGFsbEdhbWVTaWRlT2JqZWN0czpbXSxhbGxHYW1lRW5lbWllczpbXSxhbGxHYW1lQnVsbGV0czpbXSxhbGxHYW1lTWFwT0JqZWN0czpbXSxtYXBCYWNrZ3JvdW5kT2JqZWN0czpbXSxnYW1lUGF1c2U6ITEsZ2FtZVVpUGF1c2U6ITEsYmFja1NjcmVlblBhdXNlOiEwLGdhbWVPdmVyOiExLGdlbWVFeHRyYVNlY29uZHM6MH0sc2V0VGltZW91dCgoZnVuY3Rpb24oKXtzLmdhbWVJbml0RGF0YS53YXJwT2JqZWN0cz1bXSxzLmdhbWVJbml0RGF0YS50aW1lVG9FcmVzc0xldmVsPTYscy5nYW1lSW5pdERhdGEubGV2ZWxDaGFuZ2U9ITF9KSw1ZTMpLHQuY2FsbCh0aGlzLHRoaXMuZ2FtZUluaXREYXRhKSxbMl19fSkpfSkpfX0sZnVuY3Rpb24oZSx0LGkpe1widXNlIHN0cmljdFwiO3ZhciBuPXRoaXMmJnRoaXMuX19yZXN0fHxmdW5jdGlvbihlLHQpe3ZhciBpPXt9O2Zvcih2YXIgbiBpbiBlKU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChlLG4pJiZ0LmluZGV4T2Yobik8MCYmKGlbbl09ZVtuXSk7aWYobnVsbCE9ZSYmXCJmdW5jdGlvblwiPT10eXBlb2YgT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyl7dmFyIGE9MDtmb3Iobj1PYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKGUpO2E8bi5sZW5ndGg7YSsrKXQuaW5kZXhPZihuW2FdKTwwJiZPYmplY3QucHJvdG90eXBlLnByb3BlcnR5SXNFbnVtZXJhYmxlLmNhbGwoZSxuW2FdKSYmKGlbblthXV09ZVtuW2FdXSl9cmV0dXJuIGl9O09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciBhPWkoMjEpLHI9aSgxKSxvPWkoNDApLHM9ZnVuY3Rpb24oZSl7dmFyIHQ9bihlLFtdKTt0aGlzLmlkPShuZXcgRGF0ZSkuZ2V0VGltZSgpLHRoaXMueD10LngsdGhpcy55PXQueSx0aGlzLnN4PXQuc3gsdGhpcy5zeT10LnN5LHRoaXMuc1dpZHRoPXQuc1dpZHRoLHRoaXMuc0hlaWdodD10LnNIZWlnaHQsdGhpcy5waWN0dXJlc1dpZHRoPXQucGljdHVyZXNXaWR0aCx0aGlzLm51bWJlck9mSXRlbXM9dC5udW1iZXJPZkl0ZW1zLHRoaXMud2lkdGg9dC53aWR0aCx0aGlzLmhlaWdodD10LmhlaWdodCx0aGlzLnNoaXBUZXh0dXJlPV9fZGlybmFtZStcIi9wdWJsaWMvaW1hZ2VzL3NwYWNlU2hpcHMvXCIrdC5zaGlwVGV4dHVyZSx0aGlzLnNwZWVkPXQuc3BlZWQsdGhpcy5zdGF0dXM9dC5zdGF0dXMsdGhpcy5uYW1lPXQubmFtZSx0aGlzLmJ1bGxldFR5cGVOdW1iZXI9dC5idWxsZXRUeXBlTnVtYmVyLHRoaXMucmFwaWRGaXJlPXQucmFwaWRGaXJlLHRoaXMucG9pbnRzUGVyVW5pdD10LnBvaW50c1BlclVuaXQsdGhpcy5oZWFsdGhQb2ludD10LmhlYWx0aFBvaW50LHRoaXMuYW5pbWF0aW9uU3RlcHM9dC5hbmltYXRpb25TdGVwcyx0aGlzLmRhbWFnZT10LmRhbWFnZSx0aGlzLmd1bnM9dC5ndW5zLHRoaXMuZGV0ZWN0RnJhbWU9MCx0aGlzLm9iamVjdFByZXNlbnQ9ITAsdGhpcy5vYmplY3RPd25lcj10Lm9iamVjdE93bmVyLHRoaXMuZ3Vucz10Lmd1bnMsdGhpcy5leHBsb3Npb249dC5leHBsb3Npb24sdGhpcy5udW1iZXJPZlZlcnRpY2FsSXRlbXM9dC5udW1iZXJPZlZlcnRpY2FsSXRlbXMsdGhpcy5vcmlnaW5hbEhlYWx0aFBvaW50PXQuaGVhbHRoUG9pbnQsdGhpcy5pc01vdmU9dC5pc01vdmUsdGhpcy5pc1Nob290PXQuaXNTaG9vdCx0aGlzLnZlcnRpY2FsU3BlZWQ9dC52ZXJ0aWNhbFNwZWVkP3QudmVydGljYWxTcGVlZDpNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkqdC5zcGVlZCsxKSx0aGlzLnNwb3REaXN0YW5jZT10LmlzQm9zcz90LnNwb3REaXN0YW5jZTpNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkqdC5zcG90RGlzdGFuY2UpLHRoaXMueUZpbmFsPTAsdGhpcy54RmluYWw9MCx0aGlzLmJlaGF2aW9yPXQuYmVoYXZpb3IsdGhpcy5kaXJlY3Rpb249bnVsbCx0aGlzLmlzQm9zcz10LmlzQm9zc307dC5FbmVteU9iamVjdD1zLHMucHJvdG90eXBlLnBsYWNlRW5lbXllcz1yLnBsYWNlRW5lbXllcyxzLnByb3RvdHlwZS5tb3ZlRW5lbXllcz1yLm1vdmVFbmVteWVzLHMucHJvdG90eXBlLmxvYWRFbmVteWVzPXIubG9hZEVuZW15ZXMscy5wcm90b3R5cGUuc2hvb3Q9ci5zaG9vdCxzLnByb3RvdHlwZS5lbmVteUFuaW1hdGlvbj1yLmVuZW15QW5pbWF0aW9uLHMucHJvdG90eXBlLmdldE9iamVjdFBvc2l0aW9uPW8uZ2V0T2JqZWN0UG9zaXRpb24scy5wcm90b3R5cGUuZW5lbXlEYW1hZ2VBbmltYXRpb249ci5lbmVteURhbWFnZUFuaW1hdGlvbixzLnByb3RvdHlwZS5lbmVteVNoaXBMb2dpY1ZlcnRpY2FsPWEuZW5lbXlTaGlwTG9naWNWZXJ0aWNhbCxzLnByb3RvdHlwZS5lbmVteVZlcnRpY2FsTW92ZUNhbGN1bGF0aW9uPWEuZW5lbXlWZXJ0aWNhbE1vdmVDYWxjdWxhdGlvbixzLnByb3RvdHlwZS50YWtlRGFtYWdlPXIudGFrZURhbWFnZX0sZnVuY3Rpb24oZSx0LGkpe1widXNlIHN0cmljdFwiO3ZhciBuPXRoaXMmJnRoaXMuX19hc3NpZ258fGZ1bmN0aW9uKCl7cmV0dXJuKG49T2JqZWN0LmFzc2lnbnx8ZnVuY3Rpb24oZSl7Zm9yKHZhciB0LGk9MSxuPWFyZ3VtZW50cy5sZW5ndGg7aTxuO2krKylmb3IodmFyIGEgaW4gdD1hcmd1bWVudHNbaV0pT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHQsYSkmJihlW2FdPXRbYV0pO3JldHVybiBlfSkuYXBwbHkodGhpcyxhcmd1bWVudHMpfTtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSx0LmV4cGxvc2lvbkZpcmU9ZnVuY3Rpb24oZSx0LGksYSl7dmFyIHI9aS54K2kud2lkdGgvMixvPWUueCtlLndpZHRoLzIscz0oTWF0aC5tYXgocixvKSxNYXRoLm1pbihyLG8pLGkueCxlLngse3g6ZS54LWUuZXhwbG9zaW9uLndpZHRoLzIseTplLmJ1bGxldFR5cGU/ZS55LWUuZXhwbG9zaW9uLndpZHRoLzI6ZS55LHN4OjAsc3k6MCxvYmplY3RPd25lcjpcImV4cGxvc2lvblwiLHNXaWR0aDplLmV4cGxvc2lvbi5pbWFnZVdpZHRoL2UuZXhwbG9zaW9uLm51bWJlck9mSXRlbXMsc0hlaWdodDplLmV4cGxvc2lvbi5pbWFnZUhlaWdodCx3aWR0aDoyKmUuZXhwbG9zaW9uLndpZHRoLGhlaWdodDoyKmUuZXhwbG9zaW9uLndpZHRoLGFuaW1hdGlvblN0ZXBzOmUuZXhwbG9zaW9uLmFuaW1hdGlvblN0ZXBzLHRhcmdldDppLm9iamVjdE93bmVyLG51bWJlck9mSXRlbXM6ZS5leHBsb3Npb24uaW1hZ2VXaWR0aC9lLmV4cGxvc2lvbi5udW1iZXJPZkl0ZW1zLHRleHR1cmU6ZS5leHBsb3Npb24udGV4dHVyZSxzcGVlZDppLnNwZWVkLzIscGljdHVyZXNXaWR0aDplLmV4cGxvc2lvbi5pbWFnZVdpZHRofSksbD1uZXcgYShuKHt9LHMpKTtsLmltZy5zcmM9bC50ZXh0dXJlLGwuaW1nLm9ubG9hZD1mdW5jdGlvbigpe3QuZ2FtZUluaXREYXRhLmFsbEdhbWVTaWRlT2JqZWN0cz10LmdhbWVJbml0RGF0YS5hbGxHYW1lU2lkZU9iamVjdHMuY29uY2F0KGwpfX0sdC5maXJlQW5pbWF0aW9uRW5kZWQ9ZnVuY3Rpb24oZSl7dGhpcy5kZXRlY3RGcmFtZSs9MSx0aGlzLmRldGVjdEZyYW1lJXRoaXMuYW5pbWF0aW9uU3RlcHM9PTAmJih0aGlzLmRldGVjdEZyYW1lPTAsdGhpcy5zeCs9dGhpcy5zV2lkdGgsdGhpcy5zeD49dGhpcy5waWN0dXJlc1dpZHRoJiYodGhpcy5vYmplY3RQcmVzZW50PSExLHRoaXMuc3g9MCkpLHRoaXMuc3g+PXRoaXMucGljdHVyZXNXaWR0aCYmKHRoaXMuYW5pbWF0aW9uU3RhdGU9ITEpfSx0Lm1hcE9iamVjdE1vdmU9ZnVuY3Rpb24oKXt0aGlzLngtPXRoaXMuc3BlZWQ/dGhpcy5zcGVlZDozfSx0Lm1hcFJhbm9tT2JqZWN0U3Bhd249ZnVuY3Rpb24oZSx0LGkpe3RoaXMuZ2V0U2Vjb25kTWVhc3VyZSgoZnVuY3Rpb24oZSx0LGkpe3ZhciBhPXRoaXMscj10aGlzLnNob3dHYW1lSW5mbygpLmdhbWVEYXRhLmxldmVsRGF0YTtpZih0aGlzLmdhbWVSYW5kb21pemVyKHIub2JqZWN0UHJvYmFiaWxpdHkpPHIub2JqZWN0TWluVGltZVNwYXduKXt2YXIgbz10aGlzLmdldFNjcmVlblNpemUoKSxzPWVbdGhpcy5nYW1lUmFuZG9taXplcihlLmxlbmd0aCldLGw9XCJib3R0b21cIj09cy5zcGF3bkRldGFpbHMucG9zaXRpb24mJlwic3RyaW5nXCI9PXR5cGVvZiBzLnNwYXduRGV0YWlscy5wb3NpdGlvbj9vLmhlaWdodC10aGlzLmdhbWVSYW5kb21pemVyKHMuaGVpZ2h0KTpcInRvcFwiPT1zLnNwYXduRGV0YWlscy5wb3NpdGlvbiYmXCJzdHJpbmdcIj09dHlwZW9mIHMuc3Bhd25EZXRhaWxzLnBvc2l0aW9uP3RoaXMuZ2FtZVJhbmRvbWl6ZXIocy5oZWlnaHQpOlwic3RyaW5nXCI9PXR5cGVvZiBzLnNwYXduRGV0YWlscy5wb3NpdGlvbj90aGlzLmdhbWVSYW5kb21pemVyKG8uaGVpZ2h0KTpzLnNwYXduRGV0YWlscy5wb3NpdGlvbixjPXt4Om8ud2lkdGgseTpsLHN4OjAsc3k6MCxvYmplY3RPd25lcjpzLm9iamVjdE93bmVyLHNXaWR0aDpzLmltYWdlV2lkdGgvcy5udW1iZXJPZkl0ZW1zLHNIZWlnaHQ6cy5pbWFnZUhlaWdodCx3aWR0aDpzLndpZHRoLGhlaWdodDpzLmhlaWdodCxhbmltYXRpb25TdGVwczpzLmFuaW1hdGlvblN0ZXBzLHRhcmdldDpudWxsLG51bWJlck9mSXRlbXM6cy5udW1iZXJPZkl0ZW1zLHRleHR1cmU6cy5za2luTmFtZSxzcGVlZDpzLnNwZWVkLHBpY3R1cmVzV2lkdGg6cy5pbWFnZVdpZHRoLGhlYWx0aFBvaW50OnMuaGVhbHRoUG9pbnQsZGFtYWdlOnMuZGFtYWdlLGlzQmFja2dyb3VuZDpzLmlzQmFja2dyb3VuZCxleHBsb3Npb246cy5leHBsb3Npb25BbmltYXRpb24scG9pbnRzUGVyVW5pdDpzLnBvaW50c1BlclVuaXR9LGg9bmV3IHQobih7fSxjKSk7aC5pbWcuc3JjPWgudGV4dHVyZSxoLmltZy5vbmxvYWQ9ZnVuY3Rpb24oKXthLmdhbWVJbml0RGF0YS5hbGxHYW1lU2lkZU9iamVjdHM9YS5nYW1lSW5pdERhdGEuYWxsR2FtZVNpZGVPYmplY3RzLmNvbmNhdChoKX19fSksZSx0LGkpfX0sZnVuY3Rpb24oZSx0LGkpe1widXNlIHN0cmljdFwiO3ZhciBuPXRoaXMmJnRoaXMuX19pbXBvcnRTdGFyfHxmdW5jdGlvbihlKXtpZihlJiZlLl9fZXNNb2R1bGUpcmV0dXJuIGU7dmFyIHQ9e307aWYobnVsbCE9ZSlmb3IodmFyIGkgaW4gZSlPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChlLGkpJiYodFtpXT1lW2ldKTtyZXR1cm4gdC5kZWZhdWx0PWUsdH07T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIGE9bihpKDMpKSxyPW4oaSgyNCkpO3QuaW5pdFBsYXllclNoaXA9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcztpZih0aGlzLmN0eCl7dmFyIGk9dGhpcy5kYXRhLnRleHR1cmUsbj1lLnNob3dHYW1lSW5mbygpLmltYWdlRGlycmVjdGlvbjt0aGlzLmltZz1uZXcgSW1hZ2UsdGhpcy5pbWcub25sb2FkPWZ1bmN0aW9uKCl7cmV0dXJuIHQucGxhY2VQbGF5ZXJTaGlwJiZ0LnBsYWNlUGxheWVyU2hpcCgpLHQuaW1nfSx0aGlzLmltZy5zcmM9bitpfX0sdC5tb3ZlUGxheWVyU2hpcD1mdW5jdGlvbigpe3RoaXMuaW1nJiZ0aGlzLmN0eCYmdGhpcy5pbWcmJnIuY3JlYXRlSW1hZ2UodGhpcy5jdHgsdGhpcy5pbWcsdGhpcy54LHRoaXMueSx0aGlzLndpZHRoLHRoaXMuaGVpZ2h0KX0sdC5zaGlwQ29udHJvbD1mdW5jdGlvbihlKXt2YXIgdD10aGlzLGk9ZS5nYW1lSW5pdERhdGEuZ2FtZURhdGEuZ2FtZVNldGluZ3Mua2V5Q29udHJvbHM7ZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIiwoZnVuY3Rpb24obil7aWYoZS5nYW1lSW5pdERhdGEuZ2FtZVBhdXNlKXJldHVybiExO2kuZG93bi5zb21lKChmdW5jdGlvbihlKXtyZXR1cm4gbi5rZXlDb2RlPT1lfSkpJiZ0Lm1vdmVTaGlwKHt4UG9zOjAseVBvczp0LmRhdGEuc3BlZWR9KSxpLmxlZnQuc29tZSgoZnVuY3Rpb24oZSl7cmV0dXJuIG4ua2V5Q29kZT09ZX0pKSYmdC5tb3ZlU2hpcCh7eFBvczotMSp0LmRhdGEuc3BlZWQseVBvczowfSksaS5yaWdodC5zb21lKChmdW5jdGlvbihlKXtyZXR1cm4gbi5rZXlDb2RlPT1lfSkpJiZ0Lm1vdmVTaGlwKHt4UG9zOnQuZGF0YS5zcGVlZCx5UG9zOjB9KSxpLnVwLnNvbWUoKGZ1bmN0aW9uKGUpe3JldHVybiBuLmtleUNvZGU9PWV9KSkmJnQubW92ZVNoaXAoe3hQb3M6MCx5UG9zOi0xKnQuZGF0YS5zcGVlZH0pfSkpLGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZW1vdmVcIiwoZnVuY3Rpb24oaSl7aWYoZS5nYW1lSW5pdERhdGEuZ2FtZVBhdXNlKXJldHVybiExO2lmKFwiQ0FOVkFTXCI9PT1pLnRhcmdldC50YWdOYW1lJiYhZS5nYW1lSW5pdERhdGEuZ2FtZVBhdXNlJiZlLmdhbWVJbml0RGF0YS5nYW1lU3RhdHVzKXt2YXIgbj1pLmNsaWVudFgtaS50YXJnZXQub2Zmc2V0TGVmdCxhPWkuY2xpZW50WS1pLnRhcmdldC5vZmZzZXRUb3A7dC54RmluYWw9KG4ldC5kYXRhLnNwZWVkPT0wP246dC5kYXRhLnNwZWVkKk1hdGguZmxvb3Iobi90LmRhdGEuc3BlZWQpKS10LndpZHRoLzIsdC55RmluYWw9KGEldC5kYXRhLnNwZWVkPT0wP2E6dC5kYXRhLnNwZWVkKk1hdGguZmxvb3IoYS90LmRhdGEuc3BlZWQpKS10LmhlaWdodC8yfX0pKSxkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwoZnVuY3Rpb24oaSl7aWYoZS5nYW1lSW5pdERhdGEuZ2FtZVBhdXNlKXJldHVybiExO2Zvcih2YXIgbj1mdW5jdGlvbihpKXt2YXIgbj1uZXcgYS5CdWxsZXRDb25zdHJ1Y3QodC54LHQueStpLmZpcmVQb3NpdGlvbixpLm5hbWUsaS5jb2xvcixcInBsYXllclwiLGkuc3BlZWQrdC54QWRqLGkud2lkdGgsaS5oZWlnaHQsaS5kYW1hZ2UsaS50eXBlLGkudGV4dHVyZSxpLnN4LGkuc3ksaS5zV2lkdGgsaS5zSGVpZ2h0LGkuZXhwbG9zaW9uQW5pbWF0aW9uKTtuLmltZy5zcmM9bi50ZXh0dXJlLG4uaW1nLm9ubG9hZD1mdW5jdGlvbigpe2UuZ2FtZUluaXREYXRhLmFsbEdhbWVCdWxsZXRzPWUuZ2FtZUluaXREYXRhLmFsbEdhbWVCdWxsZXRzLmNvbmNhdChuKX19LHI9MCxvPXQuZGF0YS5ndW5zO3I8by5sZW5ndGg7cisrKXtuKG9bcl0pfX0pKX0sdC5zZXRDb250ZXh0PWZ1bmN0aW9uKGUpe3RoaXMuY3R4PWV9LHQucGxhY2VTaGlwPWZ1bmN0aW9uKCl7dmFyIGU9KHRoaXMueEZpbmFsLXRoaXMueCkvdGhpcy5kYXRhLnNwZWVkLHQ9KHRoaXMueUZpbmFsLXRoaXMueSkvdGhpcy5kYXRhLnNwZWVkO2U9TWF0aC5zaWduKGUpPjA/ZTotMSplLHQ9TWF0aC5zaWduKHQpPjA/dDotMSp0LGU9ZT50aGlzLmRhdGEubWluU3BlZWQ/dGhpcy5kYXRhLm1pblNwZWVkOmUsdD10PnRoaXMuZGF0YS5taW5TcGVlZD90aGlzLmRhdGEubWluU3BlZWQ6dCx0aGlzLnhBZGo9dGhpcy54PnRoaXMueEZpbmFsPzA6ZSx0aGlzLng9dGhpcy54PnRoaXMueEZpbmFsP3RoaXMueC1lOnRoaXMueDx0aGlzLnhGaW5hbD90aGlzLngrZTp0aGlzLnhGaW5hbCx0aGlzLnk9dGhpcy55PnRoaXMueUZpbmFsP3RoaXMueS10OnRoaXMueTx0aGlzLnlGaW5hbD90aGlzLnkrdDp0aGlzLnlGaW5hbH0sdC5tb3ZlU2hpcD1mdW5jdGlvbihlKXt2YXIgdD1lLnhQb3MsaT12b2lkIDA9PT10PzA6dCxuPWUueVBvcyxhPXZvaWQgMD09PW4/MDpuO3RoaXMueCs9aSx0aGlzLnkrPWF9fSxmdW5jdGlvbihlLHQsaSl7XCJ1c2Ugc3RyaWN0XCI7dmFyIG49dGhpcyYmdGhpcy5fX2F3YWl0ZXJ8fGZ1bmN0aW9uKGUsdCxpLG4pe3JldHVybiBuZXcoaXx8KGk9UHJvbWlzZSkpKChmdW5jdGlvbihhLHIpe2Z1bmN0aW9uIG8oZSl7dHJ5e2wobi5uZXh0KGUpKX1jYXRjaChlKXtyKGUpfX1mdW5jdGlvbiBzKGUpe3RyeXtsKG4udGhyb3coZSkpfWNhdGNoKGUpe3IoZSl9fWZ1bmN0aW9uIGwoZSl7dmFyIHQ7ZS5kb25lP2EoZS52YWx1ZSk6KHQ9ZS52YWx1ZSx0IGluc3RhbmNlb2YgaT90Om5ldyBpKChmdW5jdGlvbihlKXtlKHQpfSkpKS50aGVuKG8scyl9bCgobj1uLmFwcGx5KGUsdHx8W10pKS5uZXh0KCkpfSkpfSxhPXRoaXMmJnRoaXMuX19nZW5lcmF0b3J8fGZ1bmN0aW9uKGUsdCl7dmFyIGksbixhLHIsbz17bGFiZWw6MCxzZW50OmZ1bmN0aW9uKCl7aWYoMSZhWzBdKXRocm93IGFbMV07cmV0dXJuIGFbMV19LHRyeXM6W10sb3BzOltdfTtyZXR1cm4gcj17bmV4dDpzKDApLHRocm93OnMoMSkscmV0dXJuOnMoMil9LFwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmKHJbU3ltYm9sLml0ZXJhdG9yXT1mdW5jdGlvbigpe3JldHVybiB0aGlzfSkscjtmdW5jdGlvbiBzKHIpe3JldHVybiBmdW5jdGlvbihzKXtyZXR1cm4gZnVuY3Rpb24ocil7aWYoaSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiR2VuZXJhdG9yIGlzIGFscmVhZHkgZXhlY3V0aW5nLlwiKTtmb3IoO287KXRyeXtpZihpPTEsbiYmKGE9MiZyWzBdP24ucmV0dXJuOnJbMF0/bi50aHJvd3x8KChhPW4ucmV0dXJuKSYmYS5jYWxsKG4pLDApOm4ubmV4dCkmJiEoYT1hLmNhbGwobixyWzFdKSkuZG9uZSlyZXR1cm4gYTtzd2l0Y2gobj0wLGEmJihyPVsyJnJbMF0sYS52YWx1ZV0pLHJbMF0pe2Nhc2UgMDpjYXNlIDE6YT1yO2JyZWFrO2Nhc2UgNDpyZXR1cm4gby5sYWJlbCsrLHt2YWx1ZTpyWzFdLGRvbmU6ITF9O2Nhc2UgNTpvLmxhYmVsKyssbj1yWzFdLHI9WzBdO2NvbnRpbnVlO2Nhc2UgNzpyPW8ub3BzLnBvcCgpLG8udHJ5cy5wb3AoKTtjb250aW51ZTtkZWZhdWx0OmlmKCEoYT0oYT1vLnRyeXMpLmxlbmd0aD4wJiZhW2EubGVuZ3RoLTFdKSYmKDY9PT1yWzBdfHwyPT09clswXSkpe289MDtjb250aW51ZX1pZigzPT09clswXSYmKCFhfHxyWzFdPmFbMF0mJnJbMV08YVszXSkpe28ubGFiZWw9clsxXTticmVha31pZig2PT09clswXSYmby5sYWJlbDxhWzFdKXtvLmxhYmVsPWFbMV0sYT1yO2JyZWFrfWlmKGEmJm8ubGFiZWw8YVsyXSl7by5sYWJlbD1hWzJdLG8ub3BzLnB1c2gocik7YnJlYWt9YVsyXSYmby5vcHMucG9wKCksby50cnlzLnBvcCgpO2NvbnRpbnVlfXI9dC5jYWxsKGUsbyl9Y2F0Y2goZSl7cj1bNixlXSxuPTB9ZmluYWxseXtpPWE9MH1pZig1JnJbMF0pdGhyb3cgclsxXTtyZXR1cm57dmFsdWU6clswXT9yWzFdOnZvaWQgMCxkb25lOiEwfX0oW3Isc10pfX19LHI9dGhpcyYmdGhpcy5fX2ltcG9ydFN0YXJ8fGZ1bmN0aW9uKGUpe2lmKGUmJmUuX19lc01vZHVsZSlyZXR1cm4gZTt2YXIgdD17fTtpZihudWxsIT1lKWZvcih2YXIgaSBpbiBlKU9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsaSkmJih0W2ldPWVbaV0pO3JldHVybiB0LmRlZmF1bHQ9ZSx0fTtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSxpKDEyKTtpKDE2KTt2YXIgbz1yKGkoMTgpKSxzPXIoaSgzKSksbD1pKDApOyFmdW5jdGlvbigpe24odGhpcyx2b2lkIDAsdm9pZCAwLChmdW5jdGlvbigpe2Z1bmN0aW9uIGUoKXtyZXR1cm4gbih0aGlzLHZvaWQgMCx2b2lkIDAsKGZ1bmN0aW9uKCl7dmFyIGUsdCxuLG8sYyxoLHUsbSxkLGcscCxmO3JldHVybiBhKHRoaXMsKGZ1bmN0aW9uKGEpe2lmKGkuZ2FtZUluaXREYXRhLmN0eFVJRmllbGQmJmwuY2xlYXJGaWVsZChpLmdhbWVJbml0RGF0YS5jdHhVSUZpZWxkLGkuZ2FtZUluaXREYXRhLnNjcmVlbi53aWR0aCxpLmdhbWVJbml0RGF0YS5zY3JlZW4uaGVpZ2h0KSxpLmdhbWVJbml0RGF0YS5jdHhBY3Rpb25GaWVsZCYmIWkuZ2FtZUluaXREYXRhLmdhbWVQYXVzZSYmbC5jbGVhckZpZWxkKGkuZ2FtZUluaXREYXRhLmN0eEFjdGlvbkZpZWxkLGkuZ2FtZUluaXREYXRhLnNjcmVlbi53aWR0aCxpLmdhbWVJbml0RGF0YS5zY3JlZW4uaGVpZ2h0KSxpLmdhbWVJbml0RGF0YS5iYWNrU2NyZWVuUGF1c2UmJmkubGV2ZWxJbml0KHMuR2FtZUJhY2tncm91bmQsaS5nYW1lSW5pdERhdGEuY3R4LGkpLCFpLmdhbWVJbml0RGF0YS5nYW1lUGF1c2UmJmkuZ2FtZUluaXREYXRhLmdhbWVTdGF0dXMmJmkuZ2FtZUluaXREYXRhLmdhbWVTdGF0dXMpe2lmKGkuZ2FtZUluaXREYXRhLmxldmVsQ2hhbmdlfHxpLnNwYXduRW5lbXlMb2dpYyhzLkVuZW15T2JqZWN0KSxpLmdhbWVJbml0RGF0YS5hbGxHYW1lQnVsbGV0cy5sZW5ndGg+MClmb3IoZT0wLHQ9aS5nYW1lSW5pdERhdGEuYWxsR2FtZUJ1bGxldHM7ZTx0Lmxlbmd0aDtlKyspKG49dFtlXSkubW92ZUJ1bGxldHMocixpKSxuLmNyZWF0ZUJ1bGxldHMoaSksaS5kZWxldGVCdWxsZXQobiksaS5oaXREZXRlY3Rpb24obixpLmdhbWVJbml0RGF0YS5hbGxHYW1lRW5lbWllcyxpKSxpLmhpdERldGVjdGlvbihyLFtuXSxpKSxpLmhpdERldGVjdGlvbihuLGkuZ2FtZUluaXREYXRhLmFsbEdhbWVTaWRlT2JqZWN0cyxpKTtpZihpLmdhbWVJbml0RGF0YS5hbGxHYW1lRW5lbWllcy5sZW5ndGg+MClmb3Iobz0wLGM9aS5nYW1lSW5pdERhdGEuYWxsR2FtZUVuZW1pZXM7bzxjLmxlbmd0aDtvKyspKGg9Y1tvXSkucGxhY2VFbmVteWVzKGkpLGgubW92ZUVuZW15ZXMoKSxoLmVuZW15U2hpcExvZ2ljVmVydGljYWwoe3g6ci54LHk6ci55fSxpKSxoLmVuZW15QW5pbWF0aW9uKCEwKSxoLnNob290KHMuQnVsbGV0Q29uc3RydWN0LGkpLGkuZGVsZXRlT2JqZWN0cyhoKSxpLmhpdERldGVjdGlvbihyLFtoXSxpKTtpZihpLmdhbWVJbml0RGF0YS5nYW1lT3Zlcnx8KHIucGxhY2VTaGlwKCksci5tb3ZlUGxheWVyU2hpcCgpKSxpLmdhbWVJbml0RGF0YS5hbGxHYW1lU2lkZU9iamVjdHMubGVuZ3RoPjApZm9yKHU9MCxtPWkuZ2FtZUluaXREYXRhLmFsbEdhbWVTaWRlT2JqZWN0czt1PG0ubGVuZ3RoO3UrKykoZD1tW3VdKS5wbGFjZUVuZW15ZXMoaSksXCJleHBsb3Npb25cIj09ZC5vYmplY3RPd25lcj9kLmZpcmVBbmltYXRpb25FbmRlZChpLmdhbWVJbml0RGF0YS5hbGxHYW1lU2lkZU9iamVjdHMpOihcImVuZW15XCIhPWQub2JqZWN0T3duZXImJlwiY29sbGlkZVwiIT1kLm9iamVjdE93bmVyfHxpLmhpdERldGVjdGlvbihyLFtkXSxpKSxkLmVuZW15QW5pbWF0aW9uKCkpLGQubWFwT2JqZWN0TW92ZSgpLGkuZGVsYXRlU2lkZU9iamVjdChkKTtpLmdhbWVJbml0RGF0YS5nYW1lRGF0YS5sZXZlbE9iamVjdHMmJmkubWFwUmFub21PYmplY3RTcGF3bihpLmdhbWVJbml0RGF0YS5nYW1lRGF0YS5sZXZlbE9iamVjdHMscy5TaWRlT2JqZWN0LGkuZ2FtZUluaXREYXRhLmFsbEdhbWVTaWRlT2JqZWN0cyksaS5nYW1lU2Vjb25kc0luY3JlYXNlKCksaS5sZXZlbFRpbWVyKCl9aWYoIShpLmdhbWVJbml0RGF0YS5iYWNrU2NyZWVuUGF1c2UmJmkuZ2FtZUluaXREYXRhLmdhbWVQYXVzZSYmaS5nYW1lSW5pdERhdGEuZ2FtZVN0YXR1c3x8aS5nYW1lSW5pdERhdGEuZ2FtZVBhdXNlJiZpLmdhbWVJbml0RGF0YS5nYW1lU3RhdHVzKSl7Zm9yKGkuZ2FtZUluaXREYXRhLmN0eCYmbC5jbGVhckZpZWxkKGkuZ2FtZUluaXREYXRhLmN0eCxpLmdhbWVJbml0RGF0YS5zY3JlZW4ud2lkdGgsaS5nYW1lSW5pdERhdGEuc2NyZWVuLmhlaWdodCksZz0wLHA9aS5nYW1lSW5pdERhdGEubWFwQmFja2dyb3VuZE9iamVjdHM7ZzxwLmxlbmd0aDtnKyspKGY9cFtnXSkudXBkYXRlTWFwKCksZi5jaGFuZ2VQYXJ0T2ZUZXh0dXJlKGksaS5nYW1lSW5pdERhdGEubWFwQmFja2dyb3VuZE9iamVjdHMpO2kuZ2FtZUluaXREYXRhLmxldmVsQ2hhbmdlJiZpLndhcnBFZmZlY3QoKX1yZXR1cm4gaS5nYW1lSW5pdERhdGEuZ2FtZVN0YXR1c3x8aS5zaG93U3RhcnRXaW5kb3coKSxpLmdhbWVJbml0RGF0YS5nYW1lU3RhdHVzJiZpLnNob3dHYW1lU3RhdHMoKSxpLmdhbWVJbml0RGF0YS5nYW1lUGF1c2UmJmkuc2hvd1BhdXNlV2luZG93KCksaS5nYW1lSW5pdERhdGEuZ2FtZVVpUGF1c2UmJihpLnNob3dNZW51V2luZG93KCksaS5zaG93UGF1c2VXaW5kb3coKSksaS5nYW1lSW5pdERhdGEuZ2FtZU92ZXImJmkuZ2FtZU92ZXJXaW5kb3coKSxbMl19KSl9KSl9dmFyIHQsaSxyLGM7cmV0dXJuIGEodGhpcywoZnVuY3Rpb24obil7c3dpdGNoKG4ubGFiZWwpe2Nhc2UgMDpyZXR1cm5bNCxvLmdhbWVEYXRhSW5pdChzLlBsYXllclNoaXApXTtjYXNlIDE6cmV0dXJuIHQ9bi5zZW50KCksWzQsbmV3IHMuR2FtZSh0LmRhdGEpXTtjYXNlIDI6cmV0dXJuIGk9bi5zZW50KCkscj1pLmdhbWVJbml0RGF0YS5nYW1lRGF0YS5wbGF5ZXJPYmplY3Qsc2V0SW50ZXJ2YWwoZSxpLmdhbWVJbml0RGF0YS5pbnRlcnZhbENvdW50KSxpLnVpQ29udHJvbGxlcigpLGkuc2V0R2FtZUZpZWxkcygpLGkuZ2V0U2NyZWVuU2l6ZSgpLGM9aS5yZXR1cm5Db250ZXh0KCksci5jdHg9Yy5nYW1lQWN0aW9uRmllbGQsci5pbml0UGxheWVyU2hpcChpKSxyLnNoaXBDb250cm9sKGkpLFsyXX19KSl9KSl9KCl9LGZ1bmN0aW9uKGUsdCxpKXt2YXIgbj1pKDEzKSxhPWkoMTQpO1wic3RyaW5nXCI9PXR5cGVvZihhPWEuX19lc01vZHVsZT9hLmRlZmF1bHQ6YSkmJihhPVtbZS5pLGEsXCJcIl1dKTt2YXIgcj17aW5zZXJ0OlwiaGVhZFwiLHNpbmdsZXRvbjohMX0sbz0obihhLHIpLGEubG9jYWxzP2EubG9jYWxzOnt9KTtlLmV4cG9ydHM9b30sZnVuY3Rpb24oZSx0LGkpe1widXNlIHN0cmljdFwiO3ZhciBuLGE9ZnVuY3Rpb24oKXtyZXR1cm4gdm9pZCAwPT09biYmKG49Qm9vbGVhbih3aW5kb3cmJmRvY3VtZW50JiZkb2N1bWVudC5hbGwmJiF3aW5kb3cuYXRvYikpLG59LHI9ZnVuY3Rpb24oKXt2YXIgZT17fTtyZXR1cm4gZnVuY3Rpb24odCl7aWYodm9pZCAwPT09ZVt0XSl7dmFyIGk9ZG9jdW1lbnQucXVlcnlTZWxlY3Rvcih0KTtpZih3aW5kb3cuSFRNTElGcmFtZUVsZW1lbnQmJmkgaW5zdGFuY2VvZiB3aW5kb3cuSFRNTElGcmFtZUVsZW1lbnQpdHJ5e2k9aS5jb250ZW50RG9jdW1lbnQuaGVhZH1jYXRjaChlKXtpPW51bGx9ZVt0XT1pfXJldHVybiBlW3RdfX0oKSxvPVtdO2Z1bmN0aW9uIHMoZSl7Zm9yKHZhciB0PS0xLGk9MDtpPG8ubGVuZ3RoO2krKylpZihvW2ldLmlkZW50aWZpZXI9PT1lKXt0PWk7YnJlYWt9cmV0dXJuIHR9ZnVuY3Rpb24gbChlLHQpe2Zvcih2YXIgaT17fSxuPVtdLGE9MDthPGUubGVuZ3RoO2ErKyl7dmFyIHI9ZVthXSxsPXQuYmFzZT9yWzBdK3QuYmFzZTpyWzBdLGM9aVtsXXx8MCxoPVwiXCIuY29uY2F0KGwsXCIgXCIpLmNvbmNhdChjKTtpW2xdPWMrMTt2YXIgdT1zKGgpLG09e2NzczpyWzFdLG1lZGlhOnJbMl0sc291cmNlTWFwOnJbM119Oy0xIT09dT8ob1t1XS5yZWZlcmVuY2VzKyssb1t1XS51cGRhdGVyKG0pKTpvLnB1c2goe2lkZW50aWZpZXI6aCx1cGRhdGVyOmYobSx0KSxyZWZlcmVuY2VzOjF9KSxuLnB1c2goaCl9cmV0dXJuIG59ZnVuY3Rpb24gYyhlKXt2YXIgdD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic3R5bGVcIiksbj1lLmF0dHJpYnV0ZXN8fHt9O2lmKHZvaWQgMD09PW4ubm9uY2Upe3ZhciBhPWkubmM7YSYmKG4ubm9uY2U9YSl9aWYoT2JqZWN0LmtleXMobikuZm9yRWFjaCgoZnVuY3Rpb24oZSl7dC5zZXRBdHRyaWJ1dGUoZSxuW2VdKX0pKSxcImZ1bmN0aW9uXCI9PXR5cGVvZiBlLmluc2VydCllLmluc2VydCh0KTtlbHNle3ZhciBvPXIoZS5pbnNlcnR8fFwiaGVhZFwiKTtpZighbyl0aHJvdyBuZXcgRXJyb3IoXCJDb3VsZG4ndCBmaW5kIGEgc3R5bGUgdGFyZ2V0LiBUaGlzIHByb2JhYmx5IG1lYW5zIHRoYXQgdGhlIHZhbHVlIGZvciB0aGUgJ2luc2VydCcgcGFyYW1ldGVyIGlzIGludmFsaWQuXCIpO28uYXBwZW5kQ2hpbGQodCl9cmV0dXJuIHR9dmFyIGgsdT0oaD1bXSxmdW5jdGlvbihlLHQpe3JldHVybiBoW2VdPXQsaC5maWx0ZXIoQm9vbGVhbikuam9pbihcIlxcblwiKX0pO2Z1bmN0aW9uIG0oZSx0LGksbil7dmFyIGE9aT9cIlwiOm4ubWVkaWE/XCJAbWVkaWEgXCIuY29uY2F0KG4ubWVkaWEsXCIge1wiKS5jb25jYXQobi5jc3MsXCJ9XCIpOm4uY3NzO2lmKGUuc3R5bGVTaGVldCllLnN0eWxlU2hlZXQuY3NzVGV4dD11KHQsYSk7ZWxzZXt2YXIgcj1kb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShhKSxvPWUuY2hpbGROb2RlcztvW3RdJiZlLnJlbW92ZUNoaWxkKG9bdF0pLG8ubGVuZ3RoP2UuaW5zZXJ0QmVmb3JlKHIsb1t0XSk6ZS5hcHBlbmRDaGlsZChyKX19ZnVuY3Rpb24gZChlLHQsaSl7dmFyIG49aS5jc3MsYT1pLm1lZGlhLHI9aS5zb3VyY2VNYXA7aWYoYT9lLnNldEF0dHJpYnV0ZShcIm1lZGlhXCIsYSk6ZS5yZW1vdmVBdHRyaWJ1dGUoXCJtZWRpYVwiKSxyJiZidG9hJiYobis9XCJcXG4vKiMgc291cmNlTWFwcGluZ1VSTD1kYXRhOmFwcGxpY2F0aW9uL2pzb247YmFzZTY0LFwiLmNvbmNhdChidG9hKHVuZXNjYXBlKGVuY29kZVVSSUNvbXBvbmVudChKU09OLnN0cmluZ2lmeShyKSkpKSxcIiAqL1wiKSksZS5zdHlsZVNoZWV0KWUuc3R5bGVTaGVldC5jc3NUZXh0PW47ZWxzZXtmb3IoO2UuZmlyc3RDaGlsZDspZS5yZW1vdmVDaGlsZChlLmZpcnN0Q2hpbGQpO2UuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUobikpfX12YXIgZz1udWxsLHA9MDtmdW5jdGlvbiBmKGUsdCl7dmFyIGksbixhO2lmKHQuc2luZ2xldG9uKXt2YXIgcj1wKys7aT1nfHwoZz1jKHQpKSxuPW0uYmluZChudWxsLGksciwhMSksYT1tLmJpbmQobnVsbCxpLHIsITApfWVsc2UgaT1jKHQpLG49ZC5iaW5kKG51bGwsaSx0KSxhPWZ1bmN0aW9uKCl7IWZ1bmN0aW9uKGUpe2lmKG51bGw9PT1lLnBhcmVudE5vZGUpcmV0dXJuITE7ZS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGUpfShpKX07cmV0dXJuIG4oZSksZnVuY3Rpb24odCl7aWYodCl7aWYodC5jc3M9PT1lLmNzcyYmdC5tZWRpYT09PWUubWVkaWEmJnQuc291cmNlTWFwPT09ZS5zb3VyY2VNYXApcmV0dXJuO24oZT10KX1lbHNlIGEoKX19ZS5leHBvcnRzPWZ1bmN0aW9uKGUsdCl7KHQ9dHx8e30pLnNpbmdsZXRvbnx8XCJib29sZWFuXCI9PXR5cGVvZiB0LnNpbmdsZXRvbnx8KHQuc2luZ2xldG9uPWEoKSk7dmFyIGk9bChlPWV8fFtdLHQpO3JldHVybiBmdW5jdGlvbihlKXtpZihlPWV8fFtdLFwiW29iamVjdCBBcnJheV1cIj09PU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChlKSl7Zm9yKHZhciBuPTA7bjxpLmxlbmd0aDtuKyspe3ZhciBhPXMoaVtuXSk7b1thXS5yZWZlcmVuY2VzLS19Zm9yKHZhciByPWwoZSx0KSxjPTA7YzxpLmxlbmd0aDtjKyspe3ZhciBoPXMoaVtjXSk7MD09PW9baF0ucmVmZXJlbmNlcyYmKG9baF0udXBkYXRlcigpLG8uc3BsaWNlKGgsMSkpfWk9cn19fX0sZnVuY3Rpb24oZSx0LGkpeyh0PWkoMTUpKCExKSkucHVzaChbZS5pLFwiYm9keXtmb250LWZhbWlseTonUm9ib3RvJztjb2xvcjpvcmFuZ2U7YmFja2dyb3VuZDojMzMzO21hcmdpbjowO3BhZGRpbmc6MH1jYW52YXN7Y3Vyc29yOmNyb3NzaGFpcn0uZ2FtZUJhY2tncm91bmR7YmFja2dyb3VuZDojMDAwfS5nYW1lLWZpZWxkc3twb3NpdGlvbjphYnNvbHV0ZX0uZ2FtZS1maWVsZC13cmFwcGVye2Rpc3BsYXk6ZmxleDtqdXN0aWZ5LWNvbnRlbnQ6Y2VudGVyO2hlaWdodDoxMDB2aDthbGlnbi1pdGVtczpjZW50ZXJ9XFxuXCIsXCJcIl0pLGUuZXhwb3J0cz10fSxmdW5jdGlvbihlLHQsaSl7XCJ1c2Ugc3RyaWN0XCI7ZS5leHBvcnRzPWZ1bmN0aW9uKGUpe3ZhciB0PVtdO3JldHVybiB0LnRvU3RyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubWFwKChmdW5jdGlvbih0KXt2YXIgaT1mdW5jdGlvbihlLHQpe3ZhciBpPWVbMV18fFwiXCIsbj1lWzNdO2lmKCFuKXJldHVybiBpO2lmKHQmJlwiZnVuY3Rpb25cIj09dHlwZW9mIGJ0b2Epe3ZhciBhPShvPW4scz1idG9hKHVuZXNjYXBlKGVuY29kZVVSSUNvbXBvbmVudChKU09OLnN0cmluZ2lmeShvKSkpKSxsPVwic291cmNlTWFwcGluZ1VSTD1kYXRhOmFwcGxpY2F0aW9uL2pzb247Y2hhcnNldD11dGYtODtiYXNlNjQsXCIuY29uY2F0KHMpLFwiLyojIFwiLmNvbmNhdChsLFwiICovXCIpKSxyPW4uc291cmNlcy5tYXAoKGZ1bmN0aW9uKGUpe3JldHVyblwiLyojIHNvdXJjZVVSTD1cIi5jb25jYXQobi5zb3VyY2VSb290fHxcIlwiKS5jb25jYXQoZSxcIiAqL1wiKX0pKTtyZXR1cm5baV0uY29uY2F0KHIpLmNvbmNhdChbYV0pLmpvaW4oXCJcXG5cIil9dmFyIG8scyxsO3JldHVybltpXS5qb2luKFwiXFxuXCIpfSh0LGUpO3JldHVybiB0WzJdP1wiQG1lZGlhIFwiLmNvbmNhdCh0WzJdLFwiIHtcIikuY29uY2F0KGksXCJ9XCIpOml9KSkuam9pbihcIlwiKX0sdC5pPWZ1bmN0aW9uKGUsaSxuKXtcInN0cmluZ1wiPT10eXBlb2YgZSYmKGU9W1tudWxsLGUsXCJcIl1dKTt2YXIgYT17fTtpZihuKWZvcih2YXIgcj0wO3I8dGhpcy5sZW5ndGg7cisrKXt2YXIgbz10aGlzW3JdWzBdO251bGwhPW8mJihhW29dPSEwKX1mb3IodmFyIHM9MDtzPGUubGVuZ3RoO3MrKyl7dmFyIGw9W10uY29uY2F0KGVbc10pO24mJmFbbFswXV18fChpJiYobFsyXT9sWzJdPVwiXCIuY29uY2F0KGksXCIgYW5kIFwiKS5jb25jYXQobFsyXSk6bFsyXT1pKSx0LnB1c2gobCkpfX0sdH19LGZ1bmN0aW9uKGUsdCxpKXsoZnVuY3Rpb24oZSl7ZnVuY3Rpb24gaShlLHQpe2Zvcih2YXIgaT0wLG49ZS5sZW5ndGgtMTtuPj0wO24tLSl7dmFyIGE9ZVtuXTtcIi5cIj09PWE/ZS5zcGxpY2UobiwxKTpcIi4uXCI9PT1hPyhlLnNwbGljZShuLDEpLGkrKyk6aSYmKGUuc3BsaWNlKG4sMSksaS0tKX1pZih0KWZvcig7aS0tO2kpZS51bnNoaWZ0KFwiLi5cIik7cmV0dXJuIGV9ZnVuY3Rpb24gbihlLHQpe2lmKGUuZmlsdGVyKXJldHVybiBlLmZpbHRlcih0KTtmb3IodmFyIGk9W10sbj0wO248ZS5sZW5ndGg7bisrKXQoZVtuXSxuLGUpJiZpLnB1c2goZVtuXSk7cmV0dXJuIGl9dC5yZXNvbHZlPWZ1bmN0aW9uKCl7Zm9yKHZhciB0PVwiXCIsYT0hMSxyPWFyZ3VtZW50cy5sZW5ndGgtMTtyPj0tMSYmIWE7ci0tKXt2YXIgbz1yPj0wP2FyZ3VtZW50c1tyXTplLmN3ZCgpO2lmKFwic3RyaW5nXCIhPXR5cGVvZiBvKXRocm93IG5ldyBUeXBlRXJyb3IoXCJBcmd1bWVudHMgdG8gcGF0aC5yZXNvbHZlIG11c3QgYmUgc3RyaW5nc1wiKTtvJiYodD1vK1wiL1wiK3QsYT1cIi9cIj09PW8uY2hhckF0KDApKX1yZXR1cm4oYT9cIi9cIjpcIlwiKSsodD1pKG4odC5zcGxpdChcIi9cIiksKGZ1bmN0aW9uKGUpe3JldHVybiEhZX0pKSwhYSkuam9pbihcIi9cIikpfHxcIi5cIn0sdC5ub3JtYWxpemU9ZnVuY3Rpb24oZSl7dmFyIHI9dC5pc0Fic29sdXRlKGUpLG89XCIvXCI9PT1hKGUsLTEpO3JldHVybihlPWkobihlLnNwbGl0KFwiL1wiKSwoZnVuY3Rpb24oZSl7cmV0dXJuISFlfSkpLCFyKS5qb2luKFwiL1wiKSl8fHJ8fChlPVwiLlwiKSxlJiZvJiYoZSs9XCIvXCIpLChyP1wiL1wiOlwiXCIpK2V9LHQuaXNBYnNvbHV0ZT1mdW5jdGlvbihlKXtyZXR1cm5cIi9cIj09PWUuY2hhckF0KDApfSx0LmpvaW49ZnVuY3Rpb24oKXt2YXIgZT1BcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsMCk7cmV0dXJuIHQubm9ybWFsaXplKG4oZSwoZnVuY3Rpb24oZSx0KXtpZihcInN0cmluZ1wiIT10eXBlb2YgZSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQXJndW1lbnRzIHRvIHBhdGguam9pbiBtdXN0IGJlIHN0cmluZ3NcIik7cmV0dXJuIGV9KSkuam9pbihcIi9cIikpfSx0LnJlbGF0aXZlPWZ1bmN0aW9uKGUsaSl7ZnVuY3Rpb24gbihlKXtmb3IodmFyIHQ9MDt0PGUubGVuZ3RoJiZcIlwiPT09ZVt0XTt0KyspO2Zvcih2YXIgaT1lLmxlbmd0aC0xO2k+PTAmJlwiXCI9PT1lW2ldO2ktLSk7cmV0dXJuIHQ+aT9bXTplLnNsaWNlKHQsaS10KzEpfWU9dC5yZXNvbHZlKGUpLnN1YnN0cigxKSxpPXQucmVzb2x2ZShpKS5zdWJzdHIoMSk7Zm9yKHZhciBhPW4oZS5zcGxpdChcIi9cIikpLHI9bihpLnNwbGl0KFwiL1wiKSksbz1NYXRoLm1pbihhLmxlbmd0aCxyLmxlbmd0aCkscz1vLGw9MDtsPG87bCsrKWlmKGFbbF0hPT1yW2xdKXtzPWw7YnJlYWt9dmFyIGM9W107Zm9yKGw9cztsPGEubGVuZ3RoO2wrKyljLnB1c2goXCIuLlwiKTtyZXR1cm4oYz1jLmNvbmNhdChyLnNsaWNlKHMpKSkuam9pbihcIi9cIil9LHQuc2VwPVwiL1wiLHQuZGVsaW1pdGVyPVwiOlwiLHQuZGlybmFtZT1mdW5jdGlvbihlKXtpZihcInN0cmluZ1wiIT10eXBlb2YgZSYmKGUrPVwiXCIpLDA9PT1lLmxlbmd0aClyZXR1cm5cIi5cIjtmb3IodmFyIHQ9ZS5jaGFyQ29kZUF0KDApLGk9NDc9PT10LG49LTEsYT0hMCxyPWUubGVuZ3RoLTE7cj49MTstLXIpaWYoNDc9PT0odD1lLmNoYXJDb2RlQXQocikpKXtpZighYSl7bj1yO2JyZWFrfX1lbHNlIGE9ITE7cmV0dXJuLTE9PT1uP2k/XCIvXCI6XCIuXCI6aSYmMT09PW4/XCIvXCI6ZS5zbGljZSgwLG4pfSx0LmJhc2VuYW1lPWZ1bmN0aW9uKGUsdCl7dmFyIGk9ZnVuY3Rpb24oZSl7XCJzdHJpbmdcIiE9dHlwZW9mIGUmJihlKz1cIlwiKTt2YXIgdCxpPTAsbj0tMSxhPSEwO2Zvcih0PWUubGVuZ3RoLTE7dD49MDstLXQpaWYoNDc9PT1lLmNoYXJDb2RlQXQodCkpe2lmKCFhKXtpPXQrMTticmVha319ZWxzZS0xPT09biYmKGE9ITEsbj10KzEpO3JldHVybi0xPT09bj9cIlwiOmUuc2xpY2UoaSxuKX0oZSk7cmV0dXJuIHQmJmkuc3Vic3RyKC0xKnQubGVuZ3RoKT09PXQmJihpPWkuc3Vic3RyKDAsaS5sZW5ndGgtdC5sZW5ndGgpKSxpfSx0LmV4dG5hbWU9ZnVuY3Rpb24oZSl7XCJzdHJpbmdcIiE9dHlwZW9mIGUmJihlKz1cIlwiKTtmb3IodmFyIHQ9LTEsaT0wLG49LTEsYT0hMCxyPTAsbz1lLmxlbmd0aC0xO28+PTA7LS1vKXt2YXIgcz1lLmNoYXJDb2RlQXQobyk7aWYoNDchPT1zKS0xPT09biYmKGE9ITEsbj1vKzEpLDQ2PT09cz8tMT09PXQ/dD1vOjEhPT1yJiYocj0xKTotMSE9PXQmJihyPS0xKTtlbHNlIGlmKCFhKXtpPW8rMTticmVha319cmV0dXJuLTE9PT10fHwtMT09PW58fDA9PT1yfHwxPT09ciYmdD09PW4tMSYmdD09PWkrMT9cIlwiOmUuc2xpY2UodCxuKX07dmFyIGE9XCJiXCI9PT1cImFiXCIuc3Vic3RyKC0xKT9mdW5jdGlvbihlLHQsaSl7cmV0dXJuIGUuc3Vic3RyKHQsaSl9OmZ1bmN0aW9uKGUsdCxpKXtyZXR1cm4gdDwwJiYodD1lLmxlbmd0aCt0KSxlLnN1YnN0cih0LGkpfX0pLmNhbGwodGhpcyxpKDE3KSl9LGZ1bmN0aW9uKGUsdCl7dmFyIGksbixhPWUuZXhwb3J0cz17fTtmdW5jdGlvbiByKCl7dGhyb3cgbmV3IEVycm9yKFwic2V0VGltZW91dCBoYXMgbm90IGJlZW4gZGVmaW5lZFwiKX1mdW5jdGlvbiBvKCl7dGhyb3cgbmV3IEVycm9yKFwiY2xlYXJUaW1lb3V0IGhhcyBub3QgYmVlbiBkZWZpbmVkXCIpfWZ1bmN0aW9uIHMoZSl7aWYoaT09PXNldFRpbWVvdXQpcmV0dXJuIHNldFRpbWVvdXQoZSwwKTtpZigoaT09PXJ8fCFpKSYmc2V0VGltZW91dClyZXR1cm4gaT1zZXRUaW1lb3V0LHNldFRpbWVvdXQoZSwwKTt0cnl7cmV0dXJuIGkoZSwwKX1jYXRjaCh0KXt0cnl7cmV0dXJuIGkuY2FsbChudWxsLGUsMCl9Y2F0Y2godCl7cmV0dXJuIGkuY2FsbCh0aGlzLGUsMCl9fX0hZnVuY3Rpb24oKXt0cnl7aT1cImZ1bmN0aW9uXCI9PXR5cGVvZiBzZXRUaW1lb3V0P3NldFRpbWVvdXQ6cn1jYXRjaChlKXtpPXJ9dHJ5e249XCJmdW5jdGlvblwiPT10eXBlb2YgY2xlYXJUaW1lb3V0P2NsZWFyVGltZW91dDpvfWNhdGNoKGUpe249b319KCk7dmFyIGwsYz1bXSxoPSExLHU9LTE7ZnVuY3Rpb24gbSgpe2gmJmwmJihoPSExLGwubGVuZ3RoP2M9bC5jb25jYXQoYyk6dT0tMSxjLmxlbmd0aCYmZCgpKX1mdW5jdGlvbiBkKCl7aWYoIWgpe3ZhciBlPXMobSk7aD0hMDtmb3IodmFyIHQ9Yy5sZW5ndGg7dDspe2ZvcihsPWMsYz1bXTsrK3U8dDspbCYmbFt1XS5ydW4oKTt1PS0xLHQ9Yy5sZW5ndGh9bD1udWxsLGg9ITEsZnVuY3Rpb24oZSl7aWYobj09PWNsZWFyVGltZW91dClyZXR1cm4gY2xlYXJUaW1lb3V0KGUpO2lmKChuPT09b3x8IW4pJiZjbGVhclRpbWVvdXQpcmV0dXJuIG49Y2xlYXJUaW1lb3V0LGNsZWFyVGltZW91dChlKTt0cnl7bihlKX1jYXRjaCh0KXt0cnl7cmV0dXJuIG4uY2FsbChudWxsLGUpfWNhdGNoKHQpe3JldHVybiBuLmNhbGwodGhpcyxlKX19fShlKX19ZnVuY3Rpb24gZyhlLHQpe3RoaXMuZnVuPWUsdGhpcy5hcnJheT10fWZ1bmN0aW9uIHAoKXt9YS5uZXh0VGljaz1mdW5jdGlvbihlKXt2YXIgdD1uZXcgQXJyYXkoYXJndW1lbnRzLmxlbmd0aC0xKTtpZihhcmd1bWVudHMubGVuZ3RoPjEpZm9yKHZhciBpPTE7aTxhcmd1bWVudHMubGVuZ3RoO2krKyl0W2ktMV09YXJndW1lbnRzW2ldO2MucHVzaChuZXcgZyhlLHQpKSwxIT09Yy5sZW5ndGh8fGh8fHMoZCl9LGcucHJvdG90eXBlLnJ1bj1mdW5jdGlvbigpe3RoaXMuZnVuLmFwcGx5KG51bGwsdGhpcy5hcnJheSl9LGEudGl0bGU9XCJicm93c2VyXCIsYS5icm93c2VyPSEwLGEuZW52PXt9LGEuYXJndj1bXSxhLnZlcnNpb249XCJcIixhLnZlcnNpb25zPXt9LGEub249cCxhLmFkZExpc3RlbmVyPXAsYS5vbmNlPXAsYS5vZmY9cCxhLnJlbW92ZUxpc3RlbmVyPXAsYS5yZW1vdmVBbGxMaXN0ZW5lcnM9cCxhLmVtaXQ9cCxhLnByZXBlbmRMaXN0ZW5lcj1wLGEucHJlcGVuZE9uY2VMaXN0ZW5lcj1wLGEubGlzdGVuZXJzPWZ1bmN0aW9uKGUpe3JldHVybltdfSxhLmJpbmRpbmc9ZnVuY3Rpb24oZSl7dGhyb3cgbmV3IEVycm9yKFwicHJvY2Vzcy5iaW5kaW5nIGlzIG5vdCBzdXBwb3J0ZWRcIil9LGEuY3dkPWZ1bmN0aW9uKCl7cmV0dXJuXCIvXCJ9LGEuY2hkaXI9ZnVuY3Rpb24oZSl7dGhyb3cgbmV3IEVycm9yKFwicHJvY2Vzcy5jaGRpciBpcyBub3Qgc3VwcG9ydGVkXCIpfSxhLnVtYXNrPWZ1bmN0aW9uKCl7cmV0dXJuIDB9fSxmdW5jdGlvbihlLHQsaSl7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gbihlKXtmb3IodmFyIGkgaW4gZSl0Lmhhc093blByb3BlcnR5KGkpfHwodFtpXT1lW2ldKX1PYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSxuKGkoNSkpLG4oaSg3KSl9LGZ1bmN0aW9uKGUsdCxpKXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSx0LmdldERhdGE9ZnVuY3Rpb24oZSl7dmFyIHQ9ZS51cmwsaT1lLm1ldGhvZCxuPWUuZGF0YSxhPWUuaGVhZGVycyxyPU9iamVjdC5hc3NpZ24oe1wiQ29udGVudC1UeXBlXCI6XCJhcHBsaWNhdGlvbi9qc29uXCJ9LGF8fCExKTtyZXR1cm4gZmV0Y2godCx7bWV0aG9kOmksbW9kZTpcImNvcnNcIixoZWFkZXJzOnIsYm9keTpuP0pTT04uc3RyaW5naWZ5KG4pOm51bGx9KS50aGVuKChmdW5jdGlvbihlKXtyZXR1cm4gZS5qc29uKCl9KSkudGhlbigoZnVuY3Rpb24oZSl7cmV0dXJuIGV9KSl9fSxmdW5jdGlvbihlLHQsaSl7XCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIG49aSgyMSksYT1pKDEpLHI9aSg3KSxvPWkoMikscz1pKDEwKSxsPWkoMjcpLGM9aSg1KSxoPWkoOSksdT1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSl7dGhpcy5nYW1lSW5pdERhdGE9ZX1yZXR1cm4gZS5wcm90b3R5cGUuY2hhbmdlTGV2ZWw9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuZ2FtZUluaXREYXRhLmdhbWVEYXRhLmN1cnJlbnRMZXZlbD1lLHRoaXMuZ2FtZUluaXREYXRhLmdhbWVEYXRhLmN1cnJlbnRMZXZlbH0sZS5wcm90b3R5cGUuc2hvd0dhbWVJbmZvPWZ1bmN0aW9uKCl7cmV0dXJue2xldmVsVG9DaGFuZ2U6dGhpcy5nYW1lSW5pdERhdGEuZ2FtZURhdGEuY3VycmVudExldmVsLGN1cnJlbnRQb2ludDp0aGlzLmdhbWVJbml0RGF0YS5nYW1lRGF0YS5jdXJyZW50UG9pbnQsZ2FtZURhdGE6dGhpcy5nYW1lSW5pdERhdGEuZ2FtZURhdGEsaW1hZ2VEaXJyZWN0aW9uOl9fZGlybmFtZStcIi9wdWJsaWMvaW1hZ2VzL1wifX0sZS5wcm90b3R5cGUuc2hvd0xldmVsRGF0YT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmdhbWVJbml0RGF0YS5nYW1lRGF0YS5sZXZlbERhdGF9LGUucHJvdG90eXBlLnJldHVybkNvbnRleHQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nYW1lSW5pdERhdGEuZ2FtZUZpZWxkJiZ0aGlzLmdhbWVJbml0RGF0YS5nYW1lQWN0aW9uRmllbGQmJnRoaXMuZ2FtZUluaXREYXRhLmdhbWVVSUZpZWxkP3tnYW1lRmllbGQ6dGhpcy5nYW1lSW5pdERhdGEuZ2FtZUZpZWxkLGdhbWVBY3Rpb25GaWVsZDp0aGlzLmdhbWVJbml0RGF0YS5jdHhBY3Rpb25GaWVsZCxnYW1lVUlGaWVsZDp0aGlzLmdhbWVJbml0RGF0YS5nYW1lVUlGaWVsZH06bnVsbH0sZX0oKTt0LkdhbWU9dSx1LnByb3RvdHlwZS5jcmVhdGVDb250ZXh0PW8uY3JlYXRlQ29udGV4dCx1LnByb3RvdHlwZS5pbml0RmllbGQ9by5pbml0RmllbGQsdS5wcm90b3R5cGUubGV2ZWxJbml0PW8ubGV2ZWxJbml0LHUucHJvdG90eXBlLnNldEdhbWVGaWVsZHM9by5zZXRHYW1lRmllbGRzLHUucHJvdG90eXBlLndhcnBFZmZlY3Q9by53YXJwRWZmZWN0LHUucHJvdG90eXBlLmdldFNjcmVlblNpemU9by5nZXRTY3JlZW5TaXplLHUucHJvdG90eXBlLmdldExldmVsVXNlckRhdGE9by5nZXRMZXZlbFVzZXJEYXRhLHUucHJvdG90eXBlLmxldmVsVGltZXI9by5sZXZlbFRpbWVyLHUucHJvdG90eXBlLmdldFNlY29uZE1lYXN1cmU9by5nZXRTZWNvbmRNZWFzdXJlLHUucHJvdG90eXBlLmdhbWVTZWNvbmRzSW5jcmVhc2U9by5nYW1lU2Vjb25kc0luY3JlYXNlLHUucHJvdG90eXBlLmluaXRQbGF5ZXJTaGlwPXMuaW5pdFBsYXllclNoaXAsdS5wcm90b3R5cGUuZGVsZXRlQnVsbGV0PW8uZGVsZXRlQnVsbGV0LHUucHJvdG90eXBlLmRlbGV0ZU9iamVjdHM9by5kZWxldGVPYmplY3RzLHUucHJvdG90eXBlLmRlbGF0ZVNpZGVPYmplY3Q9by5kZWxhdGVTaWRlT2JqZWN0LHUucHJvdG90eXBlLmhpdERldGVjdGlvbj1hLmhpdERldGVjdGlvbix1LnByb3RvdHlwZS5jb2xsZWN0UG9pbnRzPW8uY29sbGVjdFBvaW50cyx1LnByb3RvdHlwZS5zcGF3bkVuZW15TG9naWM9bi5zcGF3bkVuZW15TG9naWMsdS5wcm90b3R5cGUuY3JlYXRlTmV3RW5lbXk9bi5jcmVhdGVOZXdFbmVteSx1LnByb3RvdHlwZS5nYW1lUmFuZG9taXplcj1uLmdhbWVSYW5kb21pemVyLHUucHJvdG90eXBlLnVpQ29udHJvbGxlcj1sLnVpQ29udHJvbGxlcix1LnByb3RvdHlwZS5nYW1lVWlQYXVzZT1sLmdhbWVVaVBhdXNlLHUucHJvdG90eXBlLmdhbWVVaU1lbnU9bC5nYW1lVWlNZW51LHUucHJvdG90eXBlLnNob3dNZW51V2luZG93PWwuc2hvd01lbnVXaW5kb3csdS5wcm90b3R5cGUuc2hvd1VpUG9wdXBXaW5kb3c9bC5zaG93VWlQb3B1cFdpbmRvdyx1LnByb3RvdHlwZS5zaG93U3RhcnRXaW5kb3c9bC5zaG93U3RhcnRXaW5kb3csdS5wcm90b3R5cGUuc2hvd1BhdXNlV2luZG93PWwuc2hvd1BhdXNlV2luZG93LHUucHJvdG90eXBlLmdhbWVPdmVyV2luZG93PWwuZ2FtZU92ZXJXaW5kb3csdS5wcm90b3R5cGUuc2hvd0dhbWVTdGF0cz1sLnNob3dHYW1lU3RhdHMsdS5wcm90b3R5cGUuaW5pdFVpRWxlbWVudHM9bC5pbml0VWlFbGVtZW50cyx1LnByb3RvdHlwZS5nYW1lU3RhcnQ9Yy5nYW1lU3RhcnQsdS5wcm90b3R5cGUuYmFja1RvU3RhcnRTY3JlZW49Yy5iYWNrVG9TdGFydFNjcmVlbix1LnByb3RvdHlwZS5uZXh0TGV2ZWxEYXRhUmVsb2FkPXIubmV4dExldmVsRGF0YVJlbG9hZCx1LnByb3RvdHlwZS5jaGFuZ2VMZXZlbFByb2NlZHVyZT1vLmNoYW5nZUxldmVsUHJvY2VkdXJlLHUucHJvdG90eXBlLmdldFJhbmRvbUNvbG9yPW8uZ2V0UmFuZG9tQ29sb3IsdS5wcm90b3R5cGUubWFwUmFub21PYmplY3RTcGF3bj1oLm1hcFJhbm9tT2JqZWN0U3Bhd259LGZ1bmN0aW9uKGUsdCxpKXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSx0LmVuZW15U2hpcExvZ2ljVmVydGljYWw9ZnVuY3Rpb24oZSx0KXt2YXIgaT1NYXRoLm1heChlLngsdGhpcy54KSxuPU1hdGgubWluKGUueCx0aGlzLngpLGE9TWF0aC5tYXgoZS55LXRoaXMuaGVpZ2h0LzIsdGhpcy55KSxyPU1hdGgubWluKGUueS10aGlzLmhlaWdodC8yLHRoaXMueSksbz1pLW4scz1hLXI7aWYodGhpcy5pc01vdmUmJnRoaXMuYmVoYXZpb3Ipc3dpdGNoKHRoaXMuYmVoYXZpb3Ipe2Nhc2VcInBhdHJvb2xcIjppZighdGhpcy5kaXJlY3Rpb24pe3ZhciBsPXQuZ2FtZVJhbmRvbWl6ZXIoMiwxKTt0aGlzLmRpcmVjdGlvbj0xPT1sP1widXBcIjpcImRvd25cIn0oZnVuY3Rpb24oZSl7dmFyIHQ9ZS5nZXRTY3JlZW5TaXplKCksaT1NYXRoLm1heCh0aGlzLnksdGhpcy55RmluYWwpLU1hdGgubWluKHRoaXMueSx0aGlzLnlGaW5hbCk7c3dpdGNoKHRoaXMuZGlyZWN0aW9uKXtjYXNlXCJ1cFwiOnRoaXMueUZpbmFsPTAsdGhpcy55LXRoaXMuaGVpZ2h0PHRoaXMueUZpbmFsJiYodGhpcy5kaXJlY3Rpb249XCJkb3duXCIpO2JyZWFrO2Nhc2VcImRvd25cIjp0aGlzLnlGaW5hbD10LmhlaWdodCx0aGlzLnkrdGhpcy5oZWlnaHQ+dGhpcy55RmluYWwmJih0aGlzLmRpcmVjdGlvbj1cInVwXCIpO2JyZWFrO2RlZmF1bHQ6dGhpcy55RmluYWw9dC5oZWlnaHQvMn10aGlzLmVuZW15VmVydGljYWxNb3ZlQ2FsY3VsYXRpb24oaSl9KS5jYWxsKHRoaXMsdCk7YnJlYWs7Y2FzZVwiZmluZFwiOmMuY2FsbCh0aGlzKTticmVhaztjYXNlXCJhdHRhY2tcIjooZnVuY3Rpb24oZSx0LGkpe3RoaXMueUZpbmFsPWkueS10aGlzLmhlaWdodC8yLHQ8MTAwJiZ0aGlzLmVuZW15VmVydGljYWxNb3ZlQ2FsY3VsYXRpb24oZSl9KS5jYWxsKHRoaXMscyxvLGUpO2JyZWFrO2Nhc2VcImNvbWVFbmRGaW5kXCI6Yy5jYWxsKHRoaXMpLGZ1bmN0aW9uKCl7dmFyIGU9dC5nZXRTY3JlZW5TaXplKCk7dGhpcy54PGUud2lkdGgtMip0aGlzLndpZHRoJiYodGhpcy5zcGVlZD0wKX0uY2FsbCh0aGlzKTticmVhaztkZWZhdWx0OmMuY2FsbCh0aGlzKX1mdW5jdGlvbiBjKCl7aWYodGhpcy5zcG90RGlzdGFuY2U+b3x8dGhpcy5zcG90RGlzdGFuY2U+cylyZXR1cm4gdGhpcy55RmluYWw9ZS55LXRoaXMuaGVpZ2h0LzIsdGhpcy5lbmVteVZlcnRpY2FsTW92ZUNhbGN1bGF0aW9uKHMpLCEwfX0sdC5lbmVteVZlcnRpY2FsTW92ZUNhbGN1bGF0aW9uPWZ1bmN0aW9uKGUpe3ZhciB0PWUvdGhpcy52ZXJ0aWNhbFNwZWVkO3Q9KHQ9TWF0aC5zaWduKHQpPjA/dDotMSp0KT50aGlzLnZlcnRpY2FsU3BlZWQ/dGhpcy52ZXJ0aWNhbFNwZWVkOnQsdGhpcy55PXRoaXMueT50aGlzLnlGaW5hbD90aGlzLnktdDp0aGlzLnk8dGhpcy55RmluYWw/dGhpcy55K3Q6dGhpcy55RmluYWx9LHQuc3Bhd25FbmVteUxvZ2ljPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuZ2FtZUluaXREYXRhLmdhbWVEYXRhLGk9dC5sZXZlbERhdGEsbj10LmVuZW15RGF0YSxhPXRoaXMuZ2V0TGV2ZWxVc2VyRGF0YSgpLHI9YS5zb3Vyc2UubGV2ZWxEYXRhLmJvc1ByZXNlbnRzP2Euc291cnNlLmxldmVsRGF0YS5ib3NQcmVzZW50czpudWxsO2lmKHRoaXMuZ2FtZUluaXREYXRhLmdhbWVEYXRhLmxldmVsQ2hhbmdlfHxyKXtpZigwPT10aGlzLmdhbWVJbml0RGF0YS5hbGxHYW1lRW5lbWllcy5sZW5ndGgpe3ZhciBvPXRoaXMuY3JlYXRlTmV3RW5lbXkoblswXSxlKTtvLmxvYWRFbmVteWVzKCksdGhpcy5nYW1lSW5pdERhdGEuYWxsR2FtZUVuZW1pZXM9dGhpcy5nYW1lSW5pdERhdGEuYWxsR2FtZUVuZW1pZXMuY29uY2F0KG8pfX1lbHNlKGZ1bmN0aW9uKCl7aWYodGhpcy5nYW1lUmFuZG9taXplcihpLmVuZW15UHJvYmFiaWxpdHkpPD1pLmVuZW15UmFuZG9taXplckluZGV4KWZvcih2YXIgdD10aGlzLmdhbWVSYW5kb21pemVyKGkuZW5lbXlNYXhOdW1iZXIpO3Q8aS5lbmVteU1heE51bWJlcjt0Kyspe3ZhciBhPW5bdGhpcy5nYW1lUmFuZG9taXplcihuLmxlbmd0aCldLHI9dGhpcy5jcmVhdGVOZXdFbmVteShhLGUpO3IubG9hZEVuZW15ZXMoKSx0aGlzLmdhbWVJbml0RGF0YS5hbGxHYW1lRW5lbWllcz10aGlzLmdhbWVJbml0RGF0YS5hbGxHYW1lRW5lbWllcy5jb25jYXQocil9fSkuY2FsbCh0aGlzKX0sdC5jcmVhdGVOZXdFbmVteT1mdW5jdGlvbihlLHQpe3ZhciBpPXRoaXMuZ2FtZUluaXREYXRhLnNjcmVlbi53aWR0aCszMDAsbj10aGlzLmdhbWVSYW5kb21pemVyKHRoaXMuZ2FtZUluaXREYXRhLnNjcmVlbi5oZWlnaHQtMjAwLDEwMCk7aWYoZS5kZXRhaWxzKXt2YXIgYT1lLmRldGFpbHMscj1hLmJlaGF2aW9yP2EuYmVoYXZpb3JbdGhpcy5nYW1lUmFuZG9taXplcihhLmJlaGF2aW9yLmxlbmd0aCldOm51bGw7cmV0dXJuIG5ldyB0KHt4OmkseTpuLHN4OmEuc3gsc3k6YS5zeSxzV2lkdGg6YS5pbWFnZVdpZHRoL2EubnVtYmVyT2ZJdGVtcyxzSGVpZ2h0OmEuaW1hZ2VIZWlnaHQscGljdHVyZXNXaWR0aDphLmltYWdlV2lkdGgsbnVtYmVyT2ZJdGVtczphLm51bWJlck9mSXRlbXMsd2lkdGg6YS53aWR0aCxoZWlnaHQ6YS5oZWlnaHQsc2hpcFRleHR1cmU6YS5za2luTmFtZSxzcGVlZDphLnNwZWVkLHN0YXR1czphLnN0YXR1cyxuYW1lOmEubmFtZSxidWxsZXRUeXBlTnVtYmVyOmEuYnVsbGV0VHlwZSxyYXBpZEZpcmU6YS5yYXBpZEZpcmUscG9pbnRzUGVyVW5pdDphLnBvaW50c1BlclVuaXQsaGVhbHRoUG9pbnQ6YS5oZWFsdGhQb2ludCxhbmltYXRpb25TdGVwczphLmFuaW1hdGlvblN0ZXBzLGRhbWFnZTphLmRhbWFnZSxvYmplY3RPd25lcjphLm9iamVjdE93bmVyLGd1bnM6YS5ndW5zP2EuZ3VuczpbXSxleHBsb3Npb246YS5leHBsb3Npb25BbmltYXRpb24sbnVtYmVyT2ZWZXJ0aWNhbEl0ZW1zOmEubnVtYmVyT2ZWZXJ0aWNhbEl0ZW1zLGlzTW92ZTphLmlzTW92ZSxpc1Nob290OmEuaXNTaG9vdCxzcG90RGlzdGFuY2U6YS5zcG90RGlzdGFuY2UsYmVoYXZpb3I6cix2ZXJ0aWNhbFNwZWVkOmEudmVydGljYWxTcGVlZD9hLnZlcnRpY2FsU3BlZWQ6bnVsbCxpc0Jvc3M6ISFhLmlzQm9zcyYmYS5pc0Jvc3N9KX19LHQuZ2FtZVJhbmRvbWl6ZXI9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdm9pZCAwPT09dCYmKHQ9MCksTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpKmUrdCl9fSxmdW5jdGlvbihlLHQsaSl7XCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksdC5jcmVhdGVXaW5kb3c9ZnVuY3Rpb24oZSx0KXt2YXIgaT10aGlzLmdldFNjcmVlblNpemUoKTtpLndpZHRoLGkuaGVpZ2h0LGUuZmlsbFJlY3QodC54LHQueSx0LndpZHRoLHQuaGVpZ2h0KX0sdC5jcmVhdGVTaGFwZVJvdW5kQm9yZGVyPWZ1bmN0aW9uKGUpe3ZhciB0PWUucHJvcGVydHllczt0LmN0eC5maWxsU3R5bGU9dC5iYWNrZ3JvdW5kLHQuY3R4LmJlZ2luUGF0aCgpLHQuY3R4Lm1vdmVUbyh0LngrdC5yYWRpdXMsdC55KSx0LmN0eC5saW5lVG8odC54K3Qud2lkdGgtdC5yYWRpdXMsdC55KSx0LmN0eC5xdWFkcmF0aWNDdXJ2ZVRvKHQueCt0LndpZHRoLHQueSx0LngrdC53aWR0aCx0LnkrdC5yYWRpdXMpLHQuY3R4LmxpbmVUbyh0LngrdC53aWR0aCx0LnkrdC5oZWlnaHQtdC5yYWRpdXMpLHQuY3R4LnF1YWRyYXRpY0N1cnZlVG8odC54K3Qud2lkdGgsdC55K3QuaGVpZ2h0LHQueCt0LndpZHRoLXQucmFkaXVzLHQueSt0LmhlaWdodCksdC5jdHgubGluZVRvKHQueCt0LnJhZGl1cyx0LnkrdC5oZWlnaHQpLHQuY3R4LnF1YWRyYXRpY0N1cnZlVG8odC54LHQueSt0LmhlaWdodCx0LngsdC55K3QuaGVpZ2h0LXQucmFkaXVzKSx0LmN0eC5saW5lVG8odC54LHQueSt0LnJhZGl1cyksdC5jdHgucXVhZHJhdGljQ3VydmVUbyh0LngsdC55LHQueCt0LnJhZGl1cyx0LnkpLHQuY3R4LmNsb3NlUGF0aCgpLHQuY3R4LmZpbGwoKX0sdC5jcmVhdGVSb3VuZEJ1dHRvbj1mdW5jdGlvbihlKXt2YXIgdD1lLnByb3BlcnR5ZXMsaT10LmN0eC5tZWFzdXJlVGV4dChlLnRleHQpLndpZHRoLzMuMixuPXQudGV4dFByb3BlcnR5LmxlZnRQYWRkaW5nK2krdC50ZXh0UHJvcGVydHkucmlnaHRQYWRkaW5nO3QuY3R4LmZpbGxTdHlsZT10LmJhY2tncm91bmQsdC5jdHguYmVnaW5QYXRoKCksdC5jdHgubW92ZVRvKHQueCt0LnJhZGl1cyx0LnkpLHQuY3R4LmxpbmVUbyh0Lngrbi10LnJhZGl1cyx0LnkpLHQuY3R4LnF1YWRyYXRpY0N1cnZlVG8odC54K24sdC55LHQueCtuLHQueSt0LnJhZGl1cyksdC5jdHgubGluZVRvKHQueCtuLHQueSt0LmhlaWdodC10LnJhZGl1cyksdC5jdHgucXVhZHJhdGljQ3VydmVUbyh0Lngrbix0LnkrdC5oZWlnaHQsdC54K24tdC5yYWRpdXMsdC55K3QuaGVpZ2h0KSx0LmN0eC5saW5lVG8odC54K3QucmFkaXVzLHQueSt0LmhlaWdodCksdC5jdHgucXVhZHJhdGljQ3VydmVUbyh0LngsdC55K3QuaGVpZ2h0LHQueCx0LnkrdC5oZWlnaHQtdC5yYWRpdXMpLHQuY3R4LmxpbmVUbyh0LngsdC55K3QucmFkaXVzKSx0LmN0eC5xdWFkcmF0aWNDdXJ2ZVRvKHQueCx0LnksdC54K3QucmFkaXVzLHQueSksdC5jdHguY2xvc2VQYXRoKCksdC5jdHguZmlsbCgpLHQuY3R4LmZvbnQ9ZS5mb250U2l6ZSx0LmN0eC5maWxsU3R5bGU9dC50ZXh0UHJvcGVydHkudGV4dENvbG9yLHQuY3R4LmZpbGxUZXh0KGUudGV4dCx0LngrdC50ZXh0UHJvcGVydHkubGVmdFBhZGRpbmcsdC55K3QuaGVpZ2h0LzIrdC50ZXh0UHJvcGVydHkudG9wUGFkZGluZyl9fSxmdW5jdGlvbihlLHQsaSl7XCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksdC53ZWFwb24xPWZ1bmN0aW9uKGUsdCl7dChlLmN0eCxcImRyYXdJbWFnZVwiLGUuaW1nLGUuc3gsZS5zeSxlLnNXaWR0aCxlLnNIZWlnaHQsZS54LGUueSxlLndpZHRoKzEwLGUuaGVpZ2h0KzEwKX0sdC53ZWFwb24xYmFja3dhcmQ9ZnVuY3Rpb24oZSx0KXt0KGUuY3R4LFwiZHJhd0ltYWdlXCIsZS5pbWcsMCwwLGUud2lkdGgsZS5oZWlnaHQsZS54LGUueSxlLndpZHRoKzEwLGUuaGVpZ2h0KzEwKX19LGZ1bmN0aW9uKGUsdCxpKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBuKGUpe2Zvcih2YXIgaSBpbiBlKXQuaGFzT3duUHJvcGVydHkoaSl8fCh0W2ldPWVbaV0pfU9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLG4oaSgwKSksbihpKDYpKSxuKGkoMjUpKX0sZnVuY3Rpb24oZSx0LGkpe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIG4oZSl7Zm9yKHZhciBpIGluIGUpdC5oYXNPd25Qcm9wZXJ0eShpKXx8KHRbaV09ZVtpXSl9T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksbihpKDYpKSxuKGkoMjYpKX0sZnVuY3Rpb24oZSx0LGkpe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLHQud2FycEVsZW1lbnQ9ZnVuY3Rpb24oKXt2YXIgZT1udWxsLmNyZWF0ZUxpbmVhckdyYWRpZW50KDAsMCwxNzAsMCk7ZS5hZGRDb2xvclN0b3AoXCIwXCIsXCJtYWdlbnRhXCIpLGUuYWRkQ29sb3JTdG9wKFwiMC41XCIsXCJibHVlXCIpLGUuYWRkQ29sb3JTdG9wKFwiMS4wXCIsXCJyZWRcIil9fSxmdW5jdGlvbihlLHQsaSl7XCJ1c2Ugc3RyaWN0XCI7dmFyIG49dGhpcyYmdGhpcy5fX3NwcmVhZEFycmF5c3x8ZnVuY3Rpb24oKXtmb3IodmFyIGU9MCx0PTAsaT1hcmd1bWVudHMubGVuZ3RoO3Q8aTt0KyspZSs9YXJndW1lbnRzW3RdLmxlbmd0aDt2YXIgbj1BcnJheShlKSxhPTA7Zm9yKHQ9MDt0PGk7dCsrKWZvcih2YXIgcj1hcmd1bWVudHNbdF0sbz0wLHM9ci5sZW5ndGg7bzxzO28rKyxhKyspblthXT1yW29dO3JldHVybiBufTtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgYT1pKDApLHI9aSgyOCksbz1pKDI5KSxzPWkoMzApLGw9aSgzMSksYz1pKDM5KSxoPWkoNiksdT1pKDEpO3QuZ2FtZVVpUGF1c2U9ZnVuY3Rpb24oKXshdGhpcy5nYW1lSW5pdERhdGEuZ2FtZVVpUGF1c2UmJnRoaXMuZ2FtZUluaXREYXRhLmdhbWVTdGF0dXMmJih0aGlzLmdhbWVJbml0RGF0YS5nYW1lUGF1c2U9IXRoaXMuZ2FtZUluaXREYXRhLmdhbWVQYXVzZSl9LHQuZ2FtZVVpTWVudT1mdW5jdGlvbihlKXt0aGlzLmdhbWVJbml0RGF0YS5nYW1lVWlQYXVzZT0hdGhpcy5nYW1lSW5pdERhdGEuZ2FtZVVpUGF1c2UsdGhpcy5nYW1lSW5pdERhdGEuZ2FtZVBhdXNlPSFlfSx0LnVpQ29udHJvbGxlcj1mdW5jdGlvbigpe3ZhciBlPXRoaXMsdD10aGlzLmdhbWVJbml0RGF0YS5nYW1lRGF0YS5nYW1lU2V0aW5ncy5rZXlDb250cm9scyxpPXRoaXM7ZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIiwoZnVuY3Rpb24obil7dC5lc2NhcGUuc29tZSgoZnVuY3Rpb24oZSl7cmV0dXJuIG4ua2V5Q29kZT09ZX0pKSYmaS5nYW1lVWlNZW51KGUuZ2FtZUluaXREYXRhLmdhbWVVaVBhdXNlKSx0LnBhdXNlLnNvbWUoKGZ1bmN0aW9uKGUpe3JldHVybiBuLmtleUNvZGU9PWV9KSkmJmkuZ2FtZVVpUGF1c2UoKX0pKSxkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwoZnVuY3Rpb24odCl7aWYoXCJDQU5WQVNcIj09PXQudGFyZ2V0LnRhZ05hbWUpe3ZhciBpPXQuY2xpZW50WC10LnRhcmdldC5vZmZzZXRMZWZ0LG49dC5jbGllbnRZLXQudGFyZ2V0Lm9mZnNldFRvcCxhPW51bGwscz1lLmdhbWVJbml0RGF0YS5jdHhVSUZpZWxkLGw9ZS5nZXRTY3JlZW5TaXplKCk7Zm9yKHZhciBjIGluIGUuZ2FtZUluaXREYXRhLmdhbWVTdGF0dXN8fChhPXIuZ2FtZUxvYWRNZW51KG51bGwscyxsLndpZHRoLGwuaGVpZ2h0LG51bGwpKSxlLmdhbWVJbml0RGF0YS5nYW1lVWlQYXVzZSYmKGE9by5nYW1lU2V0dGluZ3NNZW51KG51bGwscyxsLndpZHRoLGwuaGVpZ2h0KSksYSl7aWYodS5oaXREZXRlY3Rpb24oYVtjXSxbXS5jb25jYXQoe3g6aSx5Om4sd2lkdGg6MTAsaGVpZ2h0OjEwLG5hbWU6XCJjdXJzb3JcIn0pLGUpJiZhW2NdLmFjdGlvbil7YVtjXS5hY3Rpb24uY2FsbChlKTticmVha319fX0pKX0sdC5zaG93VWlQb3B1cFdpbmRvdz1mdW5jdGlvbigpe2EuY3JlYXRlV2luZG93LmNhbGwodGhpcyl9LHQuc2hvd1N0YXJ0V2luZG93PWZ1bmN0aW9uKCl7dmFyIGU9W2EuY3JlYXRlUm91bmRCdXR0b24saC51aUltYWdlLGgudWlUZXh0LGgudWlUZXh0XTt0aGlzLmluaXRVaUVsZW1lbnRzKGUsci5nYW1lTG9hZE1lbnUpfSx0LnNob3dNZW51V2luZG93PWZ1bmN0aW9uKCl7dmFyIGU9W2EuY3JlYXRlU2hhcGVSb3VuZEJvcmRlcixhLmNyZWF0ZVJvdW5kQnV0dG9uLGgudWlUZXh0XTt0aGlzLmluaXRVaUVsZW1lbnRzKGUsby5nYW1lU2V0dGluZ3NNZW51KX0sdC5zaG93UGF1c2VXaW5kb3c9ZnVuY3Rpb24oKXt2YXIgZT1baC51aVRleHRdO3RoaXMuaW5pdFVpRWxlbWVudHMoZSxzLmdhbWVQYXVzZSl9LHQuc2hvd0dhbWVTdGF0cz1mdW5jdGlvbigpe3ZhciBlPXRoaXMuZ2V0TGV2ZWxVc2VyRGF0YSgpLHQ9W2gudWlJbWFnZSxoLnVpVGV4dCxoLnVpVGV4dCxoLnVpVGV4dF07dGhpcy5pbml0VWlFbGVtZW50cyh0LGwuZ2FtZUluZm9ybWF0aW9uU2NyZWVuLGUpfSx0LmdhbWVPdmVyV2luZG93PWZ1bmN0aW9uKCl7dmFyIGU9W2gudWlUZXh0LGgudWlUZXh0LGgudWlUZXh0XTt0aGlzLmluaXRVaUVsZW1lbnRzKGUsYy5nYW1lT3ZlclNjcmVlbil9LHQuaW5pdFVpRWxlbWVudHM9ZnVuY3Rpb24oZSx0KXtmb3IodmFyIGk9W10sYT0yO2E8YXJndW1lbnRzLmxlbmd0aDthKyspaVthLTJdPWFyZ3VtZW50c1thXTtmb3IodmFyIHI9dGhpcy5nYW1lSW5pdERhdGEuY3R4VUlGaWVsZCxvPXRoaXMuZ2V0U2NyZWVuU2l6ZSgpLHM9dGhpcy5zaG93R2FtZUluZm8oKS5pbWFnZURpcnJlY3Rpb24sbD10LmFwcGx5KHZvaWQgMCxuKFtudWxsLHIsby53aWR0aCxvLmhlaWdodCxzXSxpKSksYz0wO2M8bC5sZW5ndGg7YysrKWxbY10uaGFzT3duUHJvcGVydHkoXCJsb2FkUGljdHVyZVwiKSYmbFtjXS5sb2FkUGljdHVyZSgpLGxbY10uaW5pdChlW2NdKX19LGZ1bmN0aW9uKGUsdCxpKXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgbj1pKDQpO3QuZ2FtZUxvYWRNZW51PWZ1bmN0aW9uKGUsdCxpLGEscil7cmV0dXJuIGV8fFt7bmFtZTpcIlN0YXJ0IGJ1dHRvblwiLHRleHQ6XCJQcmVzcyBTdGFydCB0byBiZWdpblwiLGRlc2NyaXB0aW9uOlwiTWFpbiBzdGFydCBnYW1lIGJ1dHRvbiBpbiB0aGUgbWFpbiBsb2FkIHNjcmVlblwiLGZvbnRTaXplOlwiMzBweCBBcmlhbFwiLGNsaWNrZWQ6ITEscHJvcGVydHllczp7Y3R4OnQsd2lkdGg6NDAwLGhlaWdodDo5MCx4OmkvMi0xNjUseTphLzIrMTUwLGJhY2tncm91bmQ6XCJyZ2JhKDI1NSwgMjU1LCAyNTUsIDEpXCIsYm9yZGVyQ29sb3I6XCJyZ2JhKDI1NSwgMjU1LCAyNTUsIDEpXCIsdGV4dFByb3BlcnR5Ont0ZXh0Q29sb3I6XCIjMDA3QkQxXCIsdG9wUGFkZGluZzoxMCxyaWdodFBhZGRpbmc6NDAsYm90dG9tUGFkZGluZzoxMCxsZWZ0UGFkZGluZzo0MH0scmFkaXVzOjQ1fSxhY3Rpb246ZnVuY3Rpb24oKXt0aGlzLmdhbWVTdGFydCgpfSxpbml0Om4uaW5pdCxnZXRPYmplY3RQb3NpdGlvbjpuLmdldFVJT2JqZWN0UG9zaXRpb259LHtuYW1lOlwiTG9nb3R5cGVcIix0ZXh0OlwiXCIsZGVzY3JpcHRpb246XCJHYW1lIGxvZ290eXBlXCIsY2xpY2tlZDohMSxwcm9wZXJ0eWVzOntjdHg6dCx3aWR0aDoxNTAsaGVpZ2h0OjE1MCxzV2lkdGg6MTAyNCxzSGVpZ2h0OjEwMjQseDppLzItNzUseTo5MCxiYWNrZ3JvdW5kOm5ldyBJbWFnZSxib3JkZXJDb2xvcjohMSxyYWRpdXM6bnVsbH0sbG9hZFBpY3R1cmU6ZnVuY3Rpb24oKXt0aGlzLnByb3BlcnR5ZXMuYmFja2dyb3VuZC5zcmM9citcIm1pc2MvbG9nby0xMDI0eDEwMjQucG5nXCJ9LGluaXQ6bi5pbml0LGdldE9iamVjdFBvc2l0aW9uOm4uZ2V0VUlPYmplY3RQb3NpdGlvbn0se25hbWU6XCJHYW1lIG5hbWVcIix0ZXh0OlwiU3BhY2VcIixkZXNjcmlwdGlvbjpcIkdhbWUgcGFydCB0aGUgbmFtZVwiLGNsaWNrZWQ6ITEsZm9udFNpemU6XCJib2xkIDEwMHB4IFJvYm90b1wiLHByb3BlcnR5ZXM6e2N0eDp0LHdpZHRoOi0yOTAsaGVpZ2h0OjAseDppLzIseTozNzAsYmFja2dyb3VuZDohMSxib3JkZXJDb2xvcjpcInJnYmEoMjU1LCAyNTUsIDI1NSwgMSlcIixyYWRpdXM6bnVsbH0saW5pdDpuLmluaXQsZ2V0T2JqZWN0UG9zaXRpb246bi5nZXRVSU9iamVjdFBvc2l0aW9ufSx7bmFtZTpcIkdhbWUgbmFtZVwiLHRleHQ6XCJBdHRhY2tcIixkZXNjcmlwdGlvbjpcIkdhbWUgcGFydCB0aGUgbmFtZVwiLGNsaWNrZWQ6ITEsZm9udFNpemU6XCJsaWdodGVyIDEwMHB4IFJvYm90b1wiLHByb3BlcnR5ZXM6e2N0eDp0LHdpZHRoOjAsaGVpZ2h0OjAseDppLzIseTozNzAsYmFja2dyb3VuZDohMSxib3JkZXJDb2xvcjpcInJnYmEoMjU1LCAyNTUsIDI1NSwgMSlcIixyYWRpdXM6bnVsbH0saW5pdDpuLmluaXQsZ2V0T2JqZWN0UG9zaXRpb246bi5nZXRVSU9iamVjdFBvc2l0aW9ufV19fSxmdW5jdGlvbihlLHQsaSl7XCJ1c2Ugc3RyaWN0XCI7dmFyIG49dGhpcyYmdGhpcy5fX2ltcG9ydFN0YXJ8fGZ1bmN0aW9uKGUpe2lmKGUmJmUuX19lc01vZHVsZSlyZXR1cm4gZTt2YXIgdD17fTtpZihudWxsIT1lKWZvcih2YXIgaSBpbiBlKU9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsaSkmJih0W2ldPWVbaV0pO3JldHVybiB0LmRlZmF1bHQ9ZSx0fTtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgYT1pKDQpLHI9bihpKDMpKTt0LmdhbWVTZXR0aW5nc01lbnU9ZnVuY3Rpb24oZSx0LGksbil7cmV0dXJuIGV8fFt7bmFtZTpcIm1lbnUgYmFja2dyb3VuZFwiLHRleHQ6XCJcIixkZXNjcmlwdGlvbjpcImJhY2sgcGFydCBvZiBtZW51IFwiLGZvbnRTaXplOlwiMzBweCBBcmlhbFwiLGNsaWNrZWQ6ITEscHJvcGVydHllczp7Y3R4OnQsd2lkdGg6aSxoZWlnaHQ6bi8yLHg6MCx5Om4vNCxiYWNrZ3JvdW5kOlwicmdiYSgzOCwgMzgsIDg2LCAxKVwiLGJvcmRlckNvbG9yOlwicmdiYSgyNTUsIDI1NSwgMjU1LCAxKVwiLHJhZGl1czo1fSxpbml0OmEuaW5pdCxnZXRPYmplY3RQb3NpdGlvbjphLmdldFVJT2JqZWN0UG9zaXRpb259LHtuYW1lOlwiQnV0dG9uIGVuZCBnYW1lXCIsdGV4dDpcImdvIHRvIHN0YXJ0XCIsZGVzY3JpcHRpb246XCJiYWNrIHRvIHN0YXJ0IHNjcmVlblwiLGZvbnRTaXplOlwiMjVweCBSb2JvdG9cIixjbGlja2VkOiExLHByb3BlcnR5ZXM6e2N0eDp0LHdpZHRoOjIwMCxoZWlnaHQ6NTAseDppLzItMTUwLHk6bi8yKzUwLGJhY2tncm91bmQ6XCJyZ2JhKDI1NSwgMjU1LCAyNTUsIDEpXCIsYm9yZGVyQ29sb3I6XCJyZ2JhKDI1NSwgMjU1LCAyNTUsIDEpXCIsdGV4dFByb3BlcnR5Ont0ZXh0Q29sb3I6XCIjMDA3QkQxXCIsdG9wUGFkZGluZzo3LHJpZ2h0UGFkZGluZzo1MCxib3R0b21QYWRkaW5nOjEwLGxlZnRQYWRkaW5nOjIwfSxyYWRpdXM6MTV9LGFjdGlvbjpmdW5jdGlvbigpe3RoaXMuYmFja1RvU3RhcnRTY3JlZW4uY2FsbCh0aGlzLHIuUGxheWVyU2hpcCl9LGluaXQ6YS5pbml0LGdldE9iamVjdFBvc2l0aW9uOmEuZ2V0VUlPYmplY3RQb3NpdGlvbn0se25hbWU6XCJNYWluIGdhbWUgbWVudSBuYW1lXCIsdGV4dDpcIk1lbnVcIixkZXNjcmlwdGlvbjpcIlRleHQgaW4gbWFpbiB0b3BcIixmb250U2l6ZTpcIjI1cHggUm9ib3RvXCIsY2xpY2tlZDohMSxwcm9wZXJ0eWVzOntjdHg6dCx3aWR0aDotNDUsaGVpZ2h0OjAseDppLzIseTpuLzMsYmFja2dyb3VuZDohMSxib3JkZXJDb2xvcjpcInJnYmEoMjU1LCAyNTUsIDI1NSwgMSlcIixyYWRpdXM6bnVsbH0saW5pdDphLmluaXQsZ2V0T2JqZWN0UG9zaXRpb246YS5nZXRVSU9iamVjdFBvc2l0aW9ufV19fSxmdW5jdGlvbihlLHQsaSl7XCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIG49aSg0KTt0LmdhbWVQYXVzZT1mdW5jdGlvbihlLHQsaSxhLHIpe3JldHVybiBlfHxbe25hbWU6XCJQYXVzZSB0ZXh0XCIsdGV4dDpcIlBhdXNlXCIsZGVzY3JpcHRpb246XCJwYXJ0IG9mIHBhdXNlIHdpbmRvd1wiLGZvbnRTaXplOlwiNjBweCBBcmlhbFwiLGNsaWNrZWQ6ITEscHJvcGVydHllczp7Y3R4OnQsd2lkdGg6NDAwLGhlaWdodDo5MCx4OmkvMi0xNTAseTphLzIrNTAsYmFja2dyb3VuZDpcInJnYmEoMjU1LCAyNTUsIDI1NSwgMSlcIixib3JkZXJDb2xvcjpcInJnYmEoMjU1LCAyNTUsIDI1NSwgMSlcIixyYWRpdXM6NDV9LGluaXQ6bi5pbml0LGdldE9iamVjdFBvc2l0aW9uOm4uZ2V0VUlPYmplY3RQb3NpdGlvbn1dfX0sZnVuY3Rpb24oZSx0LGkpe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciBuPWkoNCk7dC5nYW1lSW5mb3JtYXRpb25TY3JlZW49ZnVuY3Rpb24oZSx0LGksYSxyLG8pe3JldHVyblt7bmFtZTpcImxpZmVQb2ludFwiLHRleHQ6XCJcIixudW1iZXI6by5saWZlLHN0ZXA6W28ubGlmZV0ubWFwKChmdW5jdGlvbihlKXtyZXR1cm4gNTAqZX0pKSxkZXNjcmlwdGlvbjpcIkdhbWUgbG9nb3R5cGVcIixjbGlja2VkOiExLHByb3BlcnR5ZXM6e2N0eDp0LHdpZHRoOjcwLGhlaWdodDo3MCxzV2lkdGg6NTAwLHNIZWlnaHQ6NTAwLHg6MTAseToyMCxiYWNrZ3JvdW5kOm5ldyBJbWFnZSxib3JkZXJDb2xvcjohMSxyYWRpdXM6bnVsbH0sbG9hZFBpY3R1cmU6ZnVuY3Rpb24oKXt0aGlzLnByb3BlcnR5ZXMuYmFja2dyb3VuZC5zcmM9citcIm1pc2MvcnVieS5wbmdcIn0saW5pdDpmdW5jdGlvbihlLHQpe3Q9dHx8dGhpcztmb3IodmFyIGk9QXJyYXkoby5saWZlKS5maWxsKDApLm1hcCgoZnVuY3Rpb24oZSx0KXtyZXR1cm4gMzAqdH0pKSxuPTA7bjx0aGlzLm51bWJlcjtuKyspdGhpcy5wcm9wZXJ0eWVzLng9MD09bj8zMDowK2lbbl0rKDAhPW4/MzA6MCksZSh0KX0sZ2V0T2JqZWN0UG9zaXRpb246bi5nZXRVSU9iamVjdFBvc2l0aW9ufSx7bmFtZTpcImxldmVsXCIsdGV4dDpcIkN1cnJlbnQgTGV2ZWwgXCIrby5jdXJyZW50TGV2ZWwrXCIvXCIrby5hbGxMZXZlbHMrXCIgXCIsZGVzY3JpcHRpb246XCJHYW1lIHBhcnQgdGhlIG5hbWVcIixjbGlja2VkOiExLGZvbnRTaXplOlwiYm9sZCAxNnB4IFJvYm90b1wiLHByb3BlcnR5ZXM6e2N0eDp0LHdpZHRoOjAsaGVpZ2h0OjAseDozMCx5OjcwLGJhY2tncm91bmQ6ITEsYm9yZGVyQ29sb3I6XCJyZ2JhKDI1NSwgMjU1LCAyNTUsIDEpXCIscmFkaXVzOm51bGx9LGluaXQ6bi5pbml0LGdldE9iamVjdFBvc2l0aW9uOm4uZ2V0VUlPYmplY3RQb3NpdGlvbn0se25hbWU6XCJUaW1lIHRvIGVuZCBmIGxldmVsXCIsdGV4dDpvLm1pbnV0ZXN8fG8uc2Vjb25kcz9cIlRpbWUgdG8gbGV2ZWwgZW5kIFwiKyhvLm1pbnV0ZXMtMTA+PTA/XCJcIjowKStvLm1pbnV0ZXMrXCI6XCIrKG8uc2Vjb25kcy0xMD49MD9cIlwiOjApK28uc2Vjb25kczpcIkJvc3MgbGV2ZWxcIixkZXNjcmlwdGlvbjpcIkdhbWUgcGFydCB0aGUgbmFtZVwiLGNsaWNrZWQ6ITEsZm9udFNpemU6XCJsaWdodCAxNnB4IFJvYm90b1wiLHByb3BlcnR5ZXM6e2N0eDp0LHdpZHRoOjUwLGhlaWdodDowLHg6aS0zMDAseTozMCxiYWNrZ3JvdW5kOiExLGJvcmRlckNvbG9yOlwicmdiYSgyNTUsIDI1NSwgMjU1LCAxKVwiLHJhZGl1czpudWxsfSxpbml0Om4uaW5pdCxnZXRPYmplY3RQb3NpdGlvbjpuLmdldFVJT2JqZWN0UG9zaXRpb259LHtuYW1lOlwiR2FtZSBwb2ludHNcIix0ZXh0Om8ucG9pbnRzLGRlc2NyaXB0aW9uOlwiR2FtZSBwYXJ0IHRoZSBuYW1lXCIsY2xpY2tlZDohMSxmb250U2l6ZTpcImxpZ2h0IDE4cHggUm9ib3RvXCIscHJvcGVydHllczp7Y3R4OnQsd2lkdGg6LTUwLGhlaWdodDowLHg6aS8yLHk6NTAsYmFja2dyb3VuZDohMSxib3JkZXJDb2xvcjpcInJnYmEoMjU1LCAyNTUsIDI1NSwgMSlcIixyYWRpdXM6bnVsbH0saW5pdDpuLmluaXQsZ2V0T2JqZWN0UG9zaXRpb246bi5nZXRVSU9iamVjdFBvc2l0aW9ufV19fSxmdW5jdGlvbihlLHQsaSl7XCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIG49aSgyKSxhPWkoMzMpLHI9ZnVuY3Rpb24oZSx0LGksbixhLHIsbyxzKXt0aGlzLng9MCx0aGlzLnk9MCx0aGlzLmJhY2tncm91bmRUZXh0dXJlPWUsdGhpcy5iYWNrZ3JvdW5kU3BlZWQ9dCx0aGlzLnNjcmVlbkRhdGE9aSx0aGlzLmN0eD1uLHRoaXMueD1hPzA6aS53aWR0aCx0aGlzLnk9MCx0aGlzLmltZz1uZXcgSW1hZ2UsdGhpcy5leHRyYU1hcD1yLHRoaXMudGltZVRvRXJlc3NMZXZlbD00LHRoaXMud2FycE9iamVjdHM9W10sdGhpcy50aW1lVG9FeHRyYU1hcFNlY29uZHM9byx0aGlzLnRpbWVUb0V4dHJhTWFwTWludXRlcz1zfTt0LkdhbWVCYWNrZ3JvdW5kPXIsci5wcm90b3R5cGUudXBkYXRlTWFwPWEudXBkYXRlTWFwLHIucHJvdG90eXBlLndhcnBFZmZlY3Q9bi53YXJwRWZmZWN0LHIucHJvdG90eXBlLmNoYW5nZVBhcnRPZlRleHR1cmU9YS5jaGFuZ2VQYXJ0T2ZUZXh0dXJlfSxmdW5jdGlvbihlLHQsaSl7XCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIG49aSgwKTt0LnVwZGF0ZU1hcD1mdW5jdGlvbigpe3RoaXMueC09dGhpcy5iYWNrZ3JvdW5kU3BlZWQsTWF0aC5zaWduKHRoaXMuYmFja2dyb3VuZFNwZWVkKT4wJiZ0aGlzLngrdGhpcy5zY3JlZW5EYXRhLndpZHRoPDA/dGhpcy54PXRoaXMuc2NyZWVuRGF0YS53aWR0aDpNYXRoLnNpZ24odGhpcy5iYWNrZ3JvdW5kU3BlZWQpPDAmJnRoaXMueD50aGlzLnNjcmVlbkRhdGEud2lkdGgmJih0aGlzLng9MC10aGlzLnNjcmVlbkRhdGEud2lkdGgpLG4uY3JlYXRlSW1hZ2UodGhpcy5jdHgsdGhpcy5pbWcsdGhpcy54LDAsdGhpcy5zY3JlZW5EYXRhLndpZHRoKzIsdGhpcy5zY3JlZW5EYXRhLmhlaWdodCl9LHQuY2hhbmdlUGFydE9mVGV4dHVyZT1mdW5jdGlvbihlLHQpe3ZhciBpPWUuZ2V0TGV2ZWxVc2VyRGF0YSgpLG49ZS5nZXRTY3JlZW5TaXplKCk7aWYoaS5taW51dGVzPD10aGlzLnRpbWVUb0V4dHJhTWFwTWludXRlcyYmaS5zZWNvbmRzPD10aGlzLnRpbWVUb0V4dHJhTWFwU2Vjb25kcyYmdGhpcy5leHRyYU1hcCYmdGhpcy54Pj1uLndpZHRoLTIwMCl7dmFyIGE9ZS5zaG93R2FtZUluZm8oKTt0aGlzLmltZy5zcmM9YS5pbWFnZURpcnJlY3Rpb24rdGhpcy5leHRyYU1hcH19fSxmdW5jdGlvbihlLHQsaSl7XCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIG49aSgxMCksYT1pKDIpLHI9aSgxKSxvPWZ1bmN0aW9uKGUsdCxpLG4sYSxyLG8scyxsKXt2b2lkIDA9PT1hJiYoYT0xMDApLHZvaWQgMD09PXImJihyPTEwMCksdGhpcy5kYXRhPWUsdGhpcy5wb2ludHM9dCx0aGlzLm51bWJlck9mbGlmZT1uLHRoaXMuaGVhbHRoUG9pbnQ9aStlLmFybW9yLHRoaXMubWF4SGVhbHRoPWkrZS5hcm1vcix0aGlzLng9YS1vLzIsdGhpcy55PXItcy8yLHRoaXMueEZpbmFsPWEsdGhpcy55RmluYWw9cix0aGlzLmNvbGxpc2lvbkFsbG93PSEwLHRoaXMub2JqZWN0T3duZXI9XCJwbGF5ZXJcIix0aGlzLndpZHRoPW8sdGhpcy5oZWlnaHQ9cyx0aGlzLnhBZGo9MCx0aGlzLnNwZWVkPWUuc3BlZWQsdGhpcy5leHBsb3Npb249ZS5leHBsb3Npb24sdGhpcy5kYW1hZ2U9bH07dC5QbGF5ZXJTaGlwPW8sby5wcm90b3R5cGUuaW5pdFBsYXllclNoaXA9bi5pbml0UGxheWVyU2hpcCxvLnByb3RvdHlwZS5tb3ZlUGxheWVyU2hpcD1uLm1vdmVQbGF5ZXJTaGlwLG8ucHJvdG90eXBlLnNoaXBDb250cm9sPW4uc2hpcENvbnRyb2wsby5wcm90b3R5cGUubW92ZVNoaXA9bi5tb3ZlU2hpcCxvLnByb3RvdHlwZS5wbGFjZVNoaXA9bi5wbGFjZVNoaXAsby5wcm90b3R5cGUuc2V0Q29udGV4dD1uLnNldENvbnRleHQsby5wcm90b3R5cGUuZ2V0T2JqZWN0UG9zaXRpb249YS5nZXRPYmplY3RQb3NpdGlvbixvLnByb3RvdHlwZS50YWtlRGFtYWdlPXIudGFrZURhbWFnZX0sZnVuY3Rpb24oZSx0LGkpe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciBuPWkoMzYpLGE9aSgyKSxyPWkoMSksbz1mdW5jdGlvbihlLHQsaSxuLGEscixvLHMsbCxjLGgsdSxtLGQsZyxwKXt0aGlzLng9ZSx0aGlzLnk9dCx0aGlzLmJ1bGxldFR5cGU9aSx0aGlzLmJ1bGxldFRleHR1cmU9bix0aGlzLm9iamVjdE93bmVyPWEsdGhpcy5idWxsZXRTcGVlZD1yLHRoaXMud2lkdGg9byx0aGlzLmhlaWdodD1zLHRoaXMuZGFtYWdlPWwsdGhpcy5pZD0obmV3IERhdGUpLmdldFRpbWUoKSx0aGlzLm9iamVjdFByZXNlbnQ9ITAsdGhpcy50eXBlPWMsdGhpcy5pbWc9bmV3IEltYWdlLHRoaXMudGV4dHVyZT1fX2Rpcm5hbWUrXCIvcHVibGljL2ltYWdlcy9cIitoLHRoaXMuc3g9dSx0aGlzLnN5PW0sdGhpcy5zV2lkdGg9ZCx0aGlzLnNIZWlnaHQ9Zyx0aGlzLmV4cGxvc2lvbj1wfTt0LkJ1bGxldENvbnN0cnVjdD1vLG8ucHJvdG90eXBlLmNyZWF0ZUJ1bGxldHM9bi5jcmVhdGVCdWxsZXRzLG8ucHJvdG90eXBlLmluaXRCdWxsZXRzPW4uaW5pdEJ1bGxldHMsby5wcm90b3R5cGUubW92ZUJ1bGxldHM9bi5tb3ZlQnVsbGV0cyxvLnByb3RvdHlwZS5nZXRPYmplY3RQb3NpdGlvbj1hLmdldE9iamVjdFBvc2l0aW9uLG8ucHJvdG90eXBlLnRha2VEYW1hZ2U9ci50YWtlRGFtYWdlfSxmdW5jdGlvbihlLHQsaSl7XCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIG49aSgwKTt0LmNyZWF0ZUJ1bGxldHM9ZnVuY3Rpb24oZSl7bi5jcmVhdGVMYXNlckJ1bGxldCh7c291cmNlOnRoaXMsb2JqZWN0T3duZXI6dGhpcy5vYmplY3RPd25lcixjdHg6ZS5nYW1lSW5pdERhdGEuY3R4QWN0aW9uRmllbGQseDp0aGlzLngseTp0aGlzLnksY29sb3I6dGhpcy5idWxsZXRUZXh0dXJlLHdpZHRoOnRoaXMud2lkdGgsaGVpZ2h0OnRoaXMuaGVpZ2h0LHJhZGl1czo1LHR5cGU6dGhpcy50eXBlLGltZzp0aGlzLmltZyxzeDp0aGlzLnN4LHN5OnRoaXMuc3ksc1dpZHRoOnRoaXMuc1dpZHRoLHNIZWlnaHQ6dGhpcy5zSGVpZ2h0fSl9LHQuaW5pdEJ1bGxldHM9ZnVuY3Rpb24oKXt9LHQubW92ZUJ1bGxldHM9ZnVuY3Rpb24oZSx0KXtzd2l0Y2godGhpcy50eXBlKXtjYXNlXCJibGFzdGVyXCI6aS5jYWxsKHRoaXMpO2JyZWFrO2Nhc2VcImJlYW1cIjooZnVuY3Rpb24oKXt0LmdldFNjcmVlblNpemUoKTt0aGlzLng+MD90aGlzLndpZHRoKz10aGlzLmJ1bGxldFNwZWVkOnRoaXMud2lkdGg+MCYmKHRoaXMueD0wLHRoaXMud2lkdGgtPXRoaXMuYnVsbGV0U3BlZWQpfSkuY2FsbCh0aGlzKSxpLmNhbGwodGhpcyk7YnJlYWs7ZGVmYXVsdDppLmNhbGwodGhpcyl9ZnVuY3Rpb24gaSgpe1wicGxheWVyXCI9PXRoaXMub2JqZWN0T3duZXI/dGhpcy54Kz10aGlzLmJ1bGxldFNwZWVkOnRoaXMueC09dGhpcy5idWxsZXRTcGVlZH19fSxmdW5jdGlvbihlLHQsaSl7XCJ1c2Ugc3RyaWN0XCI7dmFyIG49dGhpcyYmdGhpcy5fX3Jlc3R8fGZ1bmN0aW9uKGUsdCl7dmFyIGk9e307Zm9yKHZhciBuIGluIGUpT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsbikmJnQuaW5kZXhPZihuKTwwJiYoaVtuXT1lW25dKTtpZihudWxsIT1lJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKXt2YXIgYT0wO2ZvcihuPU9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMoZSk7YTxuLmxlbmd0aDthKyspdC5pbmRleE9mKG5bYV0pPDAmJk9iamVjdC5wcm90b3R5cGUucHJvcGVydHlJc0VudW1lcmFibGUuY2FsbChlLG5bYV0pJiYoaVtuW2FdXT1lW25bYV1dKX1yZXR1cm4gaX0sYT10aGlzJiZ0aGlzLl9faW1wb3J0U3Rhcnx8ZnVuY3Rpb24oZSl7aWYoZSYmZS5fX2VzTW9kdWxlKXJldHVybiBlO3ZhciB0PXt9O2lmKG51bGwhPWUpZm9yKHZhciBpIGluIGUpT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwoZSxpKSYmKHRbaV09ZVtpXSk7cmV0dXJuIHQuZGVmYXVsdD1lLHR9O09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciByPWEoaSgzOCkpLG89aSg5KSxzPWkoMSksbD1mdW5jdGlvbihlKXt2YXIgdD1uKGUsW10pO3RoaXMueD10LngsdGhpcy55PXQueSx0aGlzLnN4PXQuc3gsdGhpcy5zeT10LnN5LHRoaXMuc1dpZHRoPXQuc1dpZHRoLHRoaXMuc0hlaWdodD10LnNIZWlnaHQsdGhpcy53aWR0aD10LndpZHRoLHRoaXMuaGVpZ2h0PXQuaGVpZ2h0LHRoaXMuaW1nPW5ldyBJbWFnZSx0aGlzLnRleHR1cmU9X19kaXJuYW1lK1wiL3B1YmxpYy9pbWFnZXMvXCIrdC50ZXh0dXJlLHRoaXMuYW5pbWF0aW9uU3RlcHM9dC5hbmltYXRpb25TdGVwcyx0aGlzLm51bWJlck9mSXRlbXM9dC5udW1iZXJPZkl0ZW1zLHRoaXMudGFyZ2V0PXQudGFyZ2V0LHRoaXMuYW5pbWF0aW9uU3RhdGU9ITAsdGhpcy5kZXRlY3RGcmFtZT0wLHRoaXMub2JqZWN0UHJlc2VudD0hMCx0aGlzLnNwZWVkPXQuc3BlZWQsdGhpcy5waWN0dXJlc1dpZHRoPXQucGljdHVyZXNXaWR0aCx0aGlzLmRhbWFnZT10LmRhbWFnZT90LmRhbWFnZTpudWxsLHRoaXMub2JqZWN0T3duZXI9dC5vYmplY3RPd25lcj90Lm9iamVjdE93bmVyOm51bGwsdGhpcy5oZWFsdGhQb2ludD10LmhlYWx0aFBvaW50P3QuaGVhbHRoUG9pbnQ6bnVsbCx0aGlzLmlzQmFja2dyb3VuZD10LmlzQmFja2dyb3VuZD90LmlzQmFja2dyb3VuZDpudWxsLHRoaXMuZXhwbG9zaW9uPXQuZXhwbG9zaW9uP3QuZXhwbG9zaW9uOm51bGwsdGhpcy5wb2ludHNQZXJVbml0PXQucG9pbnRzUGVyVW5pdD90LnBvaW50c1BlclVuaXQ6MH07dC5TaWRlT2JqZWN0PWwsbC5wcm90b3R5cGUuZW5lbXlBbmltYXRpb249ci5lbmVteUFuaW1hdGlvbixsLnByb3RvdHlwZS5wbGFjZUVuZW15ZXM9ci5wbGFjZUVuZW15ZXMsbC5wcm90b3R5cGUuZmlyZUFuaW1hdGlvbkVuZGVkPW8uZmlyZUFuaW1hdGlvbkVuZGVkLGwucHJvdG90eXBlLnRha2VEYW1hZ2U9cy50YWtlRGFtYWdlLGwucHJvdG90eXBlLm1hcE9iamVjdE1vdmU9by5tYXBPYmplY3RNb3ZlLGwucHJvdG90eXBlLmVuZW15RGFtYWdlQW5pbWF0aW9uPXMuZW5lbXlEYW1hZ2VBbmltYXRpb259LGZ1bmN0aW9uKGUsdCxpKXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSxmdW5jdGlvbihlKXtmb3IodmFyIGkgaW4gZSl0Lmhhc093blByb3BlcnR5KGkpfHwodFtpXT1lW2ldKX0oaSgxKSl9LGZ1bmN0aW9uKGUsdCxpKXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgbj1pKDQpO3QuZ2FtZU92ZXJTY3JlZW49ZnVuY3Rpb24oZSx0LGksYSxyKXtyZXR1cm4gZXx8W3tuYW1lOlwiUGF1c2UgdGV4dFwiLHRleHQ6XCJHYW1lIE92ZXJcIixkZXNjcmlwdGlvbjpcInRleHQgZm9yIGdhbWUgb3ZlciB3aW5kb3dcIixmb250U2l6ZTpcIjExMHB4IEFyaWFsXCIsY2xpY2tlZDohMSxwcm9wZXJ0eWVzOntjdHg6dCx3aWR0aDowLGhlaWdodDo5MCx4OmkvMi0yNTAseTphLzItNTAsYmFja2dyb3VuZDpcInJnYmEoMjU1LCAyNTUsIDI1NSwgMSlcIixib3JkZXJDb2xvcjpcInJnYmEoMjU1LCAyNTUsIDI1NSwgMSlcIixyYWRpdXM6NDV9LGluaXQ6bi5pbml0LGdldE9iamVjdFBvc2l0aW9uOm4uZ2V0VUlPYmplY3RQb3NpdGlvbn1dfX0sZnVuY3Rpb24oZSx0LGkpe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIG4oZSl7Zm9yKHZhciBpIGluIGUpdC5oYXNPd25Qcm9wZXJ0eShpKXx8KHRbaV09ZVtpXSl9T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksbihpKDkpKSxuKGkoMTApKSxuKGkoMikpLG4oaSgzNikpLG4oaSgzMykpLG4oaSg0MSkpfSxmdW5jdGlvbihlLHQsaSl7XCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dC5ub0RhdGE9XCJUaGVyZSBpcyBubyBkYXRhXCIsdC5ub09iamVjdD1cIlRoZXJlIGlzIG5vIE9iamVjdFwifV0pOyJdLCJtYXBwaW5ncyI6IkFBQUEiLCJzb3VyY2VSb290IjoiIn0=