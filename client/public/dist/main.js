!function(e){var t={};function i(a){if(t[a])return t[a].exports;var n=t[a]={i:a,l:!1,exports:{}};return e[a].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=e,i.c=t,i.d=function(e,t,a){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(i.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)i.d(a,n,function(t){return e[t]}.bind(null,n));return a},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/public/dist",i(i.s=11)}([function(e,t,i){"use strict";var a=this&&this.__spreadArrays||function(){for(var e=0,t=0,i=arguments.length;t<i;t++)e+=arguments[t].length;var a=Array(e),n=0;for(t=0;t<i;t++)for(var r=arguments[t],o=0,s=r.length;o<s;o++,n++)a[n]=r[o];return a};Object.defineProperty(t,"__esModule",{value:!0});var n=i(22);t.createWindow=n.createWindow,t.createShapeRoundBorder=n.createShapeRoundBorder,t.createRoundButton=n.createRoundButton;var r=i(23);function o(e,t){for(var i=[],a=2;a<arguments.length;a++)i[a-2]=arguments[a];e[t].apply(e,i)}t.draw=o,t.createLaserBullet=function(e){if(!e.ctx)return new Error("no context");"player"==e.objectOwner&&"blaster"==e.type&&r.weapon1(e,o),"enemy"==e.objectOwner&&"blaster"==e.type&&r.weapon1(e,o),"enemy"==e.objectOwner&&"beam"==e.type&&r.weapon1(e,o)},t.createImage=function(e,t){for(var i=[],n=2;n<arguments.length;n++)i[n-2]=arguments[n];o.apply(void 0,a([e,"drawImage",t],i))},t.clearField=function(e,t,i){o(e,"clearRect",0,0,t,i)}},function(e,t,i){"use strict";var a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)Object.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var n=i(0),r=i(9),o=a(i(3));t.placeEnemyes=function(e){n.createImage(e.gameInitData.ctxActionField,this.img,this.sx,this.sy,this.sWidth,this.sHeight,this.x,this.y,this.width,this.height)},t.moveEnemyes=function(e,t){void 0===t&&(t=0),this.x-=this.speed,this.y-=t},t.loadEnemyes=function(){this.img=new Image,this.img.src=this.shipTexture},t.shoot=function(e,t){if(t.gameInitData.gamePause||!this.isShoot)return!1;for(var i=this.guns,a=function(i){if(1>t.gameRandomizer(i.fireRepead)){var a=new e(n.x,n.y+(i.firePosition?i.firePosition:t.gameRandomizer(n.height)),i.name,i.color,"enemy",i.speed+n.speed,i.width,i.height,i.damage,i.type,i.texture,i.sx,i.sy,i.sWidth,i.sHeight,i.explosionAnimation);a.img.src=a.texture,a.img.onload=function(){t.gameInitData.allGameBullets=t.gameInitData.allGameBullets.concat(a)}}},n=this,r=0,o=i;r<o.length;r++){a(o[r])}},t.enemyAnimation=function(e){void 0===e&&(e=!0),this.detectFrame+=1,this.detectFrame%this.animationSteps==0&&e&&(this.detectFrame=0,this.sx+=this.sWidth,this.sx>=this.picturesWidth&&(this.sx=0))},t.enemyDamageAnimation=function(){if(this.numberOfVerticalItems>1){var e=this.originalHealthPoint/this.numberOfVerticalItems,t=new Array(this.numberOfVerticalItems).fill(null);t=t.map((function(t,i){return e*(i+1)})).sort((function(e,t){return e-t})).reverse();for(var i=0;i<t.length;i++){if(this.healthPoint<t[i]&&this.healthPoint>t[i+1]&&t[i+1]){this.sy=this.sHeight*i;break}t[i+1]||(this.sy=this.sHeight*(this.numberOfVerticalItems-1))}}},t.takeDamage=function(e,t,i){if(this.hasOwnProperty("bulletType")&&"enemy"==this.objectOwner&&"player"==t.objectOwner||this.hasOwnProperty("bulletType")&&"player"==this.objectOwner&&"enemy"==t.objectOwner||this.hasOwnProperty("bulletType")&&"player"==this.objectOwner&&"environment"==t.objectOwner&&t.hasOwnProperty("healthPoint"))return r.explosionFire(this,i,t,o.SideObject),this.objectPresent=!1;if(this.hasOwnProperty("healthPoint")&&"enemy"==this.objectOwner&&"player"==t.objectOwner||this.hasOwnProperty("healthPoint")&&"environment"==this.objectOwner&&"player"==t.objectOwner)a.call(this,null,i),this.enemyDamageAnimation(),this.healthPoint<=0&&(this.objectPresent=!1,r.explosionFire(this,i,t,o.SideObject),this.isBoss&&(i.gameInitData.levelChange=!0));else{if(!this.hasOwnProperty("healthPoint")||"player"!=this.objectOwner||"enemy"!=t.objectOwner)return!1;this.collisionAllow&&a.call(this,i.getLevelUserData(),i)}function a(t,i){if(this.healthPoint-=e,this.healthPoint<=0)return t&&t.life>0?(t.sourse.playerObject.numberOflife-=1,t.sourse.playerObject.numberOflife<=0&&(i.gameOverWindow(),i.gameInitData.gameOver=!0,setTimeout((function(){i.backToStartScreen(o.PlayerShip)}),3e3)),this.healthPoint=t.sourse.playerObject.maxHealth,!1):(i.collectPoints(this.pointsPerUnit),this.objectPresent=!1)}},t.hitDetection=function(e,t,i){for(var a=null,n=0,r=t;n<r.length;n++){var o=r[n],s=e.getObjectPosition.call(e),l=Math.max(s.x,o.x),c=Math.max(s.y,o.y),h=Math.min(s.x+(e.width||s.width),o.x+o.width)-l,u=Math.min(s.y+(e.height||s.height),o.y+o.height)-c;if("collision"==(a=!(Math.sign(h)<0||Math.sign(u)<0)&&"collision")){e.takeDamage&&o.takeDamage&&(e.takeDamage(o.damage?o.damage:0,o,i),o.takeDamage(e.damage?e.damage:0,e,i));break}}return"collision"==a&&e}},function(e,t,i){"use strict";var a=this&&this.__spreadArrays||function(){for(var e=0,t=0,i=arguments.length;t<i;t++)e+=arguments[t].length;var a=Array(e),n=0;for(t=0;t<i;t++)for(var r=arguments[t],o=0,s=r.length;o<s;o++,n++)a[n]=r[o];return a};Object.defineProperty(t,"__esModule",{value:!0});var n=i(0);t.initField=function(e,t){void 0===e&&(e=window.innerWidth),void 0===t&&(t=window.innerHeight);var i=[].concat(this.gameInitData.gameField,this.gameInitData.gameActionField,this.gameInitData.gameUIField);if(!i)throw Error("Error");for(var a=0,n=i;a<n.length;a++){var r=n[a];r=Object.assign(r,{width:e-4,height:t-4})}},t.setGameFields=function(){this.initField(),this.createContext(),this.initPlayerShip()},t.warpEffect=function(){var e=this.getScreenSize(),t=this.gameInitData.ctx,i=this.gameInitData.warpObjects;if(this.getSecondMeasure((function(e){var t=!(this.gameInitData.timeToEressLevel>=0);this.gameInitData.timeToEressLevel>=0&&!t&&(this.gameInitData.timeToEressLevel-=1);this.gameInitData.timeToEressLevel<0&&!t&&this.changeLevelProcedure()}),{timeToEressLevel:this.gameInitData.timeToEressLevel,ctx:t,screenSiz:this.getScreenSize()}),this.gameInitData.warpObjects=i.length<350?this.gameInitData.warpObjects.concat({x:e.width,y:this.gameRandomizer(e.height),height:this.gameRandomizer(20,10),width:10,speed:this.gameRandomizer(10,5),background:this.getRandomColor()}):this.gameInitData.warpObjects,i.length>0)for(var a=0,r=i;a<r.length;a++){var o=r[a];o.x-=o.x>0?o.speed:0,o.width=i.length<150?o.width-o.speed:i.length>150&&i.length<350?o.width+o.speed:o.width-o.speed,t.fillStyle=o.background,n.draw(t,"fillRect",o.x,o.y,o.width,o.height),t.fill()}},t.levelInit=function(e,t,i){var a=this.showLevelData().levelBackgroundElements;i.gameInitData.backScreenPause=!1;for(var n=0,r=a;n<r.length;n++){var o=r[n],s=new e(o.levelMap,o.speed,this.gameInitData.screen,t,this.gameInitData.mapBackgroundObjects.length%2==0||null,o.extraMap?o.extraMap:null,o.timeToExtraMapSeconds?o.timeToExtraMapSeconds:null,o.timeToExtraMapMinutes?o.timeToExtraMapMinutes:null);i.gameInitData.mapBackgroundObjects=i.gameInitData.mapBackgroundObjects.concat(s),s.img.src=this.showGameInfo().imageDirrection+s.backgroundTexture}},t.createContext=function(){this.gameInitData.ctx=this.gameInitData.gameField.getContext("2d"),this.gameInitData.ctxActionField=this.gameInitData.gameActionField.getContext("2d"),this.gameInitData.ctxUIField=this.gameInitData.gameUIField.getContext("2d")},t.getScreenSize=function(){return{width:this.gameInitData.screen.width,height:this.gameInitData.screen.height}},t.changeLevelProcedure=function(){var e=this.showGameInfo();this.changeLevel(e.gameData.currentLevel+1)<=e.gameData.levelData.allLevels?this.nextLevelDataReload(e):alert("Win Game Screen ")},t.levelTimer=function(){var e=this.getLevelUserData();if(e.sourse.levelData.bosPresents)e.sourse.levelData.levelDetails.levelSeconds=null,e.sourse.levelData.levelDetails.levelMinutes=null;else{e.sourse.levelData.levelDetails;this.gameInitData.levelChange||this.getSecondMeasure((function(e){e.levelSeconds<=0&&(0==e.levelMinutes&&0==e.levelSeconds&&(e.levelSeconds=0,this.gameInitData.levelChange=!0),e.levelMinutes=e.levelMinutes>0?e.levelMinutes-1:0);e.levelSeconds=e.levelSeconds>0?e.levelSeconds-1:this.gameInitData.levelChange?0:59}),e.sourse.levelData.levelDetails)}},t.getSecondMeasure=function(e){for(var t=[],i=1;i<arguments.length;i++)t[i-1]=arguments[i];var n=1e3/this.gameInitData.intervalCount;if(this.gameInitData.gemeExtraSeconds%n==0)return this.gameInitData.gemeExtraSeconds=0,e?e.call.apply(e,a([this],t)):n},t.gameSecondsIncrease=function(){this.gameInitData.gemeExtraSeconds+=1},t.getLevelUserData=function(){var e=this.gameInitData.gameData,t=e.levelData.levelDetails;return{sourse:e,currentLevel:e.currentLevel,allLevels:e.levelData.allLevels,points:e.currentPoint,life:e.playerObject.numberOflife,minutes:t.levelMinutes,seconds:t.levelSeconds}},t.deleteBullet=function(e){if(e.x>this.gameInitData.screen.width||e.x<-1*e.width||!e.objectPresent){var t=this.gameInitData.allGameBullets.indexOf(e);this.gameInitData.allGameBullets.splice(t,1)}},t.deleteObjects=function(e){if(e.x+e.sWidth<0||!e.objectPresent){var t=this.gameInitData.allGameEnemies.indexOf(e);this.gameInitData.allGameEnemies.splice(t,1)}},t.delateSideObject=function(e){if(!e.objectPresent||e.x<0-e.width){var t=this.gameInitData.allGameSideObjects.indexOf(e);this.gameInitData.allGameSideObjects.splice(t,1)}},t.collectPoints=function(e){this.gameInitData.gameData.currentPoint+=e},t.getObjectPosition=function(){return{x:this.x,y:this.y,width:this.width,height:this.height}},t.getRandomColor=function(){for(var e="#",t=0;t<6;t++)e+="0123456789ABCDEF"[Math.floor(16*Math.random())];return e}},function(e,t,i){"use strict";function a(e){for(var i in e)t.hasOwnProperty(i)||(t[i]=e[i])}Object.defineProperty(t,"__esModule",{value:!0}),a(i(20)),a(i(32)),a(i(8)),a(i(34)),a(i(35)),a(i(37))},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.init=function(e,t){e(t=t||this)},t.getUIObjectPosition=function(){return{x:this.propertyes.x,y:this.propertyes.y,width:this.propertyes.width,height:this.propertyes.height}}},function(e,t,i){"use strict";var a=this&&this.__awaiter||function(e,t,i,a){return new(i||(i=Promise))((function(n,r){function o(e){try{l(a.next(e))}catch(e){r(e)}}function s(e){try{l(a.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?n(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(o,s)}l((a=a.apply(e,t||[])).next())}))},n=this&&this.__generator||function(e,t){var i,a,n,r,o={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(r){return function(s){return function(r){if(i)throw new TypeError("Generator is already executing.");for(;o;)try{if(i=1,a&&(n=2&r[0]?a.return:r[0]?a.throw||((n=a.return)&&n.call(a),0):a.next)&&!(n=n.call(a,r[1])).done)return n;switch(a=0,n&&(r=[2&r[0],n.value]),r[0]){case 0:case 1:n=r;break;case 4:return o.label++,{value:r[1],done:!1};case 5:o.label++,a=r[1],r=[0];continue;case 7:r=o.ops.pop(),o.trys.pop();continue;default:if(!(n=(n=o.trys).length>0&&n[n.length-1])&&(6===r[0]||2===r[0])){o=0;continue}if(3===r[0]&&(!n||r[1]>n[0]&&r[1]<n[3])){o.label=r[1];break}if(6===r[0]&&o.label<n[1]){o.label=n[1],n=r;break}if(n&&o.label<n[2]){o.label=n[2],o.ops.push(r);break}n[2]&&o.ops.pop(),o.trys.pop();continue}r=t.call(e,o)}catch(e){r=[6,e],a=0}finally{i=n=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,s])}}};Object.defineProperty(t,"__esModule",{value:!0});var r=i(19);function o(e){return a(this,void 0,void 0,(function(){var t,i,a,o,s,l;return n(this,(function(n){switch(n.label){case 0:return t={host:"http://localhost:3000/",picturesDirection:__dirname+"/public/images/",levelData:{method:"GET",url:"api/level-data"},levelObjects:{method:"GET",url:"api/level-objects"},gameSetings:{method:"GET",url:"api/game-settings"},userShip:{method:"GET",url:"api/user-ship"},enemylData:{method:"GET",url:"api/enemy-ship"}},[4,r.getData({url:t.host+t.levelData.url,method:t.levelData.method,data:null,headers:{maplevel:e.level}})];case 1:return i=n.sent(),[4,r.getData({url:t.host+t.levelObjects.url,method:t.levelObjects.method,data:null,headers:{mapObject:i.levelOBjects}})];case 2:return a=n.sent(),[4,r.getData({url:t.host+t.gameSetings.url,method:t.gameSetings.method,data:null,headers:null})];case 3:return o=n.sent(),[4,r.getData({url:t.host+t.userShip.url,method:t.userShip.method,data:null,headers:{usership:e.shipConfiguration}})];case 4:return s=n.sent(),[4,r.getData({url:t.host+t.enemylData.url,method:t.enemylData.method,data:null,headers:{"ship-type-number":i.enemyType}})];case 5:return l=n.sent(),[2,{levelData:i,levelObjects:a,gameSetings:o,userData:s,enemyData:l}]}}))}))}function s(e){return a(this,void 0,void 0,(function(){var t,i,a,r,s,l,c,h,u,m,d;return n(this,(function(n){switch(n.label){case 0:return t=document.querySelector("#gamefield"),i=document.querySelector("#gameObjectsfield"),a=document.querySelector("#gameUifield"),1,s=5,[4,o({level:r=4,shipConfiguration:1})];case 1:return l=n.sent(),c=l.levelData,h=l.levelObjects,u=l.gameSetings,m=l.userData,d=l.enemyData,[2,{data:{ctx:null,gameField:t||null,gameActionField:i||null,gameUIField:a||null,gameData:{currentLevel:r,currentPoint:0,playerObject:new e(m,0,300,s,100,100,m.size.width,m.size.height,m.damage),levelData:c,levelObjects:h,gameSetings:u,enemyData:d,controllers:null},screen:{width:window.innerWidth,height:window.innerHeight},intervalCount:20,enemyType:null,allGameSideObjects:[],allGameEnemies:[],allGameBullets:[],allGameMapOBjects:[],mapBackgroundObjects:[],warpObjects:[],timeToEressLevel:6,levelChange:!1,gamePause:!1,gameUiPause:!1,backScreenPause:!0,gameStatus:!1,gameOver:!1,gemeExtraSeconds:0}}]}}))}))}t.serverRequest=o,t.gameDataInit=s,t.gameEngine=function(e){return a(this,void 0,void 0,(function(){return n(this,(function(e){return[2]}))}))},t.gameStart=function(){this.gameInitData.gameOver=!1,this.gameInitData.gameStatus=!0},t.backToStartScreen=function(e){return a(this,void 0,void 0,(function(){var t,i,a,r,o,l;return n(this,(function(n){switch(n.label){case 0:return[4,s(e)];case 1:for(t=n.sent(),i=0,a=Object.entries(t.data);i<a.length;i++)r=a[i],o=r[0],null!==(l=r[1])&&(this.gameInitData[o]=l);return this.gameInitData.gameOver=!1,this.gameInitData.gameStatus=!1,[2]}}))}))}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.uiImage=function(e){var t=e.propertyes;t.ctx.drawImage(t.background,0,0,t.sWidth,t.sHeight,t.x,t.y,t.width,t.height)},t.uiText=function(e){var t=e.propertyes;t.ctx.measureText(e.text).width,t.ctx.font=e.fontSize,t.ctx.fillStyle=t.borderColor,t.ctx.fillText(e.text,t.x+t.width,t.y+t.height)},t.uiRepeatImage=function(e){var t=e.propertyes,i=t.ctx.createPattern(t.background,"repeat-x");t.ctx.rect(t.x,t.y,t.width,t.height),t.ctx.fillStyle=i,t.ctx.fill()}},function(e,t,i){"use strict";var a=this&&this.__awaiter||function(e,t,i,a){return new(i||(i=Promise))((function(n,r){function o(e){try{l(a.next(e))}catch(e){r(e)}}function s(e){try{l(a.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?n(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(o,s)}l((a=a.apply(e,t||[])).next())}))},n=this&&this.__generator||function(e,t){var i,a,n,r,o={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(r){return function(s){return function(r){if(i)throw new TypeError("Generator is already executing.");for(;o;)try{if(i=1,a&&(n=2&r[0]?a.return:r[0]?a.throw||((n=a.return)&&n.call(a),0):a.next)&&!(n=n.call(a,r[1])).done)return n;switch(a=0,n&&(r=[2&r[0],n.value]),r[0]){case 0:case 1:n=r;break;case 4:return o.label++,{value:r[1],done:!1};case 5:o.label++,a=r[1],r=[0];continue;case 7:r=o.ops.pop(),o.trys.pop();continue;default:if(!(n=(n=o.trys).length>0&&n[n.length-1])&&(6===r[0]||2===r[0])){o=0;continue}if(3===r[0]&&(!n||r[1]>n[0]&&r[1]<n[3])){o.label=r[1];break}if(6===r[0]&&o.label<n[1]){o.label=n[1],n=r;break}if(n&&o.label<n[2]){o.label=n[2],o.ops.push(r);break}n[2]&&o.ops.pop(),o.trys.pop();continue}r=t.call(e,o)}catch(e){r=[6,e],a=0}finally{i=n=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,s])}}};Object.defineProperty(t,"__esModule",{value:!0});var r=i(5);t.nextLevelDataReload=function(e){return a(this,void 0,void 0,(function(){function t(e){for(var a=0,n=Object.entries(e);a<n.length;a++){var r=n[a],o=r[0],s=r[1];"object"!=typeof e[o]||null==s||e[o].length||t(e[o]),i.call(this,o,e)}}function i(e,t){for(var i=0,a=Object.entries(l);i<a.length;i++){var n=a[i],r=n[0],o=n[1];r==e&&null!=o&&(this.gameInitData[r]=o)}}var a,o,s,l;return n(this,(function(i){switch(i.label){case 0:return a=e.gameData.currentLevel,[4,r.serverRequest({level:a,shipConfiguration:1})];case 1:return o=i.sent(),l={gameData:{currentLevel:a,currentPoint:(s=this).gameInitData.gameData.currentPoint,playerObject:s.gameInitData.gameData.playerObject,levelData:o.levelData,levelObjects:o.levelObjects,gameSetings:s.gameInitData.gameData.gameSetings,enemyData:o.enemyData,controllers:s.gameInitData.gameData.controllers},enemyType:null,allGameSideObjects:[],allGameEnemies:[],allGameBullets:[],allGameMapOBjects:[],mapBackgroundObjects:[],gamePause:!1,gameUiPause:!1,backScreenPause:!0,gameOver:!1,gemeExtraSeconds:0},setTimeout((function(){s.gameInitData.warpObjects=[],s.gameInitData.timeToEressLevel=6,s.gameInitData.levelChange=!1}),5e3),t.call(this,this.gameInitData),[2]}}))}))}},function(e,t,i){"use strict";var a=this&&this.__rest||function(e,t){var i={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(i[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var n=0;for(a=Object.getOwnPropertySymbols(e);n<a.length;n++)t.indexOf(a[n])<0&&Object.prototype.propertyIsEnumerable.call(e,a[n])&&(i[a[n]]=e[a[n]])}return i};Object.defineProperty(t,"__esModule",{value:!0});var n=i(21),r=i(1),o=i(40);console.log(n.enemyShipLogicVertical," <<<<");var s=function(e){var t=a(e,[]);this.id=(new Date).getTime(),this.x=t.x,this.y=t.y,this.sx=t.sx,this.sy=t.sy,this.sWidth=t.sWidth,this.sHeight=t.sHeight,this.picturesWidth=t.picturesWidth,this.numberOfItems=t.numberOfItems,this.width=t.width,this.height=t.height,this.shipTexture=__dirname+"/public/images/spaceShips/"+t.shipTexture,this.speed=t.speed,this.status=t.status,this.name=t.name,this.bulletTypeNumber=t.bulletTypeNumber,this.rapidFire=t.rapidFire,this.pointsPerUnit=t.pointsPerUnit,this.healthPoint=t.healthPoint,this.animationSteps=t.animationSteps,this.damage=t.damage,this.guns=t.guns,this.detectFrame=0,this.objectPresent=!0,this.objectOwner=t.objectOwner,this.guns=t.guns,this.explosion=t.explosion,this.numberOfVerticalItems=t.numberOfVerticalItems,this.originalHealthPoint=t.healthPoint,this.isMove=t.isMove,this.isShoot=t.isShoot,this.verticalSpeed=t.verticalSpeed?t.verticalSpeed:Math.floor(Math.random()*t.speed+1),this.spotDistance=t.isBoss?t.spotDistance:Math.floor(Math.random()*t.spotDistance),this.yFinal=0,this.xFinal=0,this.behavior=t.behavior,this.direction=null,this.isBoss=t.isBoss};t.EnemyObject=s,s.prototype.placeEnemyes=r.placeEnemyes,s.prototype.moveEnemyes=r.moveEnemyes,s.prototype.loadEnemyes=r.loadEnemyes,s.prototype.shoot=r.shoot,s.prototype.enemyAnimation=r.enemyAnimation,s.prototype.getObjectPosition=o.getObjectPosition,s.prototype.enemyDamageAnimation=r.enemyDamageAnimation,s.prototype.enemyShipLogicVertical=n.enemyShipLogicVertical,s.prototype.enemyVerticalMoveCalculation=n.enemyVerticalMoveCalculation,s.prototype.takeDamage=r.takeDamage},function(e,t,i){"use strict";var a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,i=1,a=arguments.length;i<a;i++)for(var n in t=arguments[i])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.explosionFire=function(e,t,i,n){var r=i.x+i.width/2,o=e.x+e.width/2,s=(Math.max(r,o),Math.min(r,o),i.x,e.x,{x:e.x-e.width/2,y:e.y-e.height/2,sx:0,sy:0,objectOwner:"explosion",sWidth:e.explosion.imageWidth/e.explosion.numberOfItems,sHeight:e.explosion.imageHeight,width:2*e.explosion.width,height:2*e.explosion.width,animationSteps:e.explosion.animationSteps,target:i.objectOwner,numberOfItems:e.explosion.imageWidth/e.explosion.numberOfItems,texture:e.explosion.texture,speed:i.speed/2,picturesWidth:e.explosion.imageWidth}),l=new n(a({},s));l.img.src=l.texture,l.img.onload=function(){t.gameInitData.allGameSideObjects=t.gameInitData.allGameSideObjects.concat(l)}},t.fireAnimationEnded=function(e){this.detectFrame+=1,this.detectFrame%this.animationSteps==0&&(this.detectFrame=0,this.sx+=this.sWidth,this.sx>=this.picturesWidth&&(this.objectPresent=!1,this.sx=0)),this.sx>=this.picturesWidth&&(this.animationState=!1)},t.mapObjectMove=function(){this.x-=this.speed?this.speed:3},t.mapRanomObjectSpawn=function(e,t,i){this.getSecondMeasure((function(e,t,i){var n=this,r=this.showGameInfo().gameData.levelData;if(this.gameRandomizer(r.objectProbability)<r.objectMinTimeSpawn){var o=this.getScreenSize(),s=e[this.gameRandomizer(e.length)],l="bottom"==s.spawnDetails.position&&"string"==typeof s.spawnDetails.position?o.height-this.gameRandomizer(s.height):"top"==s.spawnDetails.position&&"string"==typeof s.spawnDetails.position?this.gameRandomizer(s.height):"string"==typeof s.spawnDetails.position?this.gameRandomizer(o.height):s.spawnDetails.position,c={x:o.width,y:l,sx:0,sy:0,objectOwner:s.objectOwner,sWidth:s.imageWidth/s.numberOfItems,sHeight:s.imageHeight,width:s.width,height:s.height,animationSteps:s.animationSteps,target:null,numberOfItems:s.numberOfItems,texture:s.skinName,speed:s.speed,picturesWidth:s.imageWidth,healthPoint:s.healthPoint,damage:s.damage,isBackground:s.isBackground,explosion:s.explosionAnimation,pointsPerUnit:s.pointsPerUnit},h=new t(a({},c));h.img.src=h.texture,h.img.onload=function(){n.gameInitData.allGameSideObjects=n.gameInitData.allGameSideObjects.concat(h)}}}),e,t,i)}},function(e,t,i){"use strict";var a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)Object.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var n=a(i(3)),r=a(i(24));t.initPlayerShip=function(e){var t=this;if(this.ctx){var i=this.data.texture,a=e.showGameInfo().imageDirrection;this.img=new Image,this.img.onload=function(){return t.placePlayerShip&&t.placePlayerShip(),t.img},this.img.src=a+i}},t.movePlayerShip=function(){this.img&&this.ctx&&this.img&&r.createImage(this.ctx,this.img,this.x,this.y,this.width,this.height)},t.shipControl=function(e){var t=this,i=e.gameInitData.gameData.gameSetings.keyControls;document.addEventListener("keydown",(function(a){if(e.gameInitData.gamePause)return!1;i.down.some((function(e){return a.keyCode==e}))&&t.moveShip({xPos:0,yPos:t.data.speed}),i.left.some((function(e){return a.keyCode==e}))&&t.moveShip({xPos:-1*t.data.speed,yPos:0}),i.right.some((function(e){return a.keyCode==e}))&&t.moveShip({xPos:t.data.speed,yPos:0}),i.up.some((function(e){return a.keyCode==e}))&&t.moveShip({xPos:0,yPos:-1*t.data.speed})})),document.addEventListener("mousemove",(function(i){if(e.gameInitData.gamePause)return!1;if("CANVAS"===i.target.tagName&&!e.gameInitData.gamePause&&e.gameInitData.gameStatus){var a=i.clientX-i.target.offsetLeft,n=i.clientY-i.target.offsetTop;t.xFinal=(a%t.data.speed==0?a:t.data.speed*Math.floor(a/t.data.speed))-t.width/2,t.yFinal=(n%t.data.speed==0?n:t.data.speed*Math.floor(n/t.data.speed))-t.height/2}})),document.addEventListener("click",(function(i){if(e.gameInitData.gamePause)return!1;for(var a=function(i){var a=new n.BulletConstruct(t.x,t.y+i.firePosition,i.name,i.color,"player",i.speed+t.xAdj,i.width,i.height,i.damage,i.type,i.texture,i.sx,i.sy,i.sWidth,i.sHeight,i.explosionAnimation);a.img.src=a.texture,a.img.onload=function(){e.gameInitData.allGameBullets=e.gameInitData.allGameBullets.concat(a)}},r=0,o=t.data.guns;r<o.length;r++){a(o[r])}}))},t.setContext=function(e){this.ctx=e},t.placeShip=function(){var e=(this.xFinal-this.x)/this.data.speed,t=(this.yFinal-this.y)/this.data.speed;e=Math.sign(e)>0?e:-1*e,t=Math.sign(t)>0?t:-1*t,e=e>this.data.minSpeed?this.data.minSpeed:e,t=t>this.data.minSpeed?this.data.minSpeed:t,this.xAdj=this.x>this.xFinal?0:e,this.x=this.x>this.xFinal?this.x-e:this.x<this.xFinal?this.x+e:this.xFinal,this.y=this.y>this.yFinal?this.y-t:this.y<this.yFinal?this.y+t:this.yFinal},t.moveShip=function(e){var t=e.xPos,i=void 0===t?0:t,a=e.yPos,n=void 0===a?0:a;this.x+=i,this.y+=n}},function(e,t,i){"use strict";var a=this&&this.__awaiter||function(e,t,i,a){return new(i||(i=Promise))((function(n,r){function o(e){try{l(a.next(e))}catch(e){r(e)}}function s(e){try{l(a.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?n(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(o,s)}l((a=a.apply(e,t||[])).next())}))},n=this&&this.__generator||function(e,t){var i,a,n,r,o={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(r){return function(s){return function(r){if(i)throw new TypeError("Generator is already executing.");for(;o;)try{if(i=1,a&&(n=2&r[0]?a.return:r[0]?a.throw||((n=a.return)&&n.call(a),0):a.next)&&!(n=n.call(a,r[1])).done)return n;switch(a=0,n&&(r=[2&r[0],n.value]),r[0]){case 0:case 1:n=r;break;case 4:return o.label++,{value:r[1],done:!1};case 5:o.label++,a=r[1],r=[0];continue;case 7:r=o.ops.pop(),o.trys.pop();continue;default:if(!(n=(n=o.trys).length>0&&n[n.length-1])&&(6===r[0]||2===r[0])){o=0;continue}if(3===r[0]&&(!n||r[1]>n[0]&&r[1]<n[3])){o.label=r[1];break}if(6===r[0]&&o.label<n[1]){o.label=n[1],n=r;break}if(n&&o.label<n[2]){o.label=n[2],o.ops.push(r);break}n[2]&&o.ops.pop(),o.trys.pop();continue}r=t.call(e,o)}catch(e){r=[6,e],a=0}finally{i=n=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,s])}}},r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)Object.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0}),i(12);var o=i(16),s=r(i(18)),l=r(i(3)),c=i(0);!function(){a(this,void 0,void 0,(function(){function e(){return a(this,void 0,void 0,(function(){var e,t,a,o,s,h,u,m,d,g,p,f;return n(this,(function(n){if(i.gameInitData.ctxUIField&&c.clearField(i.gameInitData.ctxUIField,i.gameInitData.screen.width,i.gameInitData.screen.height),i.gameInitData.ctxActionField&&!i.gameInitData.gamePause&&c.clearField(i.gameInitData.ctxActionField,i.gameInitData.screen.width,i.gameInitData.screen.height),i.gameInitData.backScreenPause&&i.levelInit(l.GameBackground,i.gameInitData.ctx,i),!i.gameInitData.gamePause&&i.gameInitData.gameStatus&&i.gameInitData.gameStatus){if(i.gameInitData.levelChange||i.spawnEnemyLogic(l.EnemyObject),i.gameInitData.allGameBullets.length>0)for(e=0,t=i.gameInitData.allGameBullets;e<t.length;e++)(a=t[e]).moveBullets(r,i),a.createBullets(i),i.deleteBullet(a),i.hitDetection(a,i.gameInitData.allGameEnemies,i),i.hitDetection(r,[a],i),i.hitDetection(a,i.gameInitData.allGameSideObjects,i);if(i.gameInitData.allGameEnemies.length>0)for(o=0,s=i.gameInitData.allGameEnemies;o<s.length;o++)(h=s[o]).placeEnemyes(i),h.moveEnemyes(),h.enemyShipLogicVertical({x:r.x,y:r.y},i),h.enemyAnimation(!0),h.shoot(l.BulletConstruct,i),i.deleteObjects(h),i.hitDetection(r,[h],i);if(i.gameInitData.gameOver||(r.placeShip(),r.movePlayerShip()),i.gameInitData.allGameSideObjects.length>0)for(u=0,m=i.gameInitData.allGameSideObjects;u<m.length;u++)(d=m[u]).placeEnemyes(i),"explosion"==d.objectOwner?d.fireAnimationEnded(i.gameInitData.allGameSideObjects):("enemy"==d.objectOwner&&i.hitDetection(r,[d],i),d.enemyAnimation()),d.mapObjectMove(),i.delateSideObject(d);i.gameInitData.gameData.levelObjects&&i.mapRanomObjectSpawn(i.gameInitData.gameData.levelObjects,l.SideObject,i.gameInitData.allGameSideObjects),i.gameSecondsIncrease(),i.levelTimer()}if(!(i.gameInitData.backScreenPause&&i.gameInitData.gamePause&&i.gameInitData.gameStatus||i.gameInitData.gamePause&&i.gameInitData.gameStatus)){for(i.gameInitData.ctx&&c.clearField(i.gameInitData.ctx,i.gameInitData.screen.width,i.gameInitData.screen.height),g=0,p=i.gameInitData.mapBackgroundObjects;g<p.length;g++)(f=p[g]).updateMap(),f.changePartOfTexture(i,i.gameInitData.mapBackgroundObjects);i.gameInitData.levelChange&&i.warpEffect()}return i.gameInitData.gameStatus||i.showStartWindow(),i.gameInitData.gameStatus&&i.showGameStats(),i.gameInitData.gamePause&&i.showPauseWindow(),i.gameInitData.gameUiPause&&(i.showMenuWindow(),i.showPauseWindow()),i.gameInitData.gameOver&&i.gameOverWindow(),[2]}))}))}var t,i,r,h;return n(this,(function(a){switch(a.label){case 0:return[4,s.gameDataInit(l.PlayerShip)];case 1:return t=a.sent(),[4,new l.Game(t.data)];case 2:return i=a.sent(),r=i.gameInitData.gameData.playerObject,console.log(i,o,__dirname),setInterval(e,i.gameInitData.intervalCount),i.uiController(),i.setGameFields(),i.getScreenSize(),h=i.returnContext(),r.ctx=h.gameActionField,r.initPlayerShip(i),r.shipControl(i),[2]}}))}))}()},function(e,t,i){var a=i(13),n=i(14);"string"==typeof(n=n.__esModule?n.default:n)&&(n=[[e.i,n,""]]);var r={insert:"head",singleton:!1},o=(a(n,r),n.locals?n.locals:{});e.exports=o},function(e,t,i){"use strict";var a,n=function(){return void 0===a&&(a=Boolean(window&&document&&document.all&&!window.atob)),a},r=function(){var e={};return function(t){if(void 0===e[t]){var i=document.querySelector(t);if(window.HTMLIFrameElement&&i instanceof window.HTMLIFrameElement)try{i=i.contentDocument.head}catch(e){i=null}e[t]=i}return e[t]}}(),o=[];function s(e){for(var t=-1,i=0;i<o.length;i++)if(o[i].identifier===e){t=i;break}return t}function l(e,t){for(var i={},a=[],n=0;n<e.length;n++){var r=e[n],l=t.base?r[0]+t.base:r[0],c=i[l]||0,h="".concat(l," ").concat(c);i[l]=c+1;var u=s(h),m={css:r[1],media:r[2],sourceMap:r[3]};-1!==u?(o[u].references++,o[u].updater(m)):o.push({identifier:h,updater:f(m,t),references:1}),a.push(h)}return a}function c(e){var t=document.createElement("style"),a=e.attributes||{};if(void 0===a.nonce){var n=i.nc;n&&(a.nonce=n)}if(Object.keys(a).forEach((function(e){t.setAttribute(e,a[e])})),"function"==typeof e.insert)e.insert(t);else{var o=r(e.insert||"head");if(!o)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");o.appendChild(t)}return t}var h,u=(h=[],function(e,t){return h[e]=t,h.filter(Boolean).join("\n")});function m(e,t,i,a){var n=i?"":a.media?"@media ".concat(a.media," {").concat(a.css,"}"):a.css;if(e.styleSheet)e.styleSheet.cssText=u(t,n);else{var r=document.createTextNode(n),o=e.childNodes;o[t]&&e.removeChild(o[t]),o.length?e.insertBefore(r,o[t]):e.appendChild(r)}}function d(e,t,i){var a=i.css,n=i.media,r=i.sourceMap;if(n?e.setAttribute("media",n):e.removeAttribute("media"),r&&btoa&&(a+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(r))))," */")),e.styleSheet)e.styleSheet.cssText=a;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(a))}}var g=null,p=0;function f(e,t){var i,a,n;if(t.singleton){var r=p++;i=g||(g=c(t)),a=m.bind(null,i,r,!1),n=m.bind(null,i,r,!0)}else i=c(t),a=d.bind(null,i,t),n=function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(i)};return a(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;a(e=t)}else n()}}e.exports=function(e,t){(t=t||{}).singleton||"boolean"==typeof t.singleton||(t.singleton=n());var i=l(e=e||[],t);return function(e){if(e=e||[],"[object Array]"===Object.prototype.toString.call(e)){for(var a=0;a<i.length;a++){var n=s(i[a]);o[n].references--}for(var r=l(e,t),c=0;c<i.length;c++){var h=s(i[c]);0===o[h].references&&(o[h].updater(),o.splice(h,1))}i=r}}}},function(e,t,i){(t=i(15)(!1)).push([e.i,"body{font-family:'Roboto';color:orange;background:#333;margin:0;padding:0}canvas{cursor:crosshair}.gameBackground{background:#000}.game-fields{position:absolute}.game-field-wrapper{display:flex;justify-content:center;height:100vh;align-items:center}\n",""]),e.exports=t},function(e,t,i){"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var i=function(e,t){var i=e[1]||"",a=e[3];if(!a)return i;if(t&&"function"==typeof btoa){var n=(o=a,s=btoa(unescape(encodeURIComponent(JSON.stringify(o)))),l="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(s),"/*# ".concat(l," */")),r=a.sources.map((function(e){return"/*# sourceURL=".concat(a.sourceRoot||"").concat(e," */")}));return[i].concat(r).concat([n]).join("\n")}var o,s,l;return[i].join("\n")}(t,e);return t[2]?"@media ".concat(t[2]," {").concat(i,"}"):i})).join("")},t.i=function(e,i,a){"string"==typeof e&&(e=[[null,e,""]]);var n={};if(a)for(var r=0;r<this.length;r++){var o=this[r][0];null!=o&&(n[o]=!0)}for(var s=0;s<e.length;s++){var l=[].concat(e[s]);a&&n[l[0]]||(i&&(l[2]?l[2]="".concat(i," and ").concat(l[2]):l[2]=i),t.push(l))}},t}},function(e,t,i){(function(e){function i(e,t){for(var i=0,a=e.length-1;a>=0;a--){var n=e[a];"."===n?e.splice(a,1):".."===n?(e.splice(a,1),i++):i&&(e.splice(a,1),i--)}if(t)for(;i--;i)e.unshift("..");return e}function a(e,t){if(e.filter)return e.filter(t);for(var i=[],a=0;a<e.length;a++)t(e[a],a,e)&&i.push(e[a]);return i}t.resolve=function(){for(var t="",n=!1,r=arguments.length-1;r>=-1&&!n;r--){var o=r>=0?arguments[r]:e.cwd();if("string"!=typeof o)throw new TypeError("Arguments to path.resolve must be strings");o&&(t=o+"/"+t,n="/"===o.charAt(0))}return(n?"/":"")+(t=i(a(t.split("/"),(function(e){return!!e})),!n).join("/"))||"."},t.normalize=function(e){var r=t.isAbsolute(e),o="/"===n(e,-1);return(e=i(a(e.split("/"),(function(e){return!!e})),!r).join("/"))||r||(e="."),e&&o&&(e+="/"),(r?"/":"")+e},t.isAbsolute=function(e){return"/"===e.charAt(0)},t.join=function(){var e=Array.prototype.slice.call(arguments,0);return t.normalize(a(e,(function(e,t){if("string"!=typeof e)throw new TypeError("Arguments to path.join must be strings");return e})).join("/"))},t.relative=function(e,i){function a(e){for(var t=0;t<e.length&&""===e[t];t++);for(var i=e.length-1;i>=0&&""===e[i];i--);return t>i?[]:e.slice(t,i-t+1)}e=t.resolve(e).substr(1),i=t.resolve(i).substr(1);for(var n=a(e.split("/")),r=a(i.split("/")),o=Math.min(n.length,r.length),s=o,l=0;l<o;l++)if(n[l]!==r[l]){s=l;break}var c=[];for(l=s;l<n.length;l++)c.push("..");return(c=c.concat(r.slice(s))).join("/")},t.sep="/",t.delimiter=":",t.dirname=function(e){if("string"!=typeof e&&(e+=""),0===e.length)return".";for(var t=e.charCodeAt(0),i=47===t,a=-1,n=!0,r=e.length-1;r>=1;--r)if(47===(t=e.charCodeAt(r))){if(!n){a=r;break}}else n=!1;return-1===a?i?"/":".":i&&1===a?"/":e.slice(0,a)},t.basename=function(e,t){var i=function(e){"string"!=typeof e&&(e+="");var t,i=0,a=-1,n=!0;for(t=e.length-1;t>=0;--t)if(47===e.charCodeAt(t)){if(!n){i=t+1;break}}else-1===a&&(n=!1,a=t+1);return-1===a?"":e.slice(i,a)}(e);return t&&i.substr(-1*t.length)===t&&(i=i.substr(0,i.length-t.length)),i},t.extname=function(e){"string"!=typeof e&&(e+="");for(var t=-1,i=0,a=-1,n=!0,r=0,o=e.length-1;o>=0;--o){var s=e.charCodeAt(o);if(47!==s)-1===a&&(n=!1,a=o+1),46===s?-1===t?t=o:1!==r&&(r=1):-1!==t&&(r=-1);else if(!n){i=o+1;break}}return-1===t||-1===a||0===r||1===r&&t===a-1&&t===i+1?"":e.slice(t,a)};var n="b"==="ab".substr(-1)?function(e,t,i){return e.substr(t,i)}:function(e,t,i){return t<0&&(t=e.length+t),e.substr(t,i)}}).call(this,i(17))},function(e,t){var i,a,n=e.exports={};function r(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function s(e){if(i===setTimeout)return setTimeout(e,0);if((i===r||!i)&&setTimeout)return i=setTimeout,setTimeout(e,0);try{return i(e,0)}catch(t){try{return i.call(null,e,0)}catch(t){return i.call(this,e,0)}}}!function(){try{i="function"==typeof setTimeout?setTimeout:r}catch(e){i=r}try{a="function"==typeof clearTimeout?clearTimeout:o}catch(e){a=o}}();var l,c=[],h=!1,u=-1;function m(){h&&l&&(h=!1,l.length?c=l.concat(c):u=-1,c.length&&d())}function d(){if(!h){var e=s(m);h=!0;for(var t=c.length;t;){for(l=c,c=[];++u<t;)l&&l[u].run();u=-1,t=c.length}l=null,h=!1,function(e){if(a===clearTimeout)return clearTimeout(e);if((a===o||!a)&&clearTimeout)return a=clearTimeout,clearTimeout(e);try{a(e)}catch(t){try{return a.call(null,e)}catch(t){return a.call(this,e)}}}(e)}}function g(e,t){this.fun=e,this.array=t}function p(){}n.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var i=1;i<arguments.length;i++)t[i-1]=arguments[i];c.push(new g(e,t)),1!==c.length||h||s(d)},g.prototype.run=function(){this.fun.apply(null,this.array)},n.title="browser",n.browser=!0,n.env={},n.argv=[],n.version="",n.versions={},n.on=p,n.addListener=p,n.once=p,n.off=p,n.removeListener=p,n.removeAllListeners=p,n.emit=p,n.prependListener=p,n.prependOnceListener=p,n.listeners=function(e){return[]},n.binding=function(e){throw new Error("process.binding is not supported")},n.cwd=function(){return"/"},n.chdir=function(e){throw new Error("process.chdir is not supported")},n.umask=function(){return 0}},function(e,t,i){"use strict";function a(e){for(var i in e)t.hasOwnProperty(i)||(t[i]=e[i])}Object.defineProperty(t,"__esModule",{value:!0}),a(i(5)),a(i(7))},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getData=function(e){var t=e.url,i=e.method,a=e.data,n=e.headers,r=Object.assign({"Content-Type":"application/json"},n||!1);return fetch(t,{method:i,mode:"cors",headers:r,body:a?JSON.stringify(a):null}).then((function(e){return e.json()})).then((function(e){return e}))}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=i(21),n=i(1),r=i(7),o=i(2),s=i(10),l=i(27),c=i(5),h=i(9),u=function(){function e(e){this.gameInitData=e}return e.prototype.changeLevel=function(e){return this.gameInitData.gameData.currentLevel=e,this.gameInitData.gameData.currentLevel},e.prototype.showGameInfo=function(){return{levelToChange:this.gameInitData.gameData.currentLevel,currentPoint:this.gameInitData.gameData.currentPoint,gameData:this.gameInitData.gameData,imageDirrection:__dirname+"/public/images/"}},e.prototype.showLevelData=function(){return this.gameInitData.gameData.levelData},e.prototype.returnContext=function(){return this.gameInitData.gameField&&this.gameInitData.gameActionField&&this.gameInitData.gameUIField?{gameField:this.gameInitData.gameField,gameActionField:this.gameInitData.ctxActionField,gameUIField:this.gameInitData.gameUIField}:null},e}();t.Game=u,u.prototype.createContext=o.createContext,u.prototype.initField=o.initField,u.prototype.levelInit=o.levelInit,u.prototype.setGameFields=o.setGameFields,u.prototype.warpEffect=o.warpEffect,u.prototype.getScreenSize=o.getScreenSize,u.prototype.getLevelUserData=o.getLevelUserData,u.prototype.levelTimer=o.levelTimer,u.prototype.getSecondMeasure=o.getSecondMeasure,u.prototype.gameSecondsIncrease=o.gameSecondsIncrease,u.prototype.initPlayerShip=s.initPlayerShip,u.prototype.deleteBullet=o.deleteBullet,u.prototype.deleteObjects=o.deleteObjects,u.prototype.delateSideObject=o.delateSideObject,u.prototype.hitDetection=n.hitDetection,u.prototype.collectPoints=o.collectPoints,u.prototype.spawnEnemyLogic=a.spawnEnemyLogic,u.prototype.createNewEnemy=a.createNewEnemy,u.prototype.gameRandomizer=a.gameRandomizer,u.prototype.uiController=l.uiController,u.prototype.gameUiPause=l.gameUiPause,u.prototype.gameUiMenu=l.gameUiMenu,u.prototype.showMenuWindow=l.showMenuWindow,u.prototype.showUiPopupWindow=l.showUiPopupWindow,u.prototype.showStartWindow=l.showStartWindow,u.prototype.showPauseWindow=l.showPauseWindow,u.prototype.gameOverWindow=l.gameOverWindow,u.prototype.showGameStats=l.showGameStats,u.prototype.initUiElements=l.initUiElements,u.prototype.gameStart=c.gameStart,u.prototype.backToStartScreen=c.backToStartScreen,u.prototype.nextLevelDataReload=r.nextLevelDataReload,u.prototype.changeLevelProcedure=o.changeLevelProcedure,u.prototype.getRandomColor=o.getRandomColor,u.prototype.mapRanomObjectSpawn=h.mapRanomObjectSpawn},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.enemyShipLogicVertical=function(e,t){var i=Math.max(e.x,this.x),a=Math.min(e.x,this.x),n=Math.max(e.y-this.height/2,this.y),r=Math.min(e.y-this.height/2,this.y),o=i-a,s=n-r;if(this.isMove&&this.behavior)switch(this.behavior){case"patrool":if(!this.direction){var l=t.gameRandomizer(2,1);this.direction=1==l?"up":"down"}(function(e){var t=e.getScreenSize(),i=Math.max(this.y,this.yFinal)-Math.min(this.y,this.yFinal);switch(this.direction){case"up":this.yFinal=0,this.y-this.height<this.yFinal&&(this.direction="down");break;case"down":this.yFinal=t.height,this.y+this.height>this.yFinal&&(this.direction="up");break;default:this.yFinal=t.height/2}this.enemyVerticalMoveCalculation(i)}).call(this,t);break;case"find":c.call(this);break;case"attack":(function(e,t,i){this.yFinal=i.y-this.height/2,t<100&&this.enemyVerticalMoveCalculation(e)}).call(this,s,o,e);break;case"comeEndFind":c.call(this),function(){var e=t.getScreenSize();this.x<e.width-2*this.width&&(this.speed=0)}.call(this);break;default:c.call(this)}function c(){if(this.spotDistance>o||this.spotDistance>s)return this.yFinal=e.y-this.height/2,this.enemyVerticalMoveCalculation(s),!0}},t.enemyVerticalMoveCalculation=function(e){var t=e/this.verticalSpeed;t=(t=Math.sign(t)>0?t:-1*t)>this.verticalSpeed?this.verticalSpeed:t,this.y=this.y>this.yFinal?this.y-t:this.y<this.yFinal?this.y+t:this.yFinal},t.spawnEnemyLogic=function(e){var t=this.gameInitData.gameData,i=t.levelData,a=t.enemyData,n=this.getLevelUserData(),r=n.sourse.levelData.bosPresents?n.sourse.levelData.bosPresents:null;if(this.gameInitData.gameData.levelChange||r){if(0==this.gameInitData.allGameEnemies.length){var o=this.createNewEnemy(a[0],e);o.loadEnemyes(),this.gameInitData.allGameEnemies=this.gameInitData.allGameEnemies.concat(o)}}else(function(){if(this.gameRandomizer(i.enemyProbability)<=i.enemyRandomizerIndex)for(var t=this.gameRandomizer(i.enemyMaxNumber);t<i.enemyMaxNumber;t++){var n=a[this.gameRandomizer(a.length)],r=this.createNewEnemy(n,e);r.loadEnemyes(),this.gameInitData.allGameEnemies=this.gameInitData.allGameEnemies.concat(r)}}).call(this)},t.createNewEnemy=function(e,t){var i=this.gameInitData.screen.width+300,a=this.gameRandomizer(this.gameInitData.screen.height-200,100);if(e.details){var n=e.details,r=n.behavior?n.behavior[this.gameRandomizer(n.behavior.length)]:null;return new t({x:i,y:a,sx:n.sx,sy:n.sy,sWidth:n.imageWidth/n.numberOfItems,sHeight:n.imageHeight,picturesWidth:n.imageWidth,numberOfItems:n.numberOfItems,width:n.width,height:n.height,shipTexture:n.skinName,speed:n.speed,status:n.status,name:n.name,bulletTypeNumber:n.bulletType,rapidFire:n.rapidFire,pointsPerUnit:n.pointsPerUnit,healthPoint:n.healthPoint,animationSteps:n.animationSteps,damage:n.damage,objectOwner:n.objectOwner,guns:n.guns?n.guns:[],explosion:n.explosionAnimation,numberOfVerticalItems:n.numberOfVerticalItems,isMove:n.isMove,isShoot:n.isShoot,spotDistance:n.spotDistance,behavior:r,verticalSpeed:n.verticalSpeed?n.verticalSpeed:null,isBoss:!!n.isBoss&&n.isBoss})}},t.gameRandomizer=function(e,t){return void 0===t&&(t=0),Math.floor(Math.random()*e+t)}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createWindow=function(e,t){var i=this.getScreenSize();i.width,i.height,e.fillRect(t.x,t.y,t.width,t.height)},t.createShapeRoundBorder=function(e){var t=e.propertyes;t.ctx.fillStyle=t.background,t.ctx.beginPath(),t.ctx.moveTo(t.x+t.radius,t.y),t.ctx.lineTo(t.x+t.width-t.radius,t.y),t.ctx.quadraticCurveTo(t.x+t.width,t.y,t.x+t.width,t.y+t.radius),t.ctx.lineTo(t.x+t.width,t.y+t.height-t.radius),t.ctx.quadraticCurveTo(t.x+t.width,t.y+t.height,t.x+t.width-t.radius,t.y+t.height),t.ctx.lineTo(t.x+t.radius,t.y+t.height),t.ctx.quadraticCurveTo(t.x,t.y+t.height,t.x,t.y+t.height-t.radius),t.ctx.lineTo(t.x,t.y+t.radius),t.ctx.quadraticCurveTo(t.x,t.y,t.x+t.radius,t.y),t.ctx.closePath(),t.ctx.fill()},t.createRoundButton=function(e){var t=e.propertyes,i=t.ctx.measureText(e.text).width/3.2,a=t.textProperty.leftPadding+i+t.textProperty.rightPadding;t.ctx.fillStyle=t.background,t.ctx.beginPath(),t.ctx.moveTo(t.x+t.radius,t.y),t.ctx.lineTo(t.x+a-t.radius,t.y),t.ctx.quadraticCurveTo(t.x+a,t.y,t.x+a,t.y+t.radius),t.ctx.lineTo(t.x+a,t.y+t.height-t.radius),t.ctx.quadraticCurveTo(t.x+a,t.y+t.height,t.x+a-t.radius,t.y+t.height),t.ctx.lineTo(t.x+t.radius,t.y+t.height),t.ctx.quadraticCurveTo(t.x,t.y+t.height,t.x,t.y+t.height-t.radius),t.ctx.lineTo(t.x,t.y+t.radius),t.ctx.quadraticCurveTo(t.x,t.y,t.x+t.radius,t.y),t.ctx.closePath(),t.ctx.fill(),t.ctx.font=e.fontSize,t.ctx.fillStyle=t.textProperty.textColor,t.ctx.fillText(e.text,t.x+t.textProperty.leftPadding,t.y+t.height/2+t.textProperty.topPadding)}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.weapon1=function(e,t){t(e.ctx,"drawImage",e.img,e.sx,e.sy,e.sWidth,e.sHeight,e.x,e.y,e.width+10,e.height+10)},t.weapon1backward=function(e,t){t(e.ctx,"drawImage",e.img,0,0,e.width,e.height,e.x,e.y,e.width+10,e.height+10)}},function(e,t,i){"use strict";function a(e){for(var i in e)t.hasOwnProperty(i)||(t[i]=e[i])}Object.defineProperty(t,"__esModule",{value:!0}),a(i(0)),a(i(6)),a(i(25))},function(e,t,i){"use strict";function a(e){for(var i in e)t.hasOwnProperty(i)||(t[i]=e[i])}Object.defineProperty(t,"__esModule",{value:!0}),a(i(6)),a(i(26))},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.warpElement=function(){var e=null.createLinearGradient(0,0,170,0);e.addColorStop("0","magenta"),e.addColorStop("0.5","blue"),e.addColorStop("1.0","red")}},function(e,t,i){"use strict";var a=this&&this.__spreadArrays||function(){for(var e=0,t=0,i=arguments.length;t<i;t++)e+=arguments[t].length;var a=Array(e),n=0;for(t=0;t<i;t++)for(var r=arguments[t],o=0,s=r.length;o<s;o++,n++)a[n]=r[o];return a};Object.defineProperty(t,"__esModule",{value:!0});var n=i(0),r=i(28),o=i(29),s=i(30),l=i(31),c=i(39),h=i(6),u=i(1);t.gameUiPause=function(){!this.gameInitData.gameUiPause&&this.gameInitData.gameStatus&&(this.gameInitData.gamePause=!this.gameInitData.gamePause)},t.gameUiMenu=function(e){this.gameInitData.gameUiPause=!this.gameInitData.gameUiPause,this.gameInitData.gamePause=!e},t.uiController=function(){var e=this,t=this.gameInitData.gameData.gameSetings.keyControls,i=this;document.addEventListener("keydown",(function(a){t.escape.some((function(e){return a.keyCode==e}))&&i.gameUiMenu(e.gameInitData.gameUiPause),t.pause.some((function(e){return a.keyCode==e}))&&i.gameUiPause()})),document.addEventListener("click",(function(t){if("CANVAS"===t.target.tagName){var i=t.clientX-t.target.offsetLeft,a=t.clientY-t.target.offsetTop,n=null,s=e.gameInitData.ctxUIField,l=e.getScreenSize();for(var c in e.gameInitData.gameStatus||(n=r.gameLoadMenu(null,s,l.width,l.height,null)),e.gameInitData.gameUiPause&&(n=o.gameSettingsMenu(null,s,l.width,l.height)),n){if(u.hitDetection(n[c],[].concat({x:i,y:a,width:10,height:10,name:"cursor"}),e)&&n[c].action){n[c].action.call(e);break}}}}))},t.showUiPopupWindow=function(){n.createWindow.call(this)},t.showStartWindow=function(){var e=[n.createRoundButton,h.uiImage,h.uiText,h.uiText];this.initUiElements(e,r.gameLoadMenu)},t.showMenuWindow=function(){var e=[n.createShapeRoundBorder,n.createRoundButton,h.uiText];this.initUiElements(e,o.gameSettingsMenu)},t.showPauseWindow=function(){var e=[h.uiText];this.initUiElements(e,s.gamePause)},t.showGameStats=function(){var e=this.getLevelUserData(),t=[h.uiImage,h.uiText,h.uiText,h.uiText];this.initUiElements(t,l.gameInformationScreen,e)},t.gameOverWindow=function(){var e=[h.uiText,h.uiText,h.uiText];this.initUiElements(e,c.gameOverScreen)},t.initUiElements=function(e,t){for(var i=[],n=2;n<arguments.length;n++)i[n-2]=arguments[n];for(var r=this.gameInitData.ctxUIField,o=this.getScreenSize(),s=this.showGameInfo().imageDirrection,l=t.apply(void 0,a([null,r,o.width,o.height,s],i)),c=0;c<l.length;c++)l[c].hasOwnProperty("loadPicture")&&l[c].loadPicture(),l[c].init(e[c])}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=i(4);t.gameLoadMenu=function(e,t,i,n,r){return e||[{name:"Start button",text:"Press Start to begin",description:"Main start game button in the main load screen",fontSize:"30px Arial",clicked:!1,propertyes:{ctx:t,width:400,height:90,x:i/2-165,y:n/2+150,background:"rgba(255, 255, 255, 1)",borderColor:"rgba(255, 255, 255, 1)",textProperty:{textColor:"#007BD1",topPadding:10,rightPadding:40,bottomPadding:10,leftPadding:40},radius:45},action:function(){this.gameStart()},init:a.init,getObjectPosition:a.getUIObjectPosition},{name:"Logotype",text:"",description:"Game logotype",clicked:!1,propertyes:{ctx:t,width:150,height:150,sWidth:1024,sHeight:1024,x:i/2-75,y:90,background:new Image,borderColor:!1,radius:null},loadPicture:function(){this.propertyes.background.src=r+"misc/logo-1024x1024.png"},init:a.init,getObjectPosition:a.getUIObjectPosition},{name:"Game name",text:"Space",description:"Game part the name",clicked:!1,fontSize:"bold 100px Roboto",propertyes:{ctx:t,width:-290,height:0,x:i/2,y:370,background:!1,borderColor:"rgba(255, 255, 255, 1)",radius:null},init:a.init,getObjectPosition:a.getUIObjectPosition},{name:"Game name",text:"Attack",description:"Game part the name",clicked:!1,fontSize:"lighter 100px Roboto",propertyes:{ctx:t,width:0,height:0,x:i/2,y:370,background:!1,borderColor:"rgba(255, 255, 255, 1)",radius:null},init:a.init,getObjectPosition:a.getUIObjectPosition}]}},function(e,t,i){"use strict";var a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)Object.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var n=i(4),r=a(i(3));t.gameSettingsMenu=function(e,t,i,a){return e||[{name:"menu background",text:"",description:"back part of menu ",fontSize:"30px Arial",clicked:!1,propertyes:{ctx:t,width:i,height:a/2,x:0,y:a/4,background:"rgba(38, 38, 86, 1)",borderColor:"rgba(255, 255, 255, 1)",radius:5},init:n.init,getObjectPosition:n.getUIObjectPosition},{name:"Button end game",text:"go to start",description:"back to start screen",fontSize:"25px Roboto",clicked:!1,propertyes:{ctx:t,width:200,height:50,x:i/2-150,y:a/2+50,background:"rgba(255, 255, 255, 1)",borderColor:"rgba(255, 255, 255, 1)",textProperty:{textColor:"#007BD1",topPadding:7,rightPadding:50,bottomPadding:10,leftPadding:20},radius:15},action:function(){this.backToStartScreen.call(this,r.PlayerShip)},init:n.init,getObjectPosition:n.getUIObjectPosition},{name:"Main game menu name",text:"Menu",description:"Text in main top",fontSize:"25px Roboto",clicked:!1,propertyes:{ctx:t,width:-45,height:0,x:i/2,y:a/3,background:!1,borderColor:"rgba(255, 255, 255, 1)",radius:null},init:n.init,getObjectPosition:n.getUIObjectPosition}]}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=i(4);t.gamePause=function(e,t,i,n,r){return e||[{name:"Pause text",text:"Pause",description:"part of pause window",fontSize:"60px Arial",clicked:!1,propertyes:{ctx:t,width:400,height:90,x:i/2-150,y:n/2+50,background:"rgba(255, 255, 255, 1)",borderColor:"rgba(255, 255, 255, 1)",radius:45},init:a.init,getObjectPosition:a.getUIObjectPosition}]}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=i(4);t.gameInformationScreen=function(e,t,i,n,r,o){return[{name:"lifePoint",text:"",number:o.life,step:[o.life].map((function(e){return 50*e})),description:"Game logotype",clicked:!1,propertyes:{ctx:t,width:70,height:70,sWidth:500,sHeight:500,x:10,y:20,background:new Image,borderColor:!1,radius:null},loadPicture:function(){this.propertyes.background.src=r+"misc/ruby.png"},init:function(e,t){t=t||this;for(var i=Array(o.life).fill(0).map((function(e,t){return 30*t})),a=0;a<this.number;a++)this.propertyes.x=0==a?30:0+i[a]+(0!=a?30:0),e(t)},getObjectPosition:a.getUIObjectPosition},{name:"level",text:"Current Level "+o.currentLevel+"/"+o.allLevels+" ",description:"Game part the name",clicked:!1,fontSize:"bold 16px Roboto",propertyes:{ctx:t,width:0,height:0,x:30,y:70,background:!1,borderColor:"rgba(255, 255, 255, 1)",radius:null},init:a.init,getObjectPosition:a.getUIObjectPosition},{name:"Time to end f level",text:o.minutes||o.seconds?"Time to level end "+(o.minutes-10>=0?"":0)+o.minutes+":"+(o.seconds-10>=0?"":0)+o.seconds:"Boss level",description:"Game part the name",clicked:!1,fontSize:"light 16px Roboto",propertyes:{ctx:t,width:50,height:0,x:i-300,y:30,background:!1,borderColor:"rgba(255, 255, 255, 1)",radius:null},init:a.init,getObjectPosition:a.getUIObjectPosition},{name:"Game points",text:o.points,description:"Game part the name",clicked:!1,fontSize:"light 18px Roboto",propertyes:{ctx:t,width:-50,height:0,x:i/2,y:50,background:!1,borderColor:"rgba(255, 255, 255, 1)",radius:null},init:a.init,getObjectPosition:a.getUIObjectPosition}]}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=i(2),n=i(33),r=function(e,t,i,a,n,r,o,s){this.x=0,this.y=0,this.backgroundTexture=e,this.backgroundSpeed=t,this.screenData=i,this.ctx=a,this.x=n?0:i.width,this.y=0,this.img=new Image,this.extraMap=r,this.timeToEressLevel=4,this.warpObjects=[],this.timeToExtraMapSeconds=o,this.timeToExtraMapMinutes=s};t.GameBackground=r,r.prototype.updateMap=n.updateMap,r.prototype.warpEffect=a.warpEffect,r.prototype.changePartOfTexture=n.changePartOfTexture},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=i(0);t.updateMap=function(){this.x-=this.backgroundSpeed,Math.sign(this.backgroundSpeed)>0&&this.x+this.screenData.width<0?this.x=this.screenData.width:Math.sign(this.backgroundSpeed)<0&&this.x>this.screenData.width&&(this.x=0-this.screenData.width),a.createImage(this.ctx,this.img,this.x,0,this.screenData.width+2,this.screenData.height)},t.changePartOfTexture=function(e,t){var i=e.getLevelUserData(),a=e.getScreenSize();if(i.minutes<=this.timeToExtraMapMinutes&&i.seconds<=this.timeToExtraMapSeconds&&this.extraMap&&this.x>=a.width-200){var n=e.showGameInfo();this.img.src=n.imageDirrection+this.extraMap}}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=i(10),n=i(2),r=i(1),o=function(e,t,i,a,n,r,o,s,l){void 0===n&&(n=100),void 0===r&&(r=100),this.data=e,this.points=t,this.numberOflife=a,this.healthPoint=i+e.armor,this.maxHealth=i+e.armor,this.x=n-o/2,this.y=r-s/2,this.xFinal=n,this.yFinal=r,this.collisionAllow=!0,this.objectOwner="player",this.width=o,this.height=s,this.xAdj=0,this.speed=e.speed,this.explosion=e.explosion,this.damage=l};t.PlayerShip=o,o.prototype.initPlayerShip=a.initPlayerShip,o.prototype.movePlayerShip=a.movePlayerShip,o.prototype.shipControl=a.shipControl,o.prototype.moveShip=a.moveShip,o.prototype.placeShip=a.placeShip,o.prototype.setContext=a.setContext,o.prototype.getObjectPosition=n.getObjectPosition,o.prototype.takeDamage=r.takeDamage},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=i(36),n=i(2),r=i(1),o=function(e,t,i,a,n,r,o,s,l,c,h,u,m,d,g,p){this.x=e,this.y=t,this.bulletType=i,this.bulletTexture=a,this.objectOwner=n,this.bulletSpeed=r,this.width=o,this.height=s,this.damage=l,this.id=(new Date).getTime(),this.objectPresent=!0,this.type=c,this.img=new Image,this.texture=__dirname+"/public/images/"+h,this.sx=u,this.sy=m,this.sWidth=d,this.sHeight=g,this.explosion=p};t.BulletConstruct=o,o.prototype.createBullets=a.createBullets,o.prototype.initBullets=a.initBullets,o.prototype.moveBullets=a.moveBullets,o.prototype.getObjectPosition=n.getObjectPosition,o.prototype.takeDamage=r.takeDamage},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=i(0);t.createBullets=function(e){a.createLaserBullet({source:this,objectOwner:this.objectOwner,ctx:e.gameInitData.ctxActionField,x:this.x,y:this.y,color:this.bulletTexture,width:this.width,height:this.height,radius:5,type:this.type,img:this.img,sx:this.sx,sy:this.sy,sWidth:this.sWidth,sHeight:this.sHeight})},t.initBullets=function(){},t.moveBullets=function(e,t){switch(this.type){case"blaster":i.call(this);break;case"beam":(function(){t.getScreenSize();this.x>0?this.width+=this.bulletSpeed:this.width>0&&(this.x=0,this.width-=this.bulletSpeed)}).call(this),i.call(this);break;default:i.call(this)}function i(){"player"==this.objectOwner?this.x+=this.bulletSpeed:this.x-=this.bulletSpeed}}},function(e,t,i){"use strict";var a=this&&this.__rest||function(e,t){var i={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(i[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var n=0;for(a=Object.getOwnPropertySymbols(e);n<a.length;n++)t.indexOf(a[n])<0&&Object.prototype.propertyIsEnumerable.call(e,a[n])&&(i[a[n]]=e[a[n]])}return i},n=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)Object.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var r=n(i(38)),o=i(9),s=i(1),l=function(e){var t=a(e,[]);this.x=t.x,this.y=t.y,this.sx=t.sx,this.sy=t.sy,this.sWidth=t.sWidth,this.sHeight=t.sHeight,this.width=t.width,this.height=t.height,this.img=new Image,this.texture=__dirname+"/public/images/"+t.texture,this.animationSteps=t.animationSteps,this.numberOfItems=t.numberOfItems,this.target=t.target,this.animationState=!0,this.detectFrame=0,this.objectPresent=!0,this.speed=t.speed,this.picturesWidth=t.picturesWidth,this.damage=t.damage?t.damage:null,this.objectOwner=t.objectOwner?t.objectOwner:null,this.healthPoint=t.healthPoint?t.healthPoint:null,this.isBackground=t.isBackground?t.isBackground:null,this.explosion=t.explosion?t.explosion:null,this.pointsPerUnit=t.pointsPerUnit?t.pointsPerUnit:0};t.SideObject=l,l.prototype.enemyAnimation=r.enemyAnimation,l.prototype.placeEnemyes=r.placeEnemyes,l.prototype.fireAnimationEnded=o.fireAnimationEnded,l.prototype.takeDamage=s.takeDamage,l.prototype.mapObjectMove=o.mapObjectMove,l.prototype.enemyDamageAnimation=s.enemyDamageAnimation},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var i in e)t.hasOwnProperty(i)||(t[i]=e[i])}(i(1))},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=i(4);t.gameOverScreen=function(e,t,i,n,r){return e||[{name:"Pause text",text:"Game Over",description:"text for game over window",fontSize:"110px Arial",clicked:!1,propertyes:{ctx:t,width:0,height:90,x:i/2-250,y:n/2-50,background:"rgba(255, 255, 255, 1)",borderColor:"rgba(255, 255, 255, 1)",radius:45},init:a.init,getObjectPosition:a.getUIObjectPosition}]}},function(e,t,i){"use strict";function a(e){for(var i in e)t.hasOwnProperty(i)||(t[i]=e[i])}Object.defineProperty(t,"__esModule",{value:!0}),a(i(9)),a(i(10)),a(i(2)),a(i(36)),a(i(33)),a(i(41))},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.noData="There is no data",t.noObject="There is no Object"}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibWFpbi5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy9tYWluLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIiFmdW5jdGlvbihlKXt2YXIgdD17fTtmdW5jdGlvbiBpKGEpe2lmKHRbYV0pcmV0dXJuIHRbYV0uZXhwb3J0czt2YXIgbj10W2FdPXtpOmEsbDohMSxleHBvcnRzOnt9fTtyZXR1cm4gZVthXS5jYWxsKG4uZXhwb3J0cyxuLG4uZXhwb3J0cyxpKSxuLmw9ITAsbi5leHBvcnRzfWkubT1lLGkuYz10LGkuZD1mdW5jdGlvbihlLHQsYSl7aS5vKGUsdCl8fE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLHQse2VudW1lcmFibGU6ITAsZ2V0OmF9KX0saS5yPWZ1bmN0aW9uKGUpe1widW5kZWZpbmVkXCIhPXR5cGVvZiBTeW1ib2wmJlN5bWJvbC50b1N0cmluZ1RhZyYmT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsU3ltYm9sLnRvU3RyaW5nVGFnLHt2YWx1ZTpcIk1vZHVsZVwifSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSl9LGkudD1mdW5jdGlvbihlLHQpe2lmKDEmdCYmKGU9aShlKSksOCZ0KXJldHVybiBlO2lmKDQmdCYmXCJvYmplY3RcIj09dHlwZW9mIGUmJmUmJmUuX19lc01vZHVsZSlyZXR1cm4gZTt2YXIgYT1PYmplY3QuY3JlYXRlKG51bGwpO2lmKGkucihhKSxPYmplY3QuZGVmaW5lUHJvcGVydHkoYSxcImRlZmF1bHRcIix7ZW51bWVyYWJsZTohMCx2YWx1ZTplfSksMiZ0JiZcInN0cmluZ1wiIT10eXBlb2YgZSlmb3IodmFyIG4gaW4gZSlpLmQoYSxuLGZ1bmN0aW9uKHQpe3JldHVybiBlW3RdfS5iaW5kKG51bGwsbikpO3JldHVybiBhfSxpLm49ZnVuY3Rpb24oZSl7dmFyIHQ9ZSYmZS5fX2VzTW9kdWxlP2Z1bmN0aW9uKCl7cmV0dXJuIGUuZGVmYXVsdH06ZnVuY3Rpb24oKXtyZXR1cm4gZX07cmV0dXJuIGkuZCh0LFwiYVwiLHQpLHR9LGkubz1mdW5jdGlvbihlLHQpe3JldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZSx0KX0saS5wPVwiL3B1YmxpYy9kaXN0XCIsaShpLnM9MTEpfShbZnVuY3Rpb24oZSx0LGkpe1widXNlIHN0cmljdFwiO3ZhciBhPXRoaXMmJnRoaXMuX19zcHJlYWRBcnJheXN8fGZ1bmN0aW9uKCl7Zm9yKHZhciBlPTAsdD0wLGk9YXJndW1lbnRzLmxlbmd0aDt0PGk7dCsrKWUrPWFyZ3VtZW50c1t0XS5sZW5ndGg7dmFyIGE9QXJyYXkoZSksbj0wO2Zvcih0PTA7dDxpO3QrKylmb3IodmFyIHI9YXJndW1lbnRzW3RdLG89MCxzPXIubGVuZ3RoO288cztvKyssbisrKWFbbl09cltvXTtyZXR1cm4gYX07T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIG49aSgyMik7dC5jcmVhdGVXaW5kb3c9bi5jcmVhdGVXaW5kb3csdC5jcmVhdGVTaGFwZVJvdW5kQm9yZGVyPW4uY3JlYXRlU2hhcGVSb3VuZEJvcmRlcix0LmNyZWF0ZVJvdW5kQnV0dG9uPW4uY3JlYXRlUm91bmRCdXR0b247dmFyIHI9aSgyMyk7ZnVuY3Rpb24gbyhlLHQpe2Zvcih2YXIgaT1bXSxhPTI7YTxhcmd1bWVudHMubGVuZ3RoO2ErKylpW2EtMl09YXJndW1lbnRzW2FdO2VbdF0uYXBwbHkoZSxpKX10LmRyYXc9byx0LmNyZWF0ZUxhc2VyQnVsbGV0PWZ1bmN0aW9uKGUpe2lmKCFlLmN0eClyZXR1cm4gbmV3IEVycm9yKFwibm8gY29udGV4dFwiKTtcInBsYXllclwiPT1lLm9iamVjdE93bmVyJiZcImJsYXN0ZXJcIj09ZS50eXBlJiZyLndlYXBvbjEoZSxvKSxcImVuZW15XCI9PWUub2JqZWN0T3duZXImJlwiYmxhc3RlclwiPT1lLnR5cGUmJnIud2VhcG9uMShlLG8pLFwiZW5lbXlcIj09ZS5vYmplY3RPd25lciYmXCJiZWFtXCI9PWUudHlwZSYmci53ZWFwb24xKGUsbyl9LHQuY3JlYXRlSW1hZ2U9ZnVuY3Rpb24oZSx0KXtmb3IodmFyIGk9W10sbj0yO248YXJndW1lbnRzLmxlbmd0aDtuKyspaVtuLTJdPWFyZ3VtZW50c1tuXTtvLmFwcGx5KHZvaWQgMCxhKFtlLFwiZHJhd0ltYWdlXCIsdF0saSkpfSx0LmNsZWFyRmllbGQ9ZnVuY3Rpb24oZSx0LGkpe28oZSxcImNsZWFyUmVjdFwiLDAsMCx0LGkpfX0sZnVuY3Rpb24oZSx0LGkpe1widXNlIHN0cmljdFwiO3ZhciBhPXRoaXMmJnRoaXMuX19pbXBvcnRTdGFyfHxmdW5jdGlvbihlKXtpZihlJiZlLl9fZXNNb2R1bGUpcmV0dXJuIGU7dmFyIHQ9e307aWYobnVsbCE9ZSlmb3IodmFyIGkgaW4gZSlPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChlLGkpJiYodFtpXT1lW2ldKTtyZXR1cm4gdC5kZWZhdWx0PWUsdH07T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIG49aSgwKSxyPWkoOSksbz1hKGkoMykpO3QucGxhY2VFbmVteWVzPWZ1bmN0aW9uKGUpe24uY3JlYXRlSW1hZ2UoZS5nYW1lSW5pdERhdGEuY3R4QWN0aW9uRmllbGQsdGhpcy5pbWcsdGhpcy5zeCx0aGlzLnN5LHRoaXMuc1dpZHRoLHRoaXMuc0hlaWdodCx0aGlzLngsdGhpcy55LHRoaXMud2lkdGgsdGhpcy5oZWlnaHQpfSx0Lm1vdmVFbmVteWVzPWZ1bmN0aW9uKGUsdCl7dm9pZCAwPT09dCYmKHQ9MCksdGhpcy54LT10aGlzLnNwZWVkLHRoaXMueS09dH0sdC5sb2FkRW5lbXllcz1mdW5jdGlvbigpe3RoaXMuaW1nPW5ldyBJbWFnZSx0aGlzLmltZy5zcmM9dGhpcy5zaGlwVGV4dHVyZX0sdC5zaG9vdD1mdW5jdGlvbihlLHQpe2lmKHQuZ2FtZUluaXREYXRhLmdhbWVQYXVzZXx8IXRoaXMuaXNTaG9vdClyZXR1cm4hMTtmb3IodmFyIGk9dGhpcy5ndW5zLGE9ZnVuY3Rpb24oaSl7aWYoMT50LmdhbWVSYW5kb21pemVyKGkuZmlyZVJlcGVhZCkpe3ZhciBhPW5ldyBlKG4ueCxuLnkrKGkuZmlyZVBvc2l0aW9uP2kuZmlyZVBvc2l0aW9uOnQuZ2FtZVJhbmRvbWl6ZXIobi5oZWlnaHQpKSxpLm5hbWUsaS5jb2xvcixcImVuZW15XCIsaS5zcGVlZCtuLnNwZWVkLGkud2lkdGgsaS5oZWlnaHQsaS5kYW1hZ2UsaS50eXBlLGkudGV4dHVyZSxpLnN4LGkuc3ksaS5zV2lkdGgsaS5zSGVpZ2h0LGkuZXhwbG9zaW9uQW5pbWF0aW9uKTthLmltZy5zcmM9YS50ZXh0dXJlLGEuaW1nLm9ubG9hZD1mdW5jdGlvbigpe3QuZ2FtZUluaXREYXRhLmFsbEdhbWVCdWxsZXRzPXQuZ2FtZUluaXREYXRhLmFsbEdhbWVCdWxsZXRzLmNvbmNhdChhKX19fSxuPXRoaXMscj0wLG89aTtyPG8ubGVuZ3RoO3IrKyl7YShvW3JdKX19LHQuZW5lbXlBbmltYXRpb249ZnVuY3Rpb24oZSl7dm9pZCAwPT09ZSYmKGU9ITApLHRoaXMuZGV0ZWN0RnJhbWUrPTEsdGhpcy5kZXRlY3RGcmFtZSV0aGlzLmFuaW1hdGlvblN0ZXBzPT0wJiZlJiYodGhpcy5kZXRlY3RGcmFtZT0wLHRoaXMuc3grPXRoaXMuc1dpZHRoLHRoaXMuc3g+PXRoaXMucGljdHVyZXNXaWR0aCYmKHRoaXMuc3g9MCkpfSx0LmVuZW15RGFtYWdlQW5pbWF0aW9uPWZ1bmN0aW9uKCl7aWYodGhpcy5udW1iZXJPZlZlcnRpY2FsSXRlbXM+MSl7dmFyIGU9dGhpcy5vcmlnaW5hbEhlYWx0aFBvaW50L3RoaXMubnVtYmVyT2ZWZXJ0aWNhbEl0ZW1zLHQ9bmV3IEFycmF5KHRoaXMubnVtYmVyT2ZWZXJ0aWNhbEl0ZW1zKS5maWxsKG51bGwpO3Q9dC5tYXAoKGZ1bmN0aW9uKHQsaSl7cmV0dXJuIGUqKGkrMSl9KSkuc29ydCgoZnVuY3Rpb24oZSx0KXtyZXR1cm4gZS10fSkpLnJldmVyc2UoKTtmb3IodmFyIGk9MDtpPHQubGVuZ3RoO2krKyl7aWYodGhpcy5oZWFsdGhQb2ludDx0W2ldJiZ0aGlzLmhlYWx0aFBvaW50PnRbaSsxXSYmdFtpKzFdKXt0aGlzLnN5PXRoaXMuc0hlaWdodCppO2JyZWFrfXRbaSsxXXx8KHRoaXMuc3k9dGhpcy5zSGVpZ2h0Kih0aGlzLm51bWJlck9mVmVydGljYWxJdGVtcy0xKSl9fX0sdC50YWtlRGFtYWdlPWZ1bmN0aW9uKGUsdCxpKXtpZih0aGlzLmhhc093blByb3BlcnR5KFwiYnVsbGV0VHlwZVwiKSYmXCJlbmVteVwiPT10aGlzLm9iamVjdE93bmVyJiZcInBsYXllclwiPT10Lm9iamVjdE93bmVyfHx0aGlzLmhhc093blByb3BlcnR5KFwiYnVsbGV0VHlwZVwiKSYmXCJwbGF5ZXJcIj09dGhpcy5vYmplY3RPd25lciYmXCJlbmVteVwiPT10Lm9iamVjdE93bmVyfHx0aGlzLmhhc093blByb3BlcnR5KFwiYnVsbGV0VHlwZVwiKSYmXCJwbGF5ZXJcIj09dGhpcy5vYmplY3RPd25lciYmXCJlbnZpcm9ubWVudFwiPT10Lm9iamVjdE93bmVyJiZ0Lmhhc093blByb3BlcnR5KFwiaGVhbHRoUG9pbnRcIikpcmV0dXJuIHIuZXhwbG9zaW9uRmlyZSh0aGlzLGksdCxvLlNpZGVPYmplY3QpLHRoaXMub2JqZWN0UHJlc2VudD0hMTtpZih0aGlzLmhhc093blByb3BlcnR5KFwiaGVhbHRoUG9pbnRcIikmJlwiZW5lbXlcIj09dGhpcy5vYmplY3RPd25lciYmXCJwbGF5ZXJcIj09dC5vYmplY3RPd25lcnx8dGhpcy5oYXNPd25Qcm9wZXJ0eShcImhlYWx0aFBvaW50XCIpJiZcImVudmlyb25tZW50XCI9PXRoaXMub2JqZWN0T3duZXImJlwicGxheWVyXCI9PXQub2JqZWN0T3duZXIpYS5jYWxsKHRoaXMsbnVsbCxpKSx0aGlzLmVuZW15RGFtYWdlQW5pbWF0aW9uKCksdGhpcy5oZWFsdGhQb2ludDw9MCYmKHRoaXMub2JqZWN0UHJlc2VudD0hMSxyLmV4cGxvc2lvbkZpcmUodGhpcyxpLHQsby5TaWRlT2JqZWN0KSx0aGlzLmlzQm9zcyYmKGkuZ2FtZUluaXREYXRhLmxldmVsQ2hhbmdlPSEwKSk7ZWxzZXtpZighdGhpcy5oYXNPd25Qcm9wZXJ0eShcImhlYWx0aFBvaW50XCIpfHxcInBsYXllclwiIT10aGlzLm9iamVjdE93bmVyfHxcImVuZW15XCIhPXQub2JqZWN0T3duZXIpcmV0dXJuITE7dGhpcy5jb2xsaXNpb25BbGxvdyYmYS5jYWxsKHRoaXMsaS5nZXRMZXZlbFVzZXJEYXRhKCksaSl9ZnVuY3Rpb24gYSh0LGkpe2lmKHRoaXMuaGVhbHRoUG9pbnQtPWUsdGhpcy5oZWFsdGhQb2ludDw9MClyZXR1cm4gdCYmdC5saWZlPjA/KHQuc291cnNlLnBsYXllck9iamVjdC5udW1iZXJPZmxpZmUtPTEsdC5zb3Vyc2UucGxheWVyT2JqZWN0Lm51bWJlck9mbGlmZTw9MCYmKGkuZ2FtZU92ZXJXaW5kb3coKSxpLmdhbWVJbml0RGF0YS5nYW1lT3Zlcj0hMCxzZXRUaW1lb3V0KChmdW5jdGlvbigpe2kuYmFja1RvU3RhcnRTY3JlZW4oby5QbGF5ZXJTaGlwKX0pLDNlMykpLHRoaXMuaGVhbHRoUG9pbnQ9dC5zb3Vyc2UucGxheWVyT2JqZWN0Lm1heEhlYWx0aCwhMSk6KGkuY29sbGVjdFBvaW50cyh0aGlzLnBvaW50c1BlclVuaXQpLHRoaXMub2JqZWN0UHJlc2VudD0hMSl9fSx0LmhpdERldGVjdGlvbj1mdW5jdGlvbihlLHQsaSl7Zm9yKHZhciBhPW51bGwsbj0wLHI9dDtuPHIubGVuZ3RoO24rKyl7dmFyIG89cltuXSxzPWUuZ2V0T2JqZWN0UG9zaXRpb24uY2FsbChlKSxsPU1hdGgubWF4KHMueCxvLngpLGM9TWF0aC5tYXgocy55LG8ueSksaD1NYXRoLm1pbihzLngrKGUud2lkdGh8fHMud2lkdGgpLG8ueCtvLndpZHRoKS1sLHU9TWF0aC5taW4ocy55KyhlLmhlaWdodHx8cy5oZWlnaHQpLG8ueStvLmhlaWdodCktYztpZihcImNvbGxpc2lvblwiPT0oYT0hKE1hdGguc2lnbihoKTwwfHxNYXRoLnNpZ24odSk8MCkmJlwiY29sbGlzaW9uXCIpKXtlLnRha2VEYW1hZ2UmJm8udGFrZURhbWFnZSYmKGUudGFrZURhbWFnZShvLmRhbWFnZT9vLmRhbWFnZTowLG8saSksby50YWtlRGFtYWdlKGUuZGFtYWdlP2UuZGFtYWdlOjAsZSxpKSk7YnJlYWt9fXJldHVyblwiY29sbGlzaW9uXCI9PWEmJmV9fSxmdW5jdGlvbihlLHQsaSl7XCJ1c2Ugc3RyaWN0XCI7dmFyIGE9dGhpcyYmdGhpcy5fX3NwcmVhZEFycmF5c3x8ZnVuY3Rpb24oKXtmb3IodmFyIGU9MCx0PTAsaT1hcmd1bWVudHMubGVuZ3RoO3Q8aTt0KyspZSs9YXJndW1lbnRzW3RdLmxlbmd0aDt2YXIgYT1BcnJheShlKSxuPTA7Zm9yKHQ9MDt0PGk7dCsrKWZvcih2YXIgcj1hcmd1bWVudHNbdF0sbz0wLHM9ci5sZW5ndGg7bzxzO28rKyxuKyspYVtuXT1yW29dO3JldHVybiBhfTtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgbj1pKDApO3QuaW5pdEZpZWxkPWZ1bmN0aW9uKGUsdCl7dm9pZCAwPT09ZSYmKGU9d2luZG93LmlubmVyV2lkdGgpLHZvaWQgMD09PXQmJih0PXdpbmRvdy5pbm5lckhlaWdodCk7dmFyIGk9W10uY29uY2F0KHRoaXMuZ2FtZUluaXREYXRhLmdhbWVGaWVsZCx0aGlzLmdhbWVJbml0RGF0YS5nYW1lQWN0aW9uRmllbGQsdGhpcy5nYW1lSW5pdERhdGEuZ2FtZVVJRmllbGQpO2lmKCFpKXRocm93IEVycm9yKFwiRXJyb3JcIik7Zm9yKHZhciBhPTAsbj1pO2E8bi5sZW5ndGg7YSsrKXt2YXIgcj1uW2FdO3I9T2JqZWN0LmFzc2lnbihyLHt3aWR0aDplLTQsaGVpZ2h0OnQtNH0pfX0sdC5zZXRHYW1lRmllbGRzPWZ1bmN0aW9uKCl7dGhpcy5pbml0RmllbGQoKSx0aGlzLmNyZWF0ZUNvbnRleHQoKSx0aGlzLmluaXRQbGF5ZXJTaGlwKCl9LHQud2FycEVmZmVjdD1mdW5jdGlvbigpe3ZhciBlPXRoaXMuZ2V0U2NyZWVuU2l6ZSgpLHQ9dGhpcy5nYW1lSW5pdERhdGEuY3R4LGk9dGhpcy5nYW1lSW5pdERhdGEud2FycE9iamVjdHM7aWYodGhpcy5nZXRTZWNvbmRNZWFzdXJlKChmdW5jdGlvbihlKXt2YXIgdD0hKHRoaXMuZ2FtZUluaXREYXRhLnRpbWVUb0VyZXNzTGV2ZWw+PTApO3RoaXMuZ2FtZUluaXREYXRhLnRpbWVUb0VyZXNzTGV2ZWw+PTAmJiF0JiYodGhpcy5nYW1lSW5pdERhdGEudGltZVRvRXJlc3NMZXZlbC09MSk7dGhpcy5nYW1lSW5pdERhdGEudGltZVRvRXJlc3NMZXZlbDwwJiYhdCYmdGhpcy5jaGFuZ2VMZXZlbFByb2NlZHVyZSgpfSkse3RpbWVUb0VyZXNzTGV2ZWw6dGhpcy5nYW1lSW5pdERhdGEudGltZVRvRXJlc3NMZXZlbCxjdHg6dCxzY3JlZW5TaXo6dGhpcy5nZXRTY3JlZW5TaXplKCl9KSx0aGlzLmdhbWVJbml0RGF0YS53YXJwT2JqZWN0cz1pLmxlbmd0aDwzNTA/dGhpcy5nYW1lSW5pdERhdGEud2FycE9iamVjdHMuY29uY2F0KHt4OmUud2lkdGgseTp0aGlzLmdhbWVSYW5kb21pemVyKGUuaGVpZ2h0KSxoZWlnaHQ6dGhpcy5nYW1lUmFuZG9taXplcigyMCwxMCksd2lkdGg6MTAsc3BlZWQ6dGhpcy5nYW1lUmFuZG9taXplcigxMCw1KSxiYWNrZ3JvdW5kOnRoaXMuZ2V0UmFuZG9tQ29sb3IoKX0pOnRoaXMuZ2FtZUluaXREYXRhLndhcnBPYmplY3RzLGkubGVuZ3RoPjApZm9yKHZhciBhPTAscj1pO2E8ci5sZW5ndGg7YSsrKXt2YXIgbz1yW2FdO28ueC09by54PjA/by5zcGVlZDowLG8ud2lkdGg9aS5sZW5ndGg8MTUwP28ud2lkdGgtby5zcGVlZDppLmxlbmd0aD4xNTAmJmkubGVuZ3RoPDM1MD9vLndpZHRoK28uc3BlZWQ6by53aWR0aC1vLnNwZWVkLHQuZmlsbFN0eWxlPW8uYmFja2dyb3VuZCxuLmRyYXcodCxcImZpbGxSZWN0XCIsby54LG8ueSxvLndpZHRoLG8uaGVpZ2h0KSx0LmZpbGwoKX19LHQubGV2ZWxJbml0PWZ1bmN0aW9uKGUsdCxpKXt2YXIgYT10aGlzLnNob3dMZXZlbERhdGEoKS5sZXZlbEJhY2tncm91bmRFbGVtZW50cztpLmdhbWVJbml0RGF0YS5iYWNrU2NyZWVuUGF1c2U9ITE7Zm9yKHZhciBuPTAscj1hO248ci5sZW5ndGg7bisrKXt2YXIgbz1yW25dLHM9bmV3IGUoby5sZXZlbE1hcCxvLnNwZWVkLHRoaXMuZ2FtZUluaXREYXRhLnNjcmVlbix0LHRoaXMuZ2FtZUluaXREYXRhLm1hcEJhY2tncm91bmRPYmplY3RzLmxlbmd0aCUyPT0wfHxudWxsLG8uZXh0cmFNYXA/by5leHRyYU1hcDpudWxsLG8udGltZVRvRXh0cmFNYXBTZWNvbmRzP28udGltZVRvRXh0cmFNYXBTZWNvbmRzOm51bGwsby50aW1lVG9FeHRyYU1hcE1pbnV0ZXM/by50aW1lVG9FeHRyYU1hcE1pbnV0ZXM6bnVsbCk7aS5nYW1lSW5pdERhdGEubWFwQmFja2dyb3VuZE9iamVjdHM9aS5nYW1lSW5pdERhdGEubWFwQmFja2dyb3VuZE9iamVjdHMuY29uY2F0KHMpLHMuaW1nLnNyYz10aGlzLnNob3dHYW1lSW5mbygpLmltYWdlRGlycmVjdGlvbitzLmJhY2tncm91bmRUZXh0dXJlfX0sdC5jcmVhdGVDb250ZXh0PWZ1bmN0aW9uKCl7dGhpcy5nYW1lSW5pdERhdGEuY3R4PXRoaXMuZ2FtZUluaXREYXRhLmdhbWVGaWVsZC5nZXRDb250ZXh0KFwiMmRcIiksdGhpcy5nYW1lSW5pdERhdGEuY3R4QWN0aW9uRmllbGQ9dGhpcy5nYW1lSW5pdERhdGEuZ2FtZUFjdGlvbkZpZWxkLmdldENvbnRleHQoXCIyZFwiKSx0aGlzLmdhbWVJbml0RGF0YS5jdHhVSUZpZWxkPXRoaXMuZ2FtZUluaXREYXRhLmdhbWVVSUZpZWxkLmdldENvbnRleHQoXCIyZFwiKX0sdC5nZXRTY3JlZW5TaXplPWZ1bmN0aW9uKCl7cmV0dXJue3dpZHRoOnRoaXMuZ2FtZUluaXREYXRhLnNjcmVlbi53aWR0aCxoZWlnaHQ6dGhpcy5nYW1lSW5pdERhdGEuc2NyZWVuLmhlaWdodH19LHQuY2hhbmdlTGV2ZWxQcm9jZWR1cmU9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLnNob3dHYW1lSW5mbygpO3RoaXMuY2hhbmdlTGV2ZWwoZS5nYW1lRGF0YS5jdXJyZW50TGV2ZWwrMSk8PWUuZ2FtZURhdGEubGV2ZWxEYXRhLmFsbExldmVscz90aGlzLm5leHRMZXZlbERhdGFSZWxvYWQoZSk6YWxlcnQoXCJXaW4gR2FtZSBTY3JlZW4gXCIpfSx0LmxldmVsVGltZXI9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmdldExldmVsVXNlckRhdGEoKTtpZihlLnNvdXJzZS5sZXZlbERhdGEuYm9zUHJlc2VudHMpZS5zb3Vyc2UubGV2ZWxEYXRhLmxldmVsRGV0YWlscy5sZXZlbFNlY29uZHM9bnVsbCxlLnNvdXJzZS5sZXZlbERhdGEubGV2ZWxEZXRhaWxzLmxldmVsTWludXRlcz1udWxsO2Vsc2V7ZS5zb3Vyc2UubGV2ZWxEYXRhLmxldmVsRGV0YWlsczt0aGlzLmdhbWVJbml0RGF0YS5sZXZlbENoYW5nZXx8dGhpcy5nZXRTZWNvbmRNZWFzdXJlKChmdW5jdGlvbihlKXtlLmxldmVsU2Vjb25kczw9MCYmKDA9PWUubGV2ZWxNaW51dGVzJiYwPT1lLmxldmVsU2Vjb25kcyYmKGUubGV2ZWxTZWNvbmRzPTAsdGhpcy5nYW1lSW5pdERhdGEubGV2ZWxDaGFuZ2U9ITApLGUubGV2ZWxNaW51dGVzPWUubGV2ZWxNaW51dGVzPjA/ZS5sZXZlbE1pbnV0ZXMtMTowKTtlLmxldmVsU2Vjb25kcz1lLmxldmVsU2Vjb25kcz4wP2UubGV2ZWxTZWNvbmRzLTE6dGhpcy5nYW1lSW5pdERhdGEubGV2ZWxDaGFuZ2U/MDo1OX0pLGUuc291cnNlLmxldmVsRGF0YS5sZXZlbERldGFpbHMpfX0sdC5nZXRTZWNvbmRNZWFzdXJlPWZ1bmN0aW9uKGUpe2Zvcih2YXIgdD1bXSxpPTE7aTxhcmd1bWVudHMubGVuZ3RoO2krKyl0W2ktMV09YXJndW1lbnRzW2ldO3ZhciBuPTFlMy90aGlzLmdhbWVJbml0RGF0YS5pbnRlcnZhbENvdW50O2lmKHRoaXMuZ2FtZUluaXREYXRhLmdlbWVFeHRyYVNlY29uZHMlbj09MClyZXR1cm4gdGhpcy5nYW1lSW5pdERhdGEuZ2VtZUV4dHJhU2Vjb25kcz0wLGU/ZS5jYWxsLmFwcGx5KGUsYShbdGhpc10sdCkpOm59LHQuZ2FtZVNlY29uZHNJbmNyZWFzZT1mdW5jdGlvbigpe3RoaXMuZ2FtZUluaXREYXRhLmdlbWVFeHRyYVNlY29uZHMrPTF9LHQuZ2V0TGV2ZWxVc2VyRGF0YT1mdW5jdGlvbigpe3ZhciBlPXRoaXMuZ2FtZUluaXREYXRhLmdhbWVEYXRhLHQ9ZS5sZXZlbERhdGEubGV2ZWxEZXRhaWxzO3JldHVybntzb3Vyc2U6ZSxjdXJyZW50TGV2ZWw6ZS5jdXJyZW50TGV2ZWwsYWxsTGV2ZWxzOmUubGV2ZWxEYXRhLmFsbExldmVscyxwb2ludHM6ZS5jdXJyZW50UG9pbnQsbGlmZTplLnBsYXllck9iamVjdC5udW1iZXJPZmxpZmUsbWludXRlczp0LmxldmVsTWludXRlcyxzZWNvbmRzOnQubGV2ZWxTZWNvbmRzfX0sdC5kZWxldGVCdWxsZXQ9ZnVuY3Rpb24oZSl7aWYoZS54PnRoaXMuZ2FtZUluaXREYXRhLnNjcmVlbi53aWR0aHx8ZS54PC0xKmUud2lkdGh8fCFlLm9iamVjdFByZXNlbnQpe3ZhciB0PXRoaXMuZ2FtZUluaXREYXRhLmFsbEdhbWVCdWxsZXRzLmluZGV4T2YoZSk7dGhpcy5nYW1lSW5pdERhdGEuYWxsR2FtZUJ1bGxldHMuc3BsaWNlKHQsMSl9fSx0LmRlbGV0ZU9iamVjdHM9ZnVuY3Rpb24oZSl7aWYoZS54K2Uuc1dpZHRoPDB8fCFlLm9iamVjdFByZXNlbnQpe3ZhciB0PXRoaXMuZ2FtZUluaXREYXRhLmFsbEdhbWVFbmVtaWVzLmluZGV4T2YoZSk7dGhpcy5nYW1lSW5pdERhdGEuYWxsR2FtZUVuZW1pZXMuc3BsaWNlKHQsMSl9fSx0LmRlbGF0ZVNpZGVPYmplY3Q9ZnVuY3Rpb24oZSl7aWYoIWUub2JqZWN0UHJlc2VudHx8ZS54PDAtZS53aWR0aCl7dmFyIHQ9dGhpcy5nYW1lSW5pdERhdGEuYWxsR2FtZVNpZGVPYmplY3RzLmluZGV4T2YoZSk7dGhpcy5nYW1lSW5pdERhdGEuYWxsR2FtZVNpZGVPYmplY3RzLnNwbGljZSh0LDEpfX0sdC5jb2xsZWN0UG9pbnRzPWZ1bmN0aW9uKGUpe3RoaXMuZ2FtZUluaXREYXRhLmdhbWVEYXRhLmN1cnJlbnRQb2ludCs9ZX0sdC5nZXRPYmplY3RQb3NpdGlvbj1mdW5jdGlvbigpe3JldHVybnt4OnRoaXMueCx5OnRoaXMueSx3aWR0aDp0aGlzLndpZHRoLGhlaWdodDp0aGlzLmhlaWdodH19LHQuZ2V0UmFuZG9tQ29sb3I9ZnVuY3Rpb24oKXtmb3IodmFyIGU9XCIjXCIsdD0wO3Q8Njt0KyspZSs9XCIwMTIzNDU2Nzg5QUJDREVGXCJbTWF0aC5mbG9vcigxNipNYXRoLnJhbmRvbSgpKV07cmV0dXJuIGV9fSxmdW5jdGlvbihlLHQsaSl7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gYShlKXtmb3IodmFyIGkgaW4gZSl0Lmhhc093blByb3BlcnR5KGkpfHwodFtpXT1lW2ldKX1PYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSxhKGkoMjApKSxhKGkoMzIpKSxhKGkoOCkpLGEoaSgzNCkpLGEoaSgzNSkpLGEoaSgzNykpfSxmdW5jdGlvbihlLHQsaSl7XCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksdC5pbml0PWZ1bmN0aW9uKGUsdCl7ZSh0PXR8fHRoaXMpfSx0LmdldFVJT2JqZWN0UG9zaXRpb249ZnVuY3Rpb24oKXtyZXR1cm57eDp0aGlzLnByb3BlcnR5ZXMueCx5OnRoaXMucHJvcGVydHllcy55LHdpZHRoOnRoaXMucHJvcGVydHllcy53aWR0aCxoZWlnaHQ6dGhpcy5wcm9wZXJ0eWVzLmhlaWdodH19fSxmdW5jdGlvbihlLHQsaSl7XCJ1c2Ugc3RyaWN0XCI7dmFyIGE9dGhpcyYmdGhpcy5fX2F3YWl0ZXJ8fGZ1bmN0aW9uKGUsdCxpLGEpe3JldHVybiBuZXcoaXx8KGk9UHJvbWlzZSkpKChmdW5jdGlvbihuLHIpe2Z1bmN0aW9uIG8oZSl7dHJ5e2woYS5uZXh0KGUpKX1jYXRjaChlKXtyKGUpfX1mdW5jdGlvbiBzKGUpe3RyeXtsKGEudGhyb3coZSkpfWNhdGNoKGUpe3IoZSl9fWZ1bmN0aW9uIGwoZSl7dmFyIHQ7ZS5kb25lP24oZS52YWx1ZSk6KHQ9ZS52YWx1ZSx0IGluc3RhbmNlb2YgaT90Om5ldyBpKChmdW5jdGlvbihlKXtlKHQpfSkpKS50aGVuKG8scyl9bCgoYT1hLmFwcGx5KGUsdHx8W10pKS5uZXh0KCkpfSkpfSxuPXRoaXMmJnRoaXMuX19nZW5lcmF0b3J8fGZ1bmN0aW9uKGUsdCl7dmFyIGksYSxuLHIsbz17bGFiZWw6MCxzZW50OmZ1bmN0aW9uKCl7aWYoMSZuWzBdKXRocm93IG5bMV07cmV0dXJuIG5bMV19LHRyeXM6W10sb3BzOltdfTtyZXR1cm4gcj17bmV4dDpzKDApLHRocm93OnMoMSkscmV0dXJuOnMoMil9LFwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmKHJbU3ltYm9sLml0ZXJhdG9yXT1mdW5jdGlvbigpe3JldHVybiB0aGlzfSkscjtmdW5jdGlvbiBzKHIpe3JldHVybiBmdW5jdGlvbihzKXtyZXR1cm4gZnVuY3Rpb24ocil7aWYoaSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiR2VuZXJhdG9yIGlzIGFscmVhZHkgZXhlY3V0aW5nLlwiKTtmb3IoO287KXRyeXtpZihpPTEsYSYmKG49MiZyWzBdP2EucmV0dXJuOnJbMF0/YS50aHJvd3x8KChuPWEucmV0dXJuKSYmbi5jYWxsKGEpLDApOmEubmV4dCkmJiEobj1uLmNhbGwoYSxyWzFdKSkuZG9uZSlyZXR1cm4gbjtzd2l0Y2goYT0wLG4mJihyPVsyJnJbMF0sbi52YWx1ZV0pLHJbMF0pe2Nhc2UgMDpjYXNlIDE6bj1yO2JyZWFrO2Nhc2UgNDpyZXR1cm4gby5sYWJlbCsrLHt2YWx1ZTpyWzFdLGRvbmU6ITF9O2Nhc2UgNTpvLmxhYmVsKyssYT1yWzFdLHI9WzBdO2NvbnRpbnVlO2Nhc2UgNzpyPW8ub3BzLnBvcCgpLG8udHJ5cy5wb3AoKTtjb250aW51ZTtkZWZhdWx0OmlmKCEobj0obj1vLnRyeXMpLmxlbmd0aD4wJiZuW24ubGVuZ3RoLTFdKSYmKDY9PT1yWzBdfHwyPT09clswXSkpe289MDtjb250aW51ZX1pZigzPT09clswXSYmKCFufHxyWzFdPm5bMF0mJnJbMV08blszXSkpe28ubGFiZWw9clsxXTticmVha31pZig2PT09clswXSYmby5sYWJlbDxuWzFdKXtvLmxhYmVsPW5bMV0sbj1yO2JyZWFrfWlmKG4mJm8ubGFiZWw8blsyXSl7by5sYWJlbD1uWzJdLG8ub3BzLnB1c2gocik7YnJlYWt9blsyXSYmby5vcHMucG9wKCksby50cnlzLnBvcCgpO2NvbnRpbnVlfXI9dC5jYWxsKGUsbyl9Y2F0Y2goZSl7cj1bNixlXSxhPTB9ZmluYWxseXtpPW49MH1pZig1JnJbMF0pdGhyb3cgclsxXTtyZXR1cm57dmFsdWU6clswXT9yWzFdOnZvaWQgMCxkb25lOiEwfX0oW3Isc10pfX19O09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciByPWkoMTkpO2Z1bmN0aW9uIG8oZSl7cmV0dXJuIGEodGhpcyx2b2lkIDAsdm9pZCAwLChmdW5jdGlvbigpe3ZhciB0LGksYSxvLHMsbDtyZXR1cm4gbih0aGlzLChmdW5jdGlvbihuKXtzd2l0Y2gobi5sYWJlbCl7Y2FzZSAwOnJldHVybiB0PXtob3N0OlwiaHR0cDovL2xvY2FsaG9zdDozMDAwL1wiLHBpY3R1cmVzRGlyZWN0aW9uOl9fZGlybmFtZStcIi9wdWJsaWMvaW1hZ2VzL1wiLGxldmVsRGF0YTp7bWV0aG9kOlwiR0VUXCIsdXJsOlwiYXBpL2xldmVsLWRhdGFcIn0sbGV2ZWxPYmplY3RzOnttZXRob2Q6XCJHRVRcIix1cmw6XCJhcGkvbGV2ZWwtb2JqZWN0c1wifSxnYW1lU2V0aW5nczp7bWV0aG9kOlwiR0VUXCIsdXJsOlwiYXBpL2dhbWUtc2V0dGluZ3NcIn0sdXNlclNoaXA6e21ldGhvZDpcIkdFVFwiLHVybDpcImFwaS91c2VyLXNoaXBcIn0sZW5lbXlsRGF0YTp7bWV0aG9kOlwiR0VUXCIsdXJsOlwiYXBpL2VuZW15LXNoaXBcIn19LFs0LHIuZ2V0RGF0YSh7dXJsOnQuaG9zdCt0LmxldmVsRGF0YS51cmwsbWV0aG9kOnQubGV2ZWxEYXRhLm1ldGhvZCxkYXRhOm51bGwsaGVhZGVyczp7bWFwbGV2ZWw6ZS5sZXZlbH19KV07Y2FzZSAxOnJldHVybiBpPW4uc2VudCgpLFs0LHIuZ2V0RGF0YSh7dXJsOnQuaG9zdCt0LmxldmVsT2JqZWN0cy51cmwsbWV0aG9kOnQubGV2ZWxPYmplY3RzLm1ldGhvZCxkYXRhOm51bGwsaGVhZGVyczp7bWFwT2JqZWN0OmkubGV2ZWxPQmplY3RzfX0pXTtjYXNlIDI6cmV0dXJuIGE9bi5zZW50KCksWzQsci5nZXREYXRhKHt1cmw6dC5ob3N0K3QuZ2FtZVNldGluZ3MudXJsLG1ldGhvZDp0LmdhbWVTZXRpbmdzLm1ldGhvZCxkYXRhOm51bGwsaGVhZGVyczpudWxsfSldO2Nhc2UgMzpyZXR1cm4gbz1uLnNlbnQoKSxbNCxyLmdldERhdGEoe3VybDp0Lmhvc3QrdC51c2VyU2hpcC51cmwsbWV0aG9kOnQudXNlclNoaXAubWV0aG9kLGRhdGE6bnVsbCxoZWFkZXJzOnt1c2Vyc2hpcDplLnNoaXBDb25maWd1cmF0aW9ufX0pXTtjYXNlIDQ6cmV0dXJuIHM9bi5zZW50KCksWzQsci5nZXREYXRhKHt1cmw6dC5ob3N0K3QuZW5lbXlsRGF0YS51cmwsbWV0aG9kOnQuZW5lbXlsRGF0YS5tZXRob2QsZGF0YTpudWxsLGhlYWRlcnM6e1wic2hpcC10eXBlLW51bWJlclwiOmkuZW5lbXlUeXBlfX0pXTtjYXNlIDU6cmV0dXJuIGw9bi5zZW50KCksWzIse2xldmVsRGF0YTppLGxldmVsT2JqZWN0czphLGdhbWVTZXRpbmdzOm8sdXNlckRhdGE6cyxlbmVteURhdGE6bH1dfX0pKX0pKX1mdW5jdGlvbiBzKGUpe3JldHVybiBhKHRoaXMsdm9pZCAwLHZvaWQgMCwoZnVuY3Rpb24oKXt2YXIgdCxpLGEscixzLGwsYyxoLHUsbSxkO3JldHVybiBuKHRoaXMsKGZ1bmN0aW9uKG4pe3N3aXRjaChuLmxhYmVsKXtjYXNlIDA6cmV0dXJuIHQ9ZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNnYW1lZmllbGRcIiksaT1kb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2dhbWVPYmplY3RzZmllbGRcIiksYT1kb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2dhbWVVaWZpZWxkXCIpLDEscz01LFs0LG8oe2xldmVsOnI9NCxzaGlwQ29uZmlndXJhdGlvbjoxfSldO2Nhc2UgMTpyZXR1cm4gbD1uLnNlbnQoKSxjPWwubGV2ZWxEYXRhLGg9bC5sZXZlbE9iamVjdHMsdT1sLmdhbWVTZXRpbmdzLG09bC51c2VyRGF0YSxkPWwuZW5lbXlEYXRhLFsyLHtkYXRhOntjdHg6bnVsbCxnYW1lRmllbGQ6dHx8bnVsbCxnYW1lQWN0aW9uRmllbGQ6aXx8bnVsbCxnYW1lVUlGaWVsZDphfHxudWxsLGdhbWVEYXRhOntjdXJyZW50TGV2ZWw6cixjdXJyZW50UG9pbnQ6MCxwbGF5ZXJPYmplY3Q6bmV3IGUobSwwLDMwMCxzLDEwMCwxMDAsbS5zaXplLndpZHRoLG0uc2l6ZS5oZWlnaHQsbS5kYW1hZ2UpLGxldmVsRGF0YTpjLGxldmVsT2JqZWN0czpoLGdhbWVTZXRpbmdzOnUsZW5lbXlEYXRhOmQsY29udHJvbGxlcnM6bnVsbH0sc2NyZWVuOnt3aWR0aDp3aW5kb3cuaW5uZXJXaWR0aCxoZWlnaHQ6d2luZG93LmlubmVySGVpZ2h0fSxpbnRlcnZhbENvdW50OjIwLGVuZW15VHlwZTpudWxsLGFsbEdhbWVTaWRlT2JqZWN0czpbXSxhbGxHYW1lRW5lbWllczpbXSxhbGxHYW1lQnVsbGV0czpbXSxhbGxHYW1lTWFwT0JqZWN0czpbXSxtYXBCYWNrZ3JvdW5kT2JqZWN0czpbXSx3YXJwT2JqZWN0czpbXSx0aW1lVG9FcmVzc0xldmVsOjYsbGV2ZWxDaGFuZ2U6ITEsZ2FtZVBhdXNlOiExLGdhbWVVaVBhdXNlOiExLGJhY2tTY3JlZW5QYXVzZTohMCxnYW1lU3RhdHVzOiExLGdhbWVPdmVyOiExLGdlbWVFeHRyYVNlY29uZHM6MH19XX19KSl9KSl9dC5zZXJ2ZXJSZXF1ZXN0PW8sdC5nYW1lRGF0YUluaXQ9cyx0LmdhbWVFbmdpbmU9ZnVuY3Rpb24oZSl7cmV0dXJuIGEodGhpcyx2b2lkIDAsdm9pZCAwLChmdW5jdGlvbigpe3JldHVybiBuKHRoaXMsKGZ1bmN0aW9uKGUpe3JldHVyblsyXX0pKX0pKX0sdC5nYW1lU3RhcnQ9ZnVuY3Rpb24oKXt0aGlzLmdhbWVJbml0RGF0YS5nYW1lT3Zlcj0hMSx0aGlzLmdhbWVJbml0RGF0YS5nYW1lU3RhdHVzPSEwfSx0LmJhY2tUb1N0YXJ0U2NyZWVuPWZ1bmN0aW9uKGUpe3JldHVybiBhKHRoaXMsdm9pZCAwLHZvaWQgMCwoZnVuY3Rpb24oKXt2YXIgdCxpLGEscixvLGw7cmV0dXJuIG4odGhpcywoZnVuY3Rpb24obil7c3dpdGNoKG4ubGFiZWwpe2Nhc2UgMDpyZXR1cm5bNCxzKGUpXTtjYXNlIDE6Zm9yKHQ9bi5zZW50KCksaT0wLGE9T2JqZWN0LmVudHJpZXModC5kYXRhKTtpPGEubGVuZ3RoO2krKylyPWFbaV0sbz1yWzBdLG51bGwhPT0obD1yWzFdKSYmKHRoaXMuZ2FtZUluaXREYXRhW29dPWwpO3JldHVybiB0aGlzLmdhbWVJbml0RGF0YS5nYW1lT3Zlcj0hMSx0aGlzLmdhbWVJbml0RGF0YS5nYW1lU3RhdHVzPSExLFsyXX19KSl9KSl9fSxmdW5jdGlvbihlLHQsaSl7XCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksdC51aUltYWdlPWZ1bmN0aW9uKGUpe3ZhciB0PWUucHJvcGVydHllczt0LmN0eC5kcmF3SW1hZ2UodC5iYWNrZ3JvdW5kLDAsMCx0LnNXaWR0aCx0LnNIZWlnaHQsdC54LHQueSx0LndpZHRoLHQuaGVpZ2h0KX0sdC51aVRleHQ9ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5wcm9wZXJ0eWVzO3QuY3R4Lm1lYXN1cmVUZXh0KGUudGV4dCkud2lkdGgsdC5jdHguZm9udD1lLmZvbnRTaXplLHQuY3R4LmZpbGxTdHlsZT10LmJvcmRlckNvbG9yLHQuY3R4LmZpbGxUZXh0KGUudGV4dCx0LngrdC53aWR0aCx0LnkrdC5oZWlnaHQpfSx0LnVpUmVwZWF0SW1hZ2U9ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5wcm9wZXJ0eWVzLGk9dC5jdHguY3JlYXRlUGF0dGVybih0LmJhY2tncm91bmQsXCJyZXBlYXQteFwiKTt0LmN0eC5yZWN0KHQueCx0LnksdC53aWR0aCx0LmhlaWdodCksdC5jdHguZmlsbFN0eWxlPWksdC5jdHguZmlsbCgpfX0sZnVuY3Rpb24oZSx0LGkpe1widXNlIHN0cmljdFwiO3ZhciBhPXRoaXMmJnRoaXMuX19hd2FpdGVyfHxmdW5jdGlvbihlLHQsaSxhKXtyZXR1cm4gbmV3KGl8fChpPVByb21pc2UpKSgoZnVuY3Rpb24obixyKXtmdW5jdGlvbiBvKGUpe3RyeXtsKGEubmV4dChlKSl9Y2F0Y2goZSl7cihlKX19ZnVuY3Rpb24gcyhlKXt0cnl7bChhLnRocm93KGUpKX1jYXRjaChlKXtyKGUpfX1mdW5jdGlvbiBsKGUpe3ZhciB0O2UuZG9uZT9uKGUudmFsdWUpOih0PWUudmFsdWUsdCBpbnN0YW5jZW9mIGk/dDpuZXcgaSgoZnVuY3Rpb24oZSl7ZSh0KX0pKSkudGhlbihvLHMpfWwoKGE9YS5hcHBseShlLHR8fFtdKSkubmV4dCgpKX0pKX0sbj10aGlzJiZ0aGlzLl9fZ2VuZXJhdG9yfHxmdW5jdGlvbihlLHQpe3ZhciBpLGEsbixyLG89e2xhYmVsOjAsc2VudDpmdW5jdGlvbigpe2lmKDEmblswXSl0aHJvdyBuWzFdO3JldHVybiBuWzFdfSx0cnlzOltdLG9wczpbXX07cmV0dXJuIHI9e25leHQ6cygwKSx0aHJvdzpzKDEpLHJldHVybjpzKDIpfSxcImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJihyW1N5bWJvbC5pdGVyYXRvcl09ZnVuY3Rpb24oKXtyZXR1cm4gdGhpc30pLHI7ZnVuY3Rpb24gcyhyKXtyZXR1cm4gZnVuY3Rpb24ocyl7cmV0dXJuIGZ1bmN0aW9uKHIpe2lmKGkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkdlbmVyYXRvciBpcyBhbHJlYWR5IGV4ZWN1dGluZy5cIik7Zm9yKDtvOyl0cnl7aWYoaT0xLGEmJihuPTImclswXT9hLnJldHVybjpyWzBdP2EudGhyb3d8fCgobj1hLnJldHVybikmJm4uY2FsbChhKSwwKTphLm5leHQpJiYhKG49bi5jYWxsKGEsclsxXSkpLmRvbmUpcmV0dXJuIG47c3dpdGNoKGE9MCxuJiYocj1bMiZyWzBdLG4udmFsdWVdKSxyWzBdKXtjYXNlIDA6Y2FzZSAxOm49cjticmVhaztjYXNlIDQ6cmV0dXJuIG8ubGFiZWwrKyx7dmFsdWU6clsxXSxkb25lOiExfTtjYXNlIDU6by5sYWJlbCsrLGE9clsxXSxyPVswXTtjb250aW51ZTtjYXNlIDc6cj1vLm9wcy5wb3AoKSxvLnRyeXMucG9wKCk7Y29udGludWU7ZGVmYXVsdDppZighKG49KG49by50cnlzKS5sZW5ndGg+MCYmbltuLmxlbmd0aC0xXSkmJig2PT09clswXXx8Mj09PXJbMF0pKXtvPTA7Y29udGludWV9aWYoMz09PXJbMF0mJighbnx8clsxXT5uWzBdJiZyWzFdPG5bM10pKXtvLmxhYmVsPXJbMV07YnJlYWt9aWYoNj09PXJbMF0mJm8ubGFiZWw8blsxXSl7by5sYWJlbD1uWzFdLG49cjticmVha31pZihuJiZvLmxhYmVsPG5bMl0pe28ubGFiZWw9blsyXSxvLm9wcy5wdXNoKHIpO2JyZWFrfW5bMl0mJm8ub3BzLnBvcCgpLG8udHJ5cy5wb3AoKTtjb250aW51ZX1yPXQuY2FsbChlLG8pfWNhdGNoKGUpe3I9WzYsZV0sYT0wfWZpbmFsbHl7aT1uPTB9aWYoNSZyWzBdKXRocm93IHJbMV07cmV0dXJue3ZhbHVlOnJbMF0/clsxXTp2b2lkIDAsZG9uZTohMH19KFtyLHNdKX19fTtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgcj1pKDUpO3QubmV4dExldmVsRGF0YVJlbG9hZD1mdW5jdGlvbihlKXtyZXR1cm4gYSh0aGlzLHZvaWQgMCx2b2lkIDAsKGZ1bmN0aW9uKCl7ZnVuY3Rpb24gdChlKXtmb3IodmFyIGE9MCxuPU9iamVjdC5lbnRyaWVzKGUpO2E8bi5sZW5ndGg7YSsrKXt2YXIgcj1uW2FdLG89clswXSxzPXJbMV07XCJvYmplY3RcIiE9dHlwZW9mIGVbb118fG51bGw9PXN8fGVbb10ubGVuZ3RofHx0KGVbb10pLGkuY2FsbCh0aGlzLG8sZSl9fWZ1bmN0aW9uIGkoZSx0KXtmb3IodmFyIGk9MCxhPU9iamVjdC5lbnRyaWVzKGwpO2k8YS5sZW5ndGg7aSsrKXt2YXIgbj1hW2ldLHI9blswXSxvPW5bMV07cj09ZSYmbnVsbCE9byYmKHRoaXMuZ2FtZUluaXREYXRhW3JdPW8pfX12YXIgYSxvLHMsbDtyZXR1cm4gbih0aGlzLChmdW5jdGlvbihpKXtzd2l0Y2goaS5sYWJlbCl7Y2FzZSAwOnJldHVybiBhPWUuZ2FtZURhdGEuY3VycmVudExldmVsLFs0LHIuc2VydmVyUmVxdWVzdCh7bGV2ZWw6YSxzaGlwQ29uZmlndXJhdGlvbjoxfSldO2Nhc2UgMTpyZXR1cm4gbz1pLnNlbnQoKSxsPXtnYW1lRGF0YTp7Y3VycmVudExldmVsOmEsY3VycmVudFBvaW50OihzPXRoaXMpLmdhbWVJbml0RGF0YS5nYW1lRGF0YS5jdXJyZW50UG9pbnQscGxheWVyT2JqZWN0OnMuZ2FtZUluaXREYXRhLmdhbWVEYXRhLnBsYXllck9iamVjdCxsZXZlbERhdGE6by5sZXZlbERhdGEsbGV2ZWxPYmplY3RzOm8ubGV2ZWxPYmplY3RzLGdhbWVTZXRpbmdzOnMuZ2FtZUluaXREYXRhLmdhbWVEYXRhLmdhbWVTZXRpbmdzLGVuZW15RGF0YTpvLmVuZW15RGF0YSxjb250cm9sbGVyczpzLmdhbWVJbml0RGF0YS5nYW1lRGF0YS5jb250cm9sbGVyc30sZW5lbXlUeXBlOm51bGwsYWxsR2FtZVNpZGVPYmplY3RzOltdLGFsbEdhbWVFbmVtaWVzOltdLGFsbEdhbWVCdWxsZXRzOltdLGFsbEdhbWVNYXBPQmplY3RzOltdLG1hcEJhY2tncm91bmRPYmplY3RzOltdLGdhbWVQYXVzZTohMSxnYW1lVWlQYXVzZTohMSxiYWNrU2NyZWVuUGF1c2U6ITAsZ2FtZU92ZXI6ITEsZ2VtZUV4dHJhU2Vjb25kczowfSxzZXRUaW1lb3V0KChmdW5jdGlvbigpe3MuZ2FtZUluaXREYXRhLndhcnBPYmplY3RzPVtdLHMuZ2FtZUluaXREYXRhLnRpbWVUb0VyZXNzTGV2ZWw9NixzLmdhbWVJbml0RGF0YS5sZXZlbENoYW5nZT0hMX0pLDVlMyksdC5jYWxsKHRoaXMsdGhpcy5nYW1lSW5pdERhdGEpLFsyXX19KSl9KSl9fSxmdW5jdGlvbihlLHQsaSl7XCJ1c2Ugc3RyaWN0XCI7dmFyIGE9dGhpcyYmdGhpcy5fX3Jlc3R8fGZ1bmN0aW9uKGUsdCl7dmFyIGk9e307Zm9yKHZhciBhIGluIGUpT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsYSkmJnQuaW5kZXhPZihhKTwwJiYoaVthXT1lW2FdKTtpZihudWxsIT1lJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKXt2YXIgbj0wO2ZvcihhPU9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMoZSk7bjxhLmxlbmd0aDtuKyspdC5pbmRleE9mKGFbbl0pPDAmJk9iamVjdC5wcm90b3R5cGUucHJvcGVydHlJc0VudW1lcmFibGUuY2FsbChlLGFbbl0pJiYoaVthW25dXT1lW2Fbbl1dKX1yZXR1cm4gaX07T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIG49aSgyMSkscj1pKDEpLG89aSg0MCk7Y29uc29sZS5sb2cobi5lbmVteVNoaXBMb2dpY1ZlcnRpY2FsLFwiIDw8PDxcIik7dmFyIHM9ZnVuY3Rpb24oZSl7dmFyIHQ9YShlLFtdKTt0aGlzLmlkPShuZXcgRGF0ZSkuZ2V0VGltZSgpLHRoaXMueD10LngsdGhpcy55PXQueSx0aGlzLnN4PXQuc3gsdGhpcy5zeT10LnN5LHRoaXMuc1dpZHRoPXQuc1dpZHRoLHRoaXMuc0hlaWdodD10LnNIZWlnaHQsdGhpcy5waWN0dXJlc1dpZHRoPXQucGljdHVyZXNXaWR0aCx0aGlzLm51bWJlck9mSXRlbXM9dC5udW1iZXJPZkl0ZW1zLHRoaXMud2lkdGg9dC53aWR0aCx0aGlzLmhlaWdodD10LmhlaWdodCx0aGlzLnNoaXBUZXh0dXJlPV9fZGlybmFtZStcIi9wdWJsaWMvaW1hZ2VzL3NwYWNlU2hpcHMvXCIrdC5zaGlwVGV4dHVyZSx0aGlzLnNwZWVkPXQuc3BlZWQsdGhpcy5zdGF0dXM9dC5zdGF0dXMsdGhpcy5uYW1lPXQubmFtZSx0aGlzLmJ1bGxldFR5cGVOdW1iZXI9dC5idWxsZXRUeXBlTnVtYmVyLHRoaXMucmFwaWRGaXJlPXQucmFwaWRGaXJlLHRoaXMucG9pbnRzUGVyVW5pdD10LnBvaW50c1BlclVuaXQsdGhpcy5oZWFsdGhQb2ludD10LmhlYWx0aFBvaW50LHRoaXMuYW5pbWF0aW9uU3RlcHM9dC5hbmltYXRpb25TdGVwcyx0aGlzLmRhbWFnZT10LmRhbWFnZSx0aGlzLmd1bnM9dC5ndW5zLHRoaXMuZGV0ZWN0RnJhbWU9MCx0aGlzLm9iamVjdFByZXNlbnQ9ITAsdGhpcy5vYmplY3RPd25lcj10Lm9iamVjdE93bmVyLHRoaXMuZ3Vucz10Lmd1bnMsdGhpcy5leHBsb3Npb249dC5leHBsb3Npb24sdGhpcy5udW1iZXJPZlZlcnRpY2FsSXRlbXM9dC5udW1iZXJPZlZlcnRpY2FsSXRlbXMsdGhpcy5vcmlnaW5hbEhlYWx0aFBvaW50PXQuaGVhbHRoUG9pbnQsdGhpcy5pc01vdmU9dC5pc01vdmUsdGhpcy5pc1Nob290PXQuaXNTaG9vdCx0aGlzLnZlcnRpY2FsU3BlZWQ9dC52ZXJ0aWNhbFNwZWVkP3QudmVydGljYWxTcGVlZDpNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkqdC5zcGVlZCsxKSx0aGlzLnNwb3REaXN0YW5jZT10LmlzQm9zcz90LnNwb3REaXN0YW5jZTpNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkqdC5zcG90RGlzdGFuY2UpLHRoaXMueUZpbmFsPTAsdGhpcy54RmluYWw9MCx0aGlzLmJlaGF2aW9yPXQuYmVoYXZpb3IsdGhpcy5kaXJlY3Rpb249bnVsbCx0aGlzLmlzQm9zcz10LmlzQm9zc307dC5FbmVteU9iamVjdD1zLHMucHJvdG90eXBlLnBsYWNlRW5lbXllcz1yLnBsYWNlRW5lbXllcyxzLnByb3RvdHlwZS5tb3ZlRW5lbXllcz1yLm1vdmVFbmVteWVzLHMucHJvdG90eXBlLmxvYWRFbmVteWVzPXIubG9hZEVuZW15ZXMscy5wcm90b3R5cGUuc2hvb3Q9ci5zaG9vdCxzLnByb3RvdHlwZS5lbmVteUFuaW1hdGlvbj1yLmVuZW15QW5pbWF0aW9uLHMucHJvdG90eXBlLmdldE9iamVjdFBvc2l0aW9uPW8uZ2V0T2JqZWN0UG9zaXRpb24scy5wcm90b3R5cGUuZW5lbXlEYW1hZ2VBbmltYXRpb249ci5lbmVteURhbWFnZUFuaW1hdGlvbixzLnByb3RvdHlwZS5lbmVteVNoaXBMb2dpY1ZlcnRpY2FsPW4uZW5lbXlTaGlwTG9naWNWZXJ0aWNhbCxzLnByb3RvdHlwZS5lbmVteVZlcnRpY2FsTW92ZUNhbGN1bGF0aW9uPW4uZW5lbXlWZXJ0aWNhbE1vdmVDYWxjdWxhdGlvbixzLnByb3RvdHlwZS50YWtlRGFtYWdlPXIudGFrZURhbWFnZX0sZnVuY3Rpb24oZSx0LGkpe1widXNlIHN0cmljdFwiO3ZhciBhPXRoaXMmJnRoaXMuX19hc3NpZ258fGZ1bmN0aW9uKCl7cmV0dXJuKGE9T2JqZWN0LmFzc2lnbnx8ZnVuY3Rpb24oZSl7Zm9yKHZhciB0LGk9MSxhPWFyZ3VtZW50cy5sZW5ndGg7aTxhO2krKylmb3IodmFyIG4gaW4gdD1hcmd1bWVudHNbaV0pT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHQsbikmJihlW25dPXRbbl0pO3JldHVybiBlfSkuYXBwbHkodGhpcyxhcmd1bWVudHMpfTtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSx0LmV4cGxvc2lvbkZpcmU9ZnVuY3Rpb24oZSx0LGksbil7dmFyIHI9aS54K2kud2lkdGgvMixvPWUueCtlLndpZHRoLzIscz0oTWF0aC5tYXgocixvKSxNYXRoLm1pbihyLG8pLGkueCxlLngse3g6ZS54LWUud2lkdGgvMix5OmUueS1lLmhlaWdodC8yLHN4OjAsc3k6MCxvYmplY3RPd25lcjpcImV4cGxvc2lvblwiLHNXaWR0aDplLmV4cGxvc2lvbi5pbWFnZVdpZHRoL2UuZXhwbG9zaW9uLm51bWJlck9mSXRlbXMsc0hlaWdodDplLmV4cGxvc2lvbi5pbWFnZUhlaWdodCx3aWR0aDoyKmUuZXhwbG9zaW9uLndpZHRoLGhlaWdodDoyKmUuZXhwbG9zaW9uLndpZHRoLGFuaW1hdGlvblN0ZXBzOmUuZXhwbG9zaW9uLmFuaW1hdGlvblN0ZXBzLHRhcmdldDppLm9iamVjdE93bmVyLG51bWJlck9mSXRlbXM6ZS5leHBsb3Npb24uaW1hZ2VXaWR0aC9lLmV4cGxvc2lvbi5udW1iZXJPZkl0ZW1zLHRleHR1cmU6ZS5leHBsb3Npb24udGV4dHVyZSxzcGVlZDppLnNwZWVkLzIscGljdHVyZXNXaWR0aDplLmV4cGxvc2lvbi5pbWFnZVdpZHRofSksbD1uZXcgbihhKHt9LHMpKTtsLmltZy5zcmM9bC50ZXh0dXJlLGwuaW1nLm9ubG9hZD1mdW5jdGlvbigpe3QuZ2FtZUluaXREYXRhLmFsbEdhbWVTaWRlT2JqZWN0cz10LmdhbWVJbml0RGF0YS5hbGxHYW1lU2lkZU9iamVjdHMuY29uY2F0KGwpfX0sdC5maXJlQW5pbWF0aW9uRW5kZWQ9ZnVuY3Rpb24oZSl7dGhpcy5kZXRlY3RGcmFtZSs9MSx0aGlzLmRldGVjdEZyYW1lJXRoaXMuYW5pbWF0aW9uU3RlcHM9PTAmJih0aGlzLmRldGVjdEZyYW1lPTAsdGhpcy5zeCs9dGhpcy5zV2lkdGgsdGhpcy5zeD49dGhpcy5waWN0dXJlc1dpZHRoJiYodGhpcy5vYmplY3RQcmVzZW50PSExLHRoaXMuc3g9MCkpLHRoaXMuc3g+PXRoaXMucGljdHVyZXNXaWR0aCYmKHRoaXMuYW5pbWF0aW9uU3RhdGU9ITEpfSx0Lm1hcE9iamVjdE1vdmU9ZnVuY3Rpb24oKXt0aGlzLngtPXRoaXMuc3BlZWQ/dGhpcy5zcGVlZDozfSx0Lm1hcFJhbm9tT2JqZWN0U3Bhd249ZnVuY3Rpb24oZSx0LGkpe3RoaXMuZ2V0U2Vjb25kTWVhc3VyZSgoZnVuY3Rpb24oZSx0LGkpe3ZhciBuPXRoaXMscj10aGlzLnNob3dHYW1lSW5mbygpLmdhbWVEYXRhLmxldmVsRGF0YTtpZih0aGlzLmdhbWVSYW5kb21pemVyKHIub2JqZWN0UHJvYmFiaWxpdHkpPHIub2JqZWN0TWluVGltZVNwYXduKXt2YXIgbz10aGlzLmdldFNjcmVlblNpemUoKSxzPWVbdGhpcy5nYW1lUmFuZG9taXplcihlLmxlbmd0aCldLGw9XCJib3R0b21cIj09cy5zcGF3bkRldGFpbHMucG9zaXRpb24mJlwic3RyaW5nXCI9PXR5cGVvZiBzLnNwYXduRGV0YWlscy5wb3NpdGlvbj9vLmhlaWdodC10aGlzLmdhbWVSYW5kb21pemVyKHMuaGVpZ2h0KTpcInRvcFwiPT1zLnNwYXduRGV0YWlscy5wb3NpdGlvbiYmXCJzdHJpbmdcIj09dHlwZW9mIHMuc3Bhd25EZXRhaWxzLnBvc2l0aW9uP3RoaXMuZ2FtZVJhbmRvbWl6ZXIocy5oZWlnaHQpOlwic3RyaW5nXCI9PXR5cGVvZiBzLnNwYXduRGV0YWlscy5wb3NpdGlvbj90aGlzLmdhbWVSYW5kb21pemVyKG8uaGVpZ2h0KTpzLnNwYXduRGV0YWlscy5wb3NpdGlvbixjPXt4Om8ud2lkdGgseTpsLHN4OjAsc3k6MCxvYmplY3RPd25lcjpzLm9iamVjdE93bmVyLHNXaWR0aDpzLmltYWdlV2lkdGgvcy5udW1iZXJPZkl0ZW1zLHNIZWlnaHQ6cy5pbWFnZUhlaWdodCx3aWR0aDpzLndpZHRoLGhlaWdodDpzLmhlaWdodCxhbmltYXRpb25TdGVwczpzLmFuaW1hdGlvblN0ZXBzLHRhcmdldDpudWxsLG51bWJlck9mSXRlbXM6cy5udW1iZXJPZkl0ZW1zLHRleHR1cmU6cy5za2luTmFtZSxzcGVlZDpzLnNwZWVkLHBpY3R1cmVzV2lkdGg6cy5pbWFnZVdpZHRoLGhlYWx0aFBvaW50OnMuaGVhbHRoUG9pbnQsZGFtYWdlOnMuZGFtYWdlLGlzQmFja2dyb3VuZDpzLmlzQmFja2dyb3VuZCxleHBsb3Npb246cy5leHBsb3Npb25BbmltYXRpb24scG9pbnRzUGVyVW5pdDpzLnBvaW50c1BlclVuaXR9LGg9bmV3IHQoYSh7fSxjKSk7aC5pbWcuc3JjPWgudGV4dHVyZSxoLmltZy5vbmxvYWQ9ZnVuY3Rpb24oKXtuLmdhbWVJbml0RGF0YS5hbGxHYW1lU2lkZU9iamVjdHM9bi5nYW1lSW5pdERhdGEuYWxsR2FtZVNpZGVPYmplY3RzLmNvbmNhdChoKX19fSksZSx0LGkpfX0sZnVuY3Rpb24oZSx0LGkpe1widXNlIHN0cmljdFwiO3ZhciBhPXRoaXMmJnRoaXMuX19pbXBvcnRTdGFyfHxmdW5jdGlvbihlKXtpZihlJiZlLl9fZXNNb2R1bGUpcmV0dXJuIGU7dmFyIHQ9e307aWYobnVsbCE9ZSlmb3IodmFyIGkgaW4gZSlPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChlLGkpJiYodFtpXT1lW2ldKTtyZXR1cm4gdC5kZWZhdWx0PWUsdH07T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIG49YShpKDMpKSxyPWEoaSgyNCkpO3QuaW5pdFBsYXllclNoaXA9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcztpZih0aGlzLmN0eCl7dmFyIGk9dGhpcy5kYXRhLnRleHR1cmUsYT1lLnNob3dHYW1lSW5mbygpLmltYWdlRGlycmVjdGlvbjt0aGlzLmltZz1uZXcgSW1hZ2UsdGhpcy5pbWcub25sb2FkPWZ1bmN0aW9uKCl7cmV0dXJuIHQucGxhY2VQbGF5ZXJTaGlwJiZ0LnBsYWNlUGxheWVyU2hpcCgpLHQuaW1nfSx0aGlzLmltZy5zcmM9YStpfX0sdC5tb3ZlUGxheWVyU2hpcD1mdW5jdGlvbigpe3RoaXMuaW1nJiZ0aGlzLmN0eCYmdGhpcy5pbWcmJnIuY3JlYXRlSW1hZ2UodGhpcy5jdHgsdGhpcy5pbWcsdGhpcy54LHRoaXMueSx0aGlzLndpZHRoLHRoaXMuaGVpZ2h0KX0sdC5zaGlwQ29udHJvbD1mdW5jdGlvbihlKXt2YXIgdD10aGlzLGk9ZS5nYW1lSW5pdERhdGEuZ2FtZURhdGEuZ2FtZVNldGluZ3Mua2V5Q29udHJvbHM7ZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIiwoZnVuY3Rpb24oYSl7aWYoZS5nYW1lSW5pdERhdGEuZ2FtZVBhdXNlKXJldHVybiExO2kuZG93bi5zb21lKChmdW5jdGlvbihlKXtyZXR1cm4gYS5rZXlDb2RlPT1lfSkpJiZ0Lm1vdmVTaGlwKHt4UG9zOjAseVBvczp0LmRhdGEuc3BlZWR9KSxpLmxlZnQuc29tZSgoZnVuY3Rpb24oZSl7cmV0dXJuIGEua2V5Q29kZT09ZX0pKSYmdC5tb3ZlU2hpcCh7eFBvczotMSp0LmRhdGEuc3BlZWQseVBvczowfSksaS5yaWdodC5zb21lKChmdW5jdGlvbihlKXtyZXR1cm4gYS5rZXlDb2RlPT1lfSkpJiZ0Lm1vdmVTaGlwKHt4UG9zOnQuZGF0YS5zcGVlZCx5UG9zOjB9KSxpLnVwLnNvbWUoKGZ1bmN0aW9uKGUpe3JldHVybiBhLmtleUNvZGU9PWV9KSkmJnQubW92ZVNoaXAoe3hQb3M6MCx5UG9zOi0xKnQuZGF0YS5zcGVlZH0pfSkpLGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZW1vdmVcIiwoZnVuY3Rpb24oaSl7aWYoZS5nYW1lSW5pdERhdGEuZ2FtZVBhdXNlKXJldHVybiExO2lmKFwiQ0FOVkFTXCI9PT1pLnRhcmdldC50YWdOYW1lJiYhZS5nYW1lSW5pdERhdGEuZ2FtZVBhdXNlJiZlLmdhbWVJbml0RGF0YS5nYW1lU3RhdHVzKXt2YXIgYT1pLmNsaWVudFgtaS50YXJnZXQub2Zmc2V0TGVmdCxuPWkuY2xpZW50WS1pLnRhcmdldC5vZmZzZXRUb3A7dC54RmluYWw9KGEldC5kYXRhLnNwZWVkPT0wP2E6dC5kYXRhLnNwZWVkKk1hdGguZmxvb3IoYS90LmRhdGEuc3BlZWQpKS10LndpZHRoLzIsdC55RmluYWw9KG4ldC5kYXRhLnNwZWVkPT0wP246dC5kYXRhLnNwZWVkKk1hdGguZmxvb3Iobi90LmRhdGEuc3BlZWQpKS10LmhlaWdodC8yfX0pKSxkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwoZnVuY3Rpb24oaSl7aWYoZS5nYW1lSW5pdERhdGEuZ2FtZVBhdXNlKXJldHVybiExO2Zvcih2YXIgYT1mdW5jdGlvbihpKXt2YXIgYT1uZXcgbi5CdWxsZXRDb25zdHJ1Y3QodC54LHQueStpLmZpcmVQb3NpdGlvbixpLm5hbWUsaS5jb2xvcixcInBsYXllclwiLGkuc3BlZWQrdC54QWRqLGkud2lkdGgsaS5oZWlnaHQsaS5kYW1hZ2UsaS50eXBlLGkudGV4dHVyZSxpLnN4LGkuc3ksaS5zV2lkdGgsaS5zSGVpZ2h0LGkuZXhwbG9zaW9uQW5pbWF0aW9uKTthLmltZy5zcmM9YS50ZXh0dXJlLGEuaW1nLm9ubG9hZD1mdW5jdGlvbigpe2UuZ2FtZUluaXREYXRhLmFsbEdhbWVCdWxsZXRzPWUuZ2FtZUluaXREYXRhLmFsbEdhbWVCdWxsZXRzLmNvbmNhdChhKX19LHI9MCxvPXQuZGF0YS5ndW5zO3I8by5sZW5ndGg7cisrKXthKG9bcl0pfX0pKX0sdC5zZXRDb250ZXh0PWZ1bmN0aW9uKGUpe3RoaXMuY3R4PWV9LHQucGxhY2VTaGlwPWZ1bmN0aW9uKCl7dmFyIGU9KHRoaXMueEZpbmFsLXRoaXMueCkvdGhpcy5kYXRhLnNwZWVkLHQ9KHRoaXMueUZpbmFsLXRoaXMueSkvdGhpcy5kYXRhLnNwZWVkO2U9TWF0aC5zaWduKGUpPjA/ZTotMSplLHQ9TWF0aC5zaWduKHQpPjA/dDotMSp0LGU9ZT50aGlzLmRhdGEubWluU3BlZWQ/dGhpcy5kYXRhLm1pblNwZWVkOmUsdD10PnRoaXMuZGF0YS5taW5TcGVlZD90aGlzLmRhdGEubWluU3BlZWQ6dCx0aGlzLnhBZGo9dGhpcy54PnRoaXMueEZpbmFsPzA6ZSx0aGlzLng9dGhpcy54PnRoaXMueEZpbmFsP3RoaXMueC1lOnRoaXMueDx0aGlzLnhGaW5hbD90aGlzLngrZTp0aGlzLnhGaW5hbCx0aGlzLnk9dGhpcy55PnRoaXMueUZpbmFsP3RoaXMueS10OnRoaXMueTx0aGlzLnlGaW5hbD90aGlzLnkrdDp0aGlzLnlGaW5hbH0sdC5tb3ZlU2hpcD1mdW5jdGlvbihlKXt2YXIgdD1lLnhQb3MsaT12b2lkIDA9PT10PzA6dCxhPWUueVBvcyxuPXZvaWQgMD09PWE/MDphO3RoaXMueCs9aSx0aGlzLnkrPW59fSxmdW5jdGlvbihlLHQsaSl7XCJ1c2Ugc3RyaWN0XCI7dmFyIGE9dGhpcyYmdGhpcy5fX2F3YWl0ZXJ8fGZ1bmN0aW9uKGUsdCxpLGEpe3JldHVybiBuZXcoaXx8KGk9UHJvbWlzZSkpKChmdW5jdGlvbihuLHIpe2Z1bmN0aW9uIG8oZSl7dHJ5e2woYS5uZXh0KGUpKX1jYXRjaChlKXtyKGUpfX1mdW5jdGlvbiBzKGUpe3RyeXtsKGEudGhyb3coZSkpfWNhdGNoKGUpe3IoZSl9fWZ1bmN0aW9uIGwoZSl7dmFyIHQ7ZS5kb25lP24oZS52YWx1ZSk6KHQ9ZS52YWx1ZSx0IGluc3RhbmNlb2YgaT90Om5ldyBpKChmdW5jdGlvbihlKXtlKHQpfSkpKS50aGVuKG8scyl9bCgoYT1hLmFwcGx5KGUsdHx8W10pKS5uZXh0KCkpfSkpfSxuPXRoaXMmJnRoaXMuX19nZW5lcmF0b3J8fGZ1bmN0aW9uKGUsdCl7dmFyIGksYSxuLHIsbz17bGFiZWw6MCxzZW50OmZ1bmN0aW9uKCl7aWYoMSZuWzBdKXRocm93IG5bMV07cmV0dXJuIG5bMV19LHRyeXM6W10sb3BzOltdfTtyZXR1cm4gcj17bmV4dDpzKDApLHRocm93OnMoMSkscmV0dXJuOnMoMil9LFwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmKHJbU3ltYm9sLml0ZXJhdG9yXT1mdW5jdGlvbigpe3JldHVybiB0aGlzfSkscjtmdW5jdGlvbiBzKHIpe3JldHVybiBmdW5jdGlvbihzKXtyZXR1cm4gZnVuY3Rpb24ocil7aWYoaSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiR2VuZXJhdG9yIGlzIGFscmVhZHkgZXhlY3V0aW5nLlwiKTtmb3IoO287KXRyeXtpZihpPTEsYSYmKG49MiZyWzBdP2EucmV0dXJuOnJbMF0/YS50aHJvd3x8KChuPWEucmV0dXJuKSYmbi5jYWxsKGEpLDApOmEubmV4dCkmJiEobj1uLmNhbGwoYSxyWzFdKSkuZG9uZSlyZXR1cm4gbjtzd2l0Y2goYT0wLG4mJihyPVsyJnJbMF0sbi52YWx1ZV0pLHJbMF0pe2Nhc2UgMDpjYXNlIDE6bj1yO2JyZWFrO2Nhc2UgNDpyZXR1cm4gby5sYWJlbCsrLHt2YWx1ZTpyWzFdLGRvbmU6ITF9O2Nhc2UgNTpvLmxhYmVsKyssYT1yWzFdLHI9WzBdO2NvbnRpbnVlO2Nhc2UgNzpyPW8ub3BzLnBvcCgpLG8udHJ5cy5wb3AoKTtjb250aW51ZTtkZWZhdWx0OmlmKCEobj0obj1vLnRyeXMpLmxlbmd0aD4wJiZuW24ubGVuZ3RoLTFdKSYmKDY9PT1yWzBdfHwyPT09clswXSkpe289MDtjb250aW51ZX1pZigzPT09clswXSYmKCFufHxyWzFdPm5bMF0mJnJbMV08blszXSkpe28ubGFiZWw9clsxXTticmVha31pZig2PT09clswXSYmby5sYWJlbDxuWzFdKXtvLmxhYmVsPW5bMV0sbj1yO2JyZWFrfWlmKG4mJm8ubGFiZWw8blsyXSl7by5sYWJlbD1uWzJdLG8ub3BzLnB1c2gocik7YnJlYWt9blsyXSYmby5vcHMucG9wKCksby50cnlzLnBvcCgpO2NvbnRpbnVlfXI9dC5jYWxsKGUsbyl9Y2F0Y2goZSl7cj1bNixlXSxhPTB9ZmluYWxseXtpPW49MH1pZig1JnJbMF0pdGhyb3cgclsxXTtyZXR1cm57dmFsdWU6clswXT9yWzFdOnZvaWQgMCxkb25lOiEwfX0oW3Isc10pfX19LHI9dGhpcyYmdGhpcy5fX2ltcG9ydFN0YXJ8fGZ1bmN0aW9uKGUpe2lmKGUmJmUuX19lc01vZHVsZSlyZXR1cm4gZTt2YXIgdD17fTtpZihudWxsIT1lKWZvcih2YXIgaSBpbiBlKU9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsaSkmJih0W2ldPWVbaV0pO3JldHVybiB0LmRlZmF1bHQ9ZSx0fTtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSxpKDEyKTt2YXIgbz1pKDE2KSxzPXIoaSgxOCkpLGw9cihpKDMpKSxjPWkoMCk7IWZ1bmN0aW9uKCl7YSh0aGlzLHZvaWQgMCx2b2lkIDAsKGZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSgpe3JldHVybiBhKHRoaXMsdm9pZCAwLHZvaWQgMCwoZnVuY3Rpb24oKXt2YXIgZSx0LGEsbyxzLGgsdSxtLGQsZyxwLGY7cmV0dXJuIG4odGhpcywoZnVuY3Rpb24obil7aWYoaS5nYW1lSW5pdERhdGEuY3R4VUlGaWVsZCYmYy5jbGVhckZpZWxkKGkuZ2FtZUluaXREYXRhLmN0eFVJRmllbGQsaS5nYW1lSW5pdERhdGEuc2NyZWVuLndpZHRoLGkuZ2FtZUluaXREYXRhLnNjcmVlbi5oZWlnaHQpLGkuZ2FtZUluaXREYXRhLmN0eEFjdGlvbkZpZWxkJiYhaS5nYW1lSW5pdERhdGEuZ2FtZVBhdXNlJiZjLmNsZWFyRmllbGQoaS5nYW1lSW5pdERhdGEuY3R4QWN0aW9uRmllbGQsaS5nYW1lSW5pdERhdGEuc2NyZWVuLndpZHRoLGkuZ2FtZUluaXREYXRhLnNjcmVlbi5oZWlnaHQpLGkuZ2FtZUluaXREYXRhLmJhY2tTY3JlZW5QYXVzZSYmaS5sZXZlbEluaXQobC5HYW1lQmFja2dyb3VuZCxpLmdhbWVJbml0RGF0YS5jdHgsaSksIWkuZ2FtZUluaXREYXRhLmdhbWVQYXVzZSYmaS5nYW1lSW5pdERhdGEuZ2FtZVN0YXR1cyYmaS5nYW1lSW5pdERhdGEuZ2FtZVN0YXR1cyl7aWYoaS5nYW1lSW5pdERhdGEubGV2ZWxDaGFuZ2V8fGkuc3Bhd25FbmVteUxvZ2ljKGwuRW5lbXlPYmplY3QpLGkuZ2FtZUluaXREYXRhLmFsbEdhbWVCdWxsZXRzLmxlbmd0aD4wKWZvcihlPTAsdD1pLmdhbWVJbml0RGF0YS5hbGxHYW1lQnVsbGV0cztlPHQubGVuZ3RoO2UrKykoYT10W2VdKS5tb3ZlQnVsbGV0cyhyLGkpLGEuY3JlYXRlQnVsbGV0cyhpKSxpLmRlbGV0ZUJ1bGxldChhKSxpLmhpdERldGVjdGlvbihhLGkuZ2FtZUluaXREYXRhLmFsbEdhbWVFbmVtaWVzLGkpLGkuaGl0RGV0ZWN0aW9uKHIsW2FdLGkpLGkuaGl0RGV0ZWN0aW9uKGEsaS5nYW1lSW5pdERhdGEuYWxsR2FtZVNpZGVPYmplY3RzLGkpO2lmKGkuZ2FtZUluaXREYXRhLmFsbEdhbWVFbmVtaWVzLmxlbmd0aD4wKWZvcihvPTAscz1pLmdhbWVJbml0RGF0YS5hbGxHYW1lRW5lbWllcztvPHMubGVuZ3RoO28rKykoaD1zW29dKS5wbGFjZUVuZW15ZXMoaSksaC5tb3ZlRW5lbXllcygpLGguZW5lbXlTaGlwTG9naWNWZXJ0aWNhbCh7eDpyLngseTpyLnl9LGkpLGguZW5lbXlBbmltYXRpb24oITApLGguc2hvb3QobC5CdWxsZXRDb25zdHJ1Y3QsaSksaS5kZWxldGVPYmplY3RzKGgpLGkuaGl0RGV0ZWN0aW9uKHIsW2hdLGkpO2lmKGkuZ2FtZUluaXREYXRhLmdhbWVPdmVyfHwoci5wbGFjZVNoaXAoKSxyLm1vdmVQbGF5ZXJTaGlwKCkpLGkuZ2FtZUluaXREYXRhLmFsbEdhbWVTaWRlT2JqZWN0cy5sZW5ndGg+MClmb3IodT0wLG09aS5nYW1lSW5pdERhdGEuYWxsR2FtZVNpZGVPYmplY3RzO3U8bS5sZW5ndGg7dSsrKShkPW1bdV0pLnBsYWNlRW5lbXllcyhpKSxcImV4cGxvc2lvblwiPT1kLm9iamVjdE93bmVyP2QuZmlyZUFuaW1hdGlvbkVuZGVkKGkuZ2FtZUluaXREYXRhLmFsbEdhbWVTaWRlT2JqZWN0cyk6KFwiZW5lbXlcIj09ZC5vYmplY3RPd25lciYmaS5oaXREZXRlY3Rpb24ocixbZF0saSksZC5lbmVteUFuaW1hdGlvbigpKSxkLm1hcE9iamVjdE1vdmUoKSxpLmRlbGF0ZVNpZGVPYmplY3QoZCk7aS5nYW1lSW5pdERhdGEuZ2FtZURhdGEubGV2ZWxPYmplY3RzJiZpLm1hcFJhbm9tT2JqZWN0U3Bhd24oaS5nYW1lSW5pdERhdGEuZ2FtZURhdGEubGV2ZWxPYmplY3RzLGwuU2lkZU9iamVjdCxpLmdhbWVJbml0RGF0YS5hbGxHYW1lU2lkZU9iamVjdHMpLGkuZ2FtZVNlY29uZHNJbmNyZWFzZSgpLGkubGV2ZWxUaW1lcigpfWlmKCEoaS5nYW1lSW5pdERhdGEuYmFja1NjcmVlblBhdXNlJiZpLmdhbWVJbml0RGF0YS5nYW1lUGF1c2UmJmkuZ2FtZUluaXREYXRhLmdhbWVTdGF0dXN8fGkuZ2FtZUluaXREYXRhLmdhbWVQYXVzZSYmaS5nYW1lSW5pdERhdGEuZ2FtZVN0YXR1cykpe2ZvcihpLmdhbWVJbml0RGF0YS5jdHgmJmMuY2xlYXJGaWVsZChpLmdhbWVJbml0RGF0YS5jdHgsaS5nYW1lSW5pdERhdGEuc2NyZWVuLndpZHRoLGkuZ2FtZUluaXREYXRhLnNjcmVlbi5oZWlnaHQpLGc9MCxwPWkuZ2FtZUluaXREYXRhLm1hcEJhY2tncm91bmRPYmplY3RzO2c8cC5sZW5ndGg7ZysrKShmPXBbZ10pLnVwZGF0ZU1hcCgpLGYuY2hhbmdlUGFydE9mVGV4dHVyZShpLGkuZ2FtZUluaXREYXRhLm1hcEJhY2tncm91bmRPYmplY3RzKTtpLmdhbWVJbml0RGF0YS5sZXZlbENoYW5nZSYmaS53YXJwRWZmZWN0KCl9cmV0dXJuIGkuZ2FtZUluaXREYXRhLmdhbWVTdGF0dXN8fGkuc2hvd1N0YXJ0V2luZG93KCksaS5nYW1lSW5pdERhdGEuZ2FtZVN0YXR1cyYmaS5zaG93R2FtZVN0YXRzKCksaS5nYW1lSW5pdERhdGEuZ2FtZVBhdXNlJiZpLnNob3dQYXVzZVdpbmRvdygpLGkuZ2FtZUluaXREYXRhLmdhbWVVaVBhdXNlJiYoaS5zaG93TWVudVdpbmRvdygpLGkuc2hvd1BhdXNlV2luZG93KCkpLGkuZ2FtZUluaXREYXRhLmdhbWVPdmVyJiZpLmdhbWVPdmVyV2luZG93KCksWzJdfSkpfSkpfXZhciB0LGkscixoO3JldHVybiBuKHRoaXMsKGZ1bmN0aW9uKGEpe3N3aXRjaChhLmxhYmVsKXtjYXNlIDA6cmV0dXJuWzQscy5nYW1lRGF0YUluaXQobC5QbGF5ZXJTaGlwKV07Y2FzZSAxOnJldHVybiB0PWEuc2VudCgpLFs0LG5ldyBsLkdhbWUodC5kYXRhKV07Y2FzZSAyOnJldHVybiBpPWEuc2VudCgpLHI9aS5nYW1lSW5pdERhdGEuZ2FtZURhdGEucGxheWVyT2JqZWN0LGNvbnNvbGUubG9nKGksbyxfX2Rpcm5hbWUpLHNldEludGVydmFsKGUsaS5nYW1lSW5pdERhdGEuaW50ZXJ2YWxDb3VudCksaS51aUNvbnRyb2xsZXIoKSxpLnNldEdhbWVGaWVsZHMoKSxpLmdldFNjcmVlblNpemUoKSxoPWkucmV0dXJuQ29udGV4dCgpLHIuY3R4PWguZ2FtZUFjdGlvbkZpZWxkLHIuaW5pdFBsYXllclNoaXAoaSksci5zaGlwQ29udHJvbChpKSxbMl19fSkpfSkpfSgpfSxmdW5jdGlvbihlLHQsaSl7dmFyIGE9aSgxMyksbj1pKDE0KTtcInN0cmluZ1wiPT10eXBlb2Yobj1uLl9fZXNNb2R1bGU/bi5kZWZhdWx0Om4pJiYobj1bW2UuaSxuLFwiXCJdXSk7dmFyIHI9e2luc2VydDpcImhlYWRcIixzaW5nbGV0b246ITF9LG89KGEobixyKSxuLmxvY2Fscz9uLmxvY2Fsczp7fSk7ZS5leHBvcnRzPW99LGZ1bmN0aW9uKGUsdCxpKXtcInVzZSBzdHJpY3RcIjt2YXIgYSxuPWZ1bmN0aW9uKCl7cmV0dXJuIHZvaWQgMD09PWEmJihhPUJvb2xlYW4od2luZG93JiZkb2N1bWVudCYmZG9jdW1lbnQuYWxsJiYhd2luZG93LmF0b2IpKSxhfSxyPWZ1bmN0aW9uKCl7dmFyIGU9e307cmV0dXJuIGZ1bmN0aW9uKHQpe2lmKHZvaWQgMD09PWVbdF0pe3ZhciBpPWRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IodCk7aWYod2luZG93LkhUTUxJRnJhbWVFbGVtZW50JiZpIGluc3RhbmNlb2Ygd2luZG93LkhUTUxJRnJhbWVFbGVtZW50KXRyeXtpPWkuY29udGVudERvY3VtZW50LmhlYWR9Y2F0Y2goZSl7aT1udWxsfWVbdF09aX1yZXR1cm4gZVt0XX19KCksbz1bXTtmdW5jdGlvbiBzKGUpe2Zvcih2YXIgdD0tMSxpPTA7aTxvLmxlbmd0aDtpKyspaWYob1tpXS5pZGVudGlmaWVyPT09ZSl7dD1pO2JyZWFrfXJldHVybiB0fWZ1bmN0aW9uIGwoZSx0KXtmb3IodmFyIGk9e30sYT1bXSxuPTA7bjxlLmxlbmd0aDtuKyspe3ZhciByPWVbbl0sbD10LmJhc2U/clswXSt0LmJhc2U6clswXSxjPWlbbF18fDAsaD1cIlwiLmNvbmNhdChsLFwiIFwiKS5jb25jYXQoYyk7aVtsXT1jKzE7dmFyIHU9cyhoKSxtPXtjc3M6clsxXSxtZWRpYTpyWzJdLHNvdXJjZU1hcDpyWzNdfTstMSE9PXU/KG9bdV0ucmVmZXJlbmNlcysrLG9bdV0udXBkYXRlcihtKSk6by5wdXNoKHtpZGVudGlmaWVyOmgsdXBkYXRlcjpmKG0sdCkscmVmZXJlbmNlczoxfSksYS5wdXNoKGgpfXJldHVybiBhfWZ1bmN0aW9uIGMoZSl7dmFyIHQ9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInN0eWxlXCIpLGE9ZS5hdHRyaWJ1dGVzfHx7fTtpZih2b2lkIDA9PT1hLm5vbmNlKXt2YXIgbj1pLm5jO24mJihhLm5vbmNlPW4pfWlmKE9iamVjdC5rZXlzKGEpLmZvckVhY2goKGZ1bmN0aW9uKGUpe3Quc2V0QXR0cmlidXRlKGUsYVtlXSl9KSksXCJmdW5jdGlvblwiPT10eXBlb2YgZS5pbnNlcnQpZS5pbnNlcnQodCk7ZWxzZXt2YXIgbz1yKGUuaW5zZXJ0fHxcImhlYWRcIik7aWYoIW8pdGhyb3cgbmV3IEVycm9yKFwiQ291bGRuJ3QgZmluZCBhIHN0eWxlIHRhcmdldC4gVGhpcyBwcm9iYWJseSBtZWFucyB0aGF0IHRoZSB2YWx1ZSBmb3IgdGhlICdpbnNlcnQnIHBhcmFtZXRlciBpcyBpbnZhbGlkLlwiKTtvLmFwcGVuZENoaWxkKHQpfXJldHVybiB0fXZhciBoLHU9KGg9W10sZnVuY3Rpb24oZSx0KXtyZXR1cm4gaFtlXT10LGguZmlsdGVyKEJvb2xlYW4pLmpvaW4oXCJcXG5cIil9KTtmdW5jdGlvbiBtKGUsdCxpLGEpe3ZhciBuPWk/XCJcIjphLm1lZGlhP1wiQG1lZGlhIFwiLmNvbmNhdChhLm1lZGlhLFwiIHtcIikuY29uY2F0KGEuY3NzLFwifVwiKTphLmNzcztpZihlLnN0eWxlU2hlZXQpZS5zdHlsZVNoZWV0LmNzc1RleHQ9dSh0LG4pO2Vsc2V7dmFyIHI9ZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUobiksbz1lLmNoaWxkTm9kZXM7b1t0XSYmZS5yZW1vdmVDaGlsZChvW3RdKSxvLmxlbmd0aD9lLmluc2VydEJlZm9yZShyLG9bdF0pOmUuYXBwZW5kQ2hpbGQocil9fWZ1bmN0aW9uIGQoZSx0LGkpe3ZhciBhPWkuY3NzLG49aS5tZWRpYSxyPWkuc291cmNlTWFwO2lmKG4/ZS5zZXRBdHRyaWJ1dGUoXCJtZWRpYVwiLG4pOmUucmVtb3ZlQXR0cmlidXRlKFwibWVkaWFcIiksciYmYnRvYSYmKGErPVwiXFxuLyojIHNvdXJjZU1hcHBpbmdVUkw9ZGF0YTphcHBsaWNhdGlvbi9qc29uO2Jhc2U2NCxcIi5jb25jYXQoYnRvYSh1bmVzY2FwZShlbmNvZGVVUklDb21wb25lbnQoSlNPTi5zdHJpbmdpZnkocikpKSksXCIgKi9cIikpLGUuc3R5bGVTaGVldCllLnN0eWxlU2hlZXQuY3NzVGV4dD1hO2Vsc2V7Zm9yKDtlLmZpcnN0Q2hpbGQ7KWUucmVtb3ZlQ2hpbGQoZS5maXJzdENoaWxkKTtlLmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKGEpKX19dmFyIGc9bnVsbCxwPTA7ZnVuY3Rpb24gZihlLHQpe3ZhciBpLGEsbjtpZih0LnNpbmdsZXRvbil7dmFyIHI9cCsrO2k9Z3x8KGc9Yyh0KSksYT1tLmJpbmQobnVsbCxpLHIsITEpLG49bS5iaW5kKG51bGwsaSxyLCEwKX1lbHNlIGk9Yyh0KSxhPWQuYmluZChudWxsLGksdCksbj1mdW5jdGlvbigpeyFmdW5jdGlvbihlKXtpZihudWxsPT09ZS5wYXJlbnROb2RlKXJldHVybiExO2UucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChlKX0oaSl9O3JldHVybiBhKGUpLGZ1bmN0aW9uKHQpe2lmKHQpe2lmKHQuY3NzPT09ZS5jc3MmJnQubWVkaWE9PT1lLm1lZGlhJiZ0LnNvdXJjZU1hcD09PWUuc291cmNlTWFwKXJldHVybjthKGU9dCl9ZWxzZSBuKCl9fWUuZXhwb3J0cz1mdW5jdGlvbihlLHQpeyh0PXR8fHt9KS5zaW5nbGV0b258fFwiYm9vbGVhblwiPT10eXBlb2YgdC5zaW5nbGV0b258fCh0LnNpbmdsZXRvbj1uKCkpO3ZhciBpPWwoZT1lfHxbXSx0KTtyZXR1cm4gZnVuY3Rpb24oZSl7aWYoZT1lfHxbXSxcIltvYmplY3QgQXJyYXldXCI9PT1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoZSkpe2Zvcih2YXIgYT0wO2E8aS5sZW5ndGg7YSsrKXt2YXIgbj1zKGlbYV0pO29bbl0ucmVmZXJlbmNlcy0tfWZvcih2YXIgcj1sKGUsdCksYz0wO2M8aS5sZW5ndGg7YysrKXt2YXIgaD1zKGlbY10pOzA9PT1vW2hdLnJlZmVyZW5jZXMmJihvW2hdLnVwZGF0ZXIoKSxvLnNwbGljZShoLDEpKX1pPXJ9fX19LGZ1bmN0aW9uKGUsdCxpKXsodD1pKDE1KSghMSkpLnB1c2goW2UuaSxcImJvZHl7Zm9udC1mYW1pbHk6J1JvYm90byc7Y29sb3I6b3JhbmdlO2JhY2tncm91bmQ6IzMzMzttYXJnaW46MDtwYWRkaW5nOjB9Y2FudmFze2N1cnNvcjpjcm9zc2hhaXJ9LmdhbWVCYWNrZ3JvdW5ke2JhY2tncm91bmQ6IzAwMH0uZ2FtZS1maWVsZHN7cG9zaXRpb246YWJzb2x1dGV9LmdhbWUtZmllbGQtd3JhcHBlcntkaXNwbGF5OmZsZXg7anVzdGlmeS1jb250ZW50OmNlbnRlcjtoZWlnaHQ6MTAwdmg7YWxpZ24taXRlbXM6Y2VudGVyfVxcblwiLFwiXCJdKSxlLmV4cG9ydHM9dH0sZnVuY3Rpb24oZSx0LGkpe1widXNlIHN0cmljdFwiO2UuZXhwb3J0cz1mdW5jdGlvbihlKXt2YXIgdD1bXTtyZXR1cm4gdC50b1N0cmluZz1mdW5jdGlvbigpe3JldHVybiB0aGlzLm1hcCgoZnVuY3Rpb24odCl7dmFyIGk9ZnVuY3Rpb24oZSx0KXt2YXIgaT1lWzFdfHxcIlwiLGE9ZVszXTtpZighYSlyZXR1cm4gaTtpZih0JiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBidG9hKXt2YXIgbj0obz1hLHM9YnRvYSh1bmVzY2FwZShlbmNvZGVVUklDb21wb25lbnQoSlNPTi5zdHJpbmdpZnkobykpKSksbD1cInNvdXJjZU1hcHBpbmdVUkw9ZGF0YTphcHBsaWNhdGlvbi9qc29uO2NoYXJzZXQ9dXRmLTg7YmFzZTY0LFwiLmNvbmNhdChzKSxcIi8qIyBcIi5jb25jYXQobCxcIiAqL1wiKSkscj1hLnNvdXJjZXMubWFwKChmdW5jdGlvbihlKXtyZXR1cm5cIi8qIyBzb3VyY2VVUkw9XCIuY29uY2F0KGEuc291cmNlUm9vdHx8XCJcIikuY29uY2F0KGUsXCIgKi9cIil9KSk7cmV0dXJuW2ldLmNvbmNhdChyKS5jb25jYXQoW25dKS5qb2luKFwiXFxuXCIpfXZhciBvLHMsbDtyZXR1cm5baV0uam9pbihcIlxcblwiKX0odCxlKTtyZXR1cm4gdFsyXT9cIkBtZWRpYSBcIi5jb25jYXQodFsyXSxcIiB7XCIpLmNvbmNhdChpLFwifVwiKTppfSkpLmpvaW4oXCJcIil9LHQuaT1mdW5jdGlvbihlLGksYSl7XCJzdHJpbmdcIj09dHlwZW9mIGUmJihlPVtbbnVsbCxlLFwiXCJdXSk7dmFyIG49e307aWYoYSlmb3IodmFyIHI9MDtyPHRoaXMubGVuZ3RoO3IrKyl7dmFyIG89dGhpc1tyXVswXTtudWxsIT1vJiYobltvXT0hMCl9Zm9yKHZhciBzPTA7czxlLmxlbmd0aDtzKyspe3ZhciBsPVtdLmNvbmNhdChlW3NdKTthJiZuW2xbMF1dfHwoaSYmKGxbMl0/bFsyXT1cIlwiLmNvbmNhdChpLFwiIGFuZCBcIikuY29uY2F0KGxbMl0pOmxbMl09aSksdC5wdXNoKGwpKX19LHR9fSxmdW5jdGlvbihlLHQsaSl7KGZ1bmN0aW9uKGUpe2Z1bmN0aW9uIGkoZSx0KXtmb3IodmFyIGk9MCxhPWUubGVuZ3RoLTE7YT49MDthLS0pe3ZhciBuPWVbYV07XCIuXCI9PT1uP2Uuc3BsaWNlKGEsMSk6XCIuLlwiPT09bj8oZS5zcGxpY2UoYSwxKSxpKyspOmkmJihlLnNwbGljZShhLDEpLGktLSl9aWYodClmb3IoO2ktLTtpKWUudW5zaGlmdChcIi4uXCIpO3JldHVybiBlfWZ1bmN0aW9uIGEoZSx0KXtpZihlLmZpbHRlcilyZXR1cm4gZS5maWx0ZXIodCk7Zm9yKHZhciBpPVtdLGE9MDthPGUubGVuZ3RoO2ErKyl0KGVbYV0sYSxlKSYmaS5wdXNoKGVbYV0pO3JldHVybiBpfXQucmVzb2x2ZT1mdW5jdGlvbigpe2Zvcih2YXIgdD1cIlwiLG49ITEscj1hcmd1bWVudHMubGVuZ3RoLTE7cj49LTEmJiFuO3ItLSl7dmFyIG89cj49MD9hcmd1bWVudHNbcl06ZS5jd2QoKTtpZihcInN0cmluZ1wiIT10eXBlb2Ygbyl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQXJndW1lbnRzIHRvIHBhdGgucmVzb2x2ZSBtdXN0IGJlIHN0cmluZ3NcIik7byYmKHQ9bytcIi9cIit0LG49XCIvXCI9PT1vLmNoYXJBdCgwKSl9cmV0dXJuKG4/XCIvXCI6XCJcIikrKHQ9aShhKHQuc3BsaXQoXCIvXCIpLChmdW5jdGlvbihlKXtyZXR1cm4hIWV9KSksIW4pLmpvaW4oXCIvXCIpKXx8XCIuXCJ9LHQubm9ybWFsaXplPWZ1bmN0aW9uKGUpe3ZhciByPXQuaXNBYnNvbHV0ZShlKSxvPVwiL1wiPT09bihlLC0xKTtyZXR1cm4oZT1pKGEoZS5zcGxpdChcIi9cIiksKGZ1bmN0aW9uKGUpe3JldHVybiEhZX0pKSwhcikuam9pbihcIi9cIikpfHxyfHwoZT1cIi5cIiksZSYmbyYmKGUrPVwiL1wiKSwocj9cIi9cIjpcIlwiKStlfSx0LmlzQWJzb2x1dGU9ZnVuY3Rpb24oZSl7cmV0dXJuXCIvXCI9PT1lLmNoYXJBdCgwKX0sdC5qb2luPWZ1bmN0aW9uKCl7dmFyIGU9QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLDApO3JldHVybiB0Lm5vcm1hbGl6ZShhKGUsKGZ1bmN0aW9uKGUsdCl7aWYoXCJzdHJpbmdcIiE9dHlwZW9mIGUpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkFyZ3VtZW50cyB0byBwYXRoLmpvaW4gbXVzdCBiZSBzdHJpbmdzXCIpO3JldHVybiBlfSkpLmpvaW4oXCIvXCIpKX0sdC5yZWxhdGl2ZT1mdW5jdGlvbihlLGkpe2Z1bmN0aW9uIGEoZSl7Zm9yKHZhciB0PTA7dDxlLmxlbmd0aCYmXCJcIj09PWVbdF07dCsrKTtmb3IodmFyIGk9ZS5sZW5ndGgtMTtpPj0wJiZcIlwiPT09ZVtpXTtpLS0pO3JldHVybiB0Pmk/W106ZS5zbGljZSh0LGktdCsxKX1lPXQucmVzb2x2ZShlKS5zdWJzdHIoMSksaT10LnJlc29sdmUoaSkuc3Vic3RyKDEpO2Zvcih2YXIgbj1hKGUuc3BsaXQoXCIvXCIpKSxyPWEoaS5zcGxpdChcIi9cIikpLG89TWF0aC5taW4obi5sZW5ndGgsci5sZW5ndGgpLHM9byxsPTA7bDxvO2wrKylpZihuW2xdIT09cltsXSl7cz1sO2JyZWFrfXZhciBjPVtdO2ZvcihsPXM7bDxuLmxlbmd0aDtsKyspYy5wdXNoKFwiLi5cIik7cmV0dXJuKGM9Yy5jb25jYXQoci5zbGljZShzKSkpLmpvaW4oXCIvXCIpfSx0LnNlcD1cIi9cIix0LmRlbGltaXRlcj1cIjpcIix0LmRpcm5hbWU9ZnVuY3Rpb24oZSl7aWYoXCJzdHJpbmdcIiE9dHlwZW9mIGUmJihlKz1cIlwiKSwwPT09ZS5sZW5ndGgpcmV0dXJuXCIuXCI7Zm9yKHZhciB0PWUuY2hhckNvZGVBdCgwKSxpPTQ3PT09dCxhPS0xLG49ITAscj1lLmxlbmd0aC0xO3I+PTE7LS1yKWlmKDQ3PT09KHQ9ZS5jaGFyQ29kZUF0KHIpKSl7aWYoIW4pe2E9cjticmVha319ZWxzZSBuPSExO3JldHVybi0xPT09YT9pP1wiL1wiOlwiLlwiOmkmJjE9PT1hP1wiL1wiOmUuc2xpY2UoMCxhKX0sdC5iYXNlbmFtZT1mdW5jdGlvbihlLHQpe3ZhciBpPWZ1bmN0aW9uKGUpe1wic3RyaW5nXCIhPXR5cGVvZiBlJiYoZSs9XCJcIik7dmFyIHQsaT0wLGE9LTEsbj0hMDtmb3IodD1lLmxlbmd0aC0xO3Q+PTA7LS10KWlmKDQ3PT09ZS5jaGFyQ29kZUF0KHQpKXtpZighbil7aT10KzE7YnJlYWt9fWVsc2UtMT09PWEmJihuPSExLGE9dCsxKTtyZXR1cm4tMT09PWE/XCJcIjplLnNsaWNlKGksYSl9KGUpO3JldHVybiB0JiZpLnN1YnN0cigtMSp0Lmxlbmd0aCk9PT10JiYoaT1pLnN1YnN0cigwLGkubGVuZ3RoLXQubGVuZ3RoKSksaX0sdC5leHRuYW1lPWZ1bmN0aW9uKGUpe1wic3RyaW5nXCIhPXR5cGVvZiBlJiYoZSs9XCJcIik7Zm9yKHZhciB0PS0xLGk9MCxhPS0xLG49ITAscj0wLG89ZS5sZW5ndGgtMTtvPj0wOy0tbyl7dmFyIHM9ZS5jaGFyQ29kZUF0KG8pO2lmKDQ3IT09cyktMT09PWEmJihuPSExLGE9bysxKSw0Nj09PXM/LTE9PT10P3Q9bzoxIT09ciYmKHI9MSk6LTEhPT10JiYocj0tMSk7ZWxzZSBpZighbil7aT1vKzE7YnJlYWt9fXJldHVybi0xPT09dHx8LTE9PT1hfHwwPT09cnx8MT09PXImJnQ9PT1hLTEmJnQ9PT1pKzE/XCJcIjplLnNsaWNlKHQsYSl9O3ZhciBuPVwiYlwiPT09XCJhYlwiLnN1YnN0cigtMSk/ZnVuY3Rpb24oZSx0LGkpe3JldHVybiBlLnN1YnN0cih0LGkpfTpmdW5jdGlvbihlLHQsaSl7cmV0dXJuIHQ8MCYmKHQ9ZS5sZW5ndGgrdCksZS5zdWJzdHIodCxpKX19KS5jYWxsKHRoaXMsaSgxNykpfSxmdW5jdGlvbihlLHQpe3ZhciBpLGEsbj1lLmV4cG9ydHM9e307ZnVuY3Rpb24gcigpe3Rocm93IG5ldyBFcnJvcihcInNldFRpbWVvdXQgaGFzIG5vdCBiZWVuIGRlZmluZWRcIil9ZnVuY3Rpb24gbygpe3Rocm93IG5ldyBFcnJvcihcImNsZWFyVGltZW91dCBoYXMgbm90IGJlZW4gZGVmaW5lZFwiKX1mdW5jdGlvbiBzKGUpe2lmKGk9PT1zZXRUaW1lb3V0KXJldHVybiBzZXRUaW1lb3V0KGUsMCk7aWYoKGk9PT1yfHwhaSkmJnNldFRpbWVvdXQpcmV0dXJuIGk9c2V0VGltZW91dCxzZXRUaW1lb3V0KGUsMCk7dHJ5e3JldHVybiBpKGUsMCl9Y2F0Y2godCl7dHJ5e3JldHVybiBpLmNhbGwobnVsbCxlLDApfWNhdGNoKHQpe3JldHVybiBpLmNhbGwodGhpcyxlLDApfX19IWZ1bmN0aW9uKCl7dHJ5e2k9XCJmdW5jdGlvblwiPT10eXBlb2Ygc2V0VGltZW91dD9zZXRUaW1lb3V0OnJ9Y2F0Y2goZSl7aT1yfXRyeXthPVwiZnVuY3Rpb25cIj09dHlwZW9mIGNsZWFyVGltZW91dD9jbGVhclRpbWVvdXQ6b31jYXRjaChlKXthPW99fSgpO3ZhciBsLGM9W10saD0hMSx1PS0xO2Z1bmN0aW9uIG0oKXtoJiZsJiYoaD0hMSxsLmxlbmd0aD9jPWwuY29uY2F0KGMpOnU9LTEsYy5sZW5ndGgmJmQoKSl9ZnVuY3Rpb24gZCgpe2lmKCFoKXt2YXIgZT1zKG0pO2g9ITA7Zm9yKHZhciB0PWMubGVuZ3RoO3Q7KXtmb3IobD1jLGM9W107Kyt1PHQ7KWwmJmxbdV0ucnVuKCk7dT0tMSx0PWMubGVuZ3RofWw9bnVsbCxoPSExLGZ1bmN0aW9uKGUpe2lmKGE9PT1jbGVhclRpbWVvdXQpcmV0dXJuIGNsZWFyVGltZW91dChlKTtpZigoYT09PW98fCFhKSYmY2xlYXJUaW1lb3V0KXJldHVybiBhPWNsZWFyVGltZW91dCxjbGVhclRpbWVvdXQoZSk7dHJ5e2EoZSl9Y2F0Y2godCl7dHJ5e3JldHVybiBhLmNhbGwobnVsbCxlKX1jYXRjaCh0KXtyZXR1cm4gYS5jYWxsKHRoaXMsZSl9fX0oZSl9fWZ1bmN0aW9uIGcoZSx0KXt0aGlzLmZ1bj1lLHRoaXMuYXJyYXk9dH1mdW5jdGlvbiBwKCl7fW4ubmV4dFRpY2s9ZnVuY3Rpb24oZSl7dmFyIHQ9bmV3IEFycmF5KGFyZ3VtZW50cy5sZW5ndGgtMSk7aWYoYXJndW1lbnRzLmxlbmd0aD4xKWZvcih2YXIgaT0xO2k8YXJndW1lbnRzLmxlbmd0aDtpKyspdFtpLTFdPWFyZ3VtZW50c1tpXTtjLnB1c2gobmV3IGcoZSx0KSksMSE9PWMubGVuZ3RofHxofHxzKGQpfSxnLnByb3RvdHlwZS5ydW49ZnVuY3Rpb24oKXt0aGlzLmZ1bi5hcHBseShudWxsLHRoaXMuYXJyYXkpfSxuLnRpdGxlPVwiYnJvd3NlclwiLG4uYnJvd3Nlcj0hMCxuLmVudj17fSxuLmFyZ3Y9W10sbi52ZXJzaW9uPVwiXCIsbi52ZXJzaW9ucz17fSxuLm9uPXAsbi5hZGRMaXN0ZW5lcj1wLG4ub25jZT1wLG4ub2ZmPXAsbi5yZW1vdmVMaXN0ZW5lcj1wLG4ucmVtb3ZlQWxsTGlzdGVuZXJzPXAsbi5lbWl0PXAsbi5wcmVwZW5kTGlzdGVuZXI9cCxuLnByZXBlbmRPbmNlTGlzdGVuZXI9cCxuLmxpc3RlbmVycz1mdW5jdGlvbihlKXtyZXR1cm5bXX0sbi5iaW5kaW5nPWZ1bmN0aW9uKGUpe3Rocm93IG5ldyBFcnJvcihcInByb2Nlc3MuYmluZGluZyBpcyBub3Qgc3VwcG9ydGVkXCIpfSxuLmN3ZD1mdW5jdGlvbigpe3JldHVyblwiL1wifSxuLmNoZGlyPWZ1bmN0aW9uKGUpe3Rocm93IG5ldyBFcnJvcihcInByb2Nlc3MuY2hkaXIgaXMgbm90IHN1cHBvcnRlZFwiKX0sbi51bWFzaz1mdW5jdGlvbigpe3JldHVybiAwfX0sZnVuY3Rpb24oZSx0LGkpe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIGEoZSl7Zm9yKHZhciBpIGluIGUpdC5oYXNPd25Qcm9wZXJ0eShpKXx8KHRbaV09ZVtpXSl9T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksYShpKDUpKSxhKGkoNykpfSxmdW5jdGlvbihlLHQsaSl7XCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksdC5nZXREYXRhPWZ1bmN0aW9uKGUpe3ZhciB0PWUudXJsLGk9ZS5tZXRob2QsYT1lLmRhdGEsbj1lLmhlYWRlcnMscj1PYmplY3QuYXNzaWduKHtcIkNvbnRlbnQtVHlwZVwiOlwiYXBwbGljYXRpb24vanNvblwifSxufHwhMSk7cmV0dXJuIGZldGNoKHQse21ldGhvZDppLG1vZGU6XCJjb3JzXCIsaGVhZGVyczpyLGJvZHk6YT9KU09OLnN0cmluZ2lmeShhKTpudWxsfSkudGhlbigoZnVuY3Rpb24oZSl7cmV0dXJuIGUuanNvbigpfSkpLnRoZW4oKGZ1bmN0aW9uKGUpe3JldHVybiBlfSkpfX0sZnVuY3Rpb24oZSx0LGkpe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciBhPWkoMjEpLG49aSgxKSxyPWkoNyksbz1pKDIpLHM9aSgxMCksbD1pKDI3KSxjPWkoNSksaD1pKDkpLHU9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUpe3RoaXMuZ2FtZUluaXREYXRhPWV9cmV0dXJuIGUucHJvdG90eXBlLmNoYW5nZUxldmVsPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLmdhbWVJbml0RGF0YS5nYW1lRGF0YS5jdXJyZW50TGV2ZWw9ZSx0aGlzLmdhbWVJbml0RGF0YS5nYW1lRGF0YS5jdXJyZW50TGV2ZWx9LGUucHJvdG90eXBlLnNob3dHYW1lSW5mbz1mdW5jdGlvbigpe3JldHVybntsZXZlbFRvQ2hhbmdlOnRoaXMuZ2FtZUluaXREYXRhLmdhbWVEYXRhLmN1cnJlbnRMZXZlbCxjdXJyZW50UG9pbnQ6dGhpcy5nYW1lSW5pdERhdGEuZ2FtZURhdGEuY3VycmVudFBvaW50LGdhbWVEYXRhOnRoaXMuZ2FtZUluaXREYXRhLmdhbWVEYXRhLGltYWdlRGlycmVjdGlvbjpfX2Rpcm5hbWUrXCIvcHVibGljL2ltYWdlcy9cIn19LGUucHJvdG90eXBlLnNob3dMZXZlbERhdGE9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nYW1lSW5pdERhdGEuZ2FtZURhdGEubGV2ZWxEYXRhfSxlLnByb3RvdHlwZS5yZXR1cm5Db250ZXh0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2FtZUluaXREYXRhLmdhbWVGaWVsZCYmdGhpcy5nYW1lSW5pdERhdGEuZ2FtZUFjdGlvbkZpZWxkJiZ0aGlzLmdhbWVJbml0RGF0YS5nYW1lVUlGaWVsZD97Z2FtZUZpZWxkOnRoaXMuZ2FtZUluaXREYXRhLmdhbWVGaWVsZCxnYW1lQWN0aW9uRmllbGQ6dGhpcy5nYW1lSW5pdERhdGEuY3R4QWN0aW9uRmllbGQsZ2FtZVVJRmllbGQ6dGhpcy5nYW1lSW5pdERhdGEuZ2FtZVVJRmllbGR9Om51bGx9LGV9KCk7dC5HYW1lPXUsdS5wcm90b3R5cGUuY3JlYXRlQ29udGV4dD1vLmNyZWF0ZUNvbnRleHQsdS5wcm90b3R5cGUuaW5pdEZpZWxkPW8uaW5pdEZpZWxkLHUucHJvdG90eXBlLmxldmVsSW5pdD1vLmxldmVsSW5pdCx1LnByb3RvdHlwZS5zZXRHYW1lRmllbGRzPW8uc2V0R2FtZUZpZWxkcyx1LnByb3RvdHlwZS53YXJwRWZmZWN0PW8ud2FycEVmZmVjdCx1LnByb3RvdHlwZS5nZXRTY3JlZW5TaXplPW8uZ2V0U2NyZWVuU2l6ZSx1LnByb3RvdHlwZS5nZXRMZXZlbFVzZXJEYXRhPW8uZ2V0TGV2ZWxVc2VyRGF0YSx1LnByb3RvdHlwZS5sZXZlbFRpbWVyPW8ubGV2ZWxUaW1lcix1LnByb3RvdHlwZS5nZXRTZWNvbmRNZWFzdXJlPW8uZ2V0U2Vjb25kTWVhc3VyZSx1LnByb3RvdHlwZS5nYW1lU2Vjb25kc0luY3JlYXNlPW8uZ2FtZVNlY29uZHNJbmNyZWFzZSx1LnByb3RvdHlwZS5pbml0UGxheWVyU2hpcD1zLmluaXRQbGF5ZXJTaGlwLHUucHJvdG90eXBlLmRlbGV0ZUJ1bGxldD1vLmRlbGV0ZUJ1bGxldCx1LnByb3RvdHlwZS5kZWxldGVPYmplY3RzPW8uZGVsZXRlT2JqZWN0cyx1LnByb3RvdHlwZS5kZWxhdGVTaWRlT2JqZWN0PW8uZGVsYXRlU2lkZU9iamVjdCx1LnByb3RvdHlwZS5oaXREZXRlY3Rpb249bi5oaXREZXRlY3Rpb24sdS5wcm90b3R5cGUuY29sbGVjdFBvaW50cz1vLmNvbGxlY3RQb2ludHMsdS5wcm90b3R5cGUuc3Bhd25FbmVteUxvZ2ljPWEuc3Bhd25FbmVteUxvZ2ljLHUucHJvdG90eXBlLmNyZWF0ZU5ld0VuZW15PWEuY3JlYXRlTmV3RW5lbXksdS5wcm90b3R5cGUuZ2FtZVJhbmRvbWl6ZXI9YS5nYW1lUmFuZG9taXplcix1LnByb3RvdHlwZS51aUNvbnRyb2xsZXI9bC51aUNvbnRyb2xsZXIsdS5wcm90b3R5cGUuZ2FtZVVpUGF1c2U9bC5nYW1lVWlQYXVzZSx1LnByb3RvdHlwZS5nYW1lVWlNZW51PWwuZ2FtZVVpTWVudSx1LnByb3RvdHlwZS5zaG93TWVudVdpbmRvdz1sLnNob3dNZW51V2luZG93LHUucHJvdG90eXBlLnNob3dVaVBvcHVwV2luZG93PWwuc2hvd1VpUG9wdXBXaW5kb3csdS5wcm90b3R5cGUuc2hvd1N0YXJ0V2luZG93PWwuc2hvd1N0YXJ0V2luZG93LHUucHJvdG90eXBlLnNob3dQYXVzZVdpbmRvdz1sLnNob3dQYXVzZVdpbmRvdyx1LnByb3RvdHlwZS5nYW1lT3ZlcldpbmRvdz1sLmdhbWVPdmVyV2luZG93LHUucHJvdG90eXBlLnNob3dHYW1lU3RhdHM9bC5zaG93R2FtZVN0YXRzLHUucHJvdG90eXBlLmluaXRVaUVsZW1lbnRzPWwuaW5pdFVpRWxlbWVudHMsdS5wcm90b3R5cGUuZ2FtZVN0YXJ0PWMuZ2FtZVN0YXJ0LHUucHJvdG90eXBlLmJhY2tUb1N0YXJ0U2NyZWVuPWMuYmFja1RvU3RhcnRTY3JlZW4sdS5wcm90b3R5cGUubmV4dExldmVsRGF0YVJlbG9hZD1yLm5leHRMZXZlbERhdGFSZWxvYWQsdS5wcm90b3R5cGUuY2hhbmdlTGV2ZWxQcm9jZWR1cmU9by5jaGFuZ2VMZXZlbFByb2NlZHVyZSx1LnByb3RvdHlwZS5nZXRSYW5kb21Db2xvcj1vLmdldFJhbmRvbUNvbG9yLHUucHJvdG90eXBlLm1hcFJhbm9tT2JqZWN0U3Bhd249aC5tYXBSYW5vbU9iamVjdFNwYXdufSxmdW5jdGlvbihlLHQsaSl7XCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksdC5lbmVteVNoaXBMb2dpY1ZlcnRpY2FsPWZ1bmN0aW9uKGUsdCl7dmFyIGk9TWF0aC5tYXgoZS54LHRoaXMueCksYT1NYXRoLm1pbihlLngsdGhpcy54KSxuPU1hdGgubWF4KGUueS10aGlzLmhlaWdodC8yLHRoaXMueSkscj1NYXRoLm1pbihlLnktdGhpcy5oZWlnaHQvMix0aGlzLnkpLG89aS1hLHM9bi1yO2lmKHRoaXMuaXNNb3ZlJiZ0aGlzLmJlaGF2aW9yKXN3aXRjaCh0aGlzLmJlaGF2aW9yKXtjYXNlXCJwYXRyb29sXCI6aWYoIXRoaXMuZGlyZWN0aW9uKXt2YXIgbD10LmdhbWVSYW5kb21pemVyKDIsMSk7dGhpcy5kaXJlY3Rpb249MT09bD9cInVwXCI6XCJkb3duXCJ9KGZ1bmN0aW9uKGUpe3ZhciB0PWUuZ2V0U2NyZWVuU2l6ZSgpLGk9TWF0aC5tYXgodGhpcy55LHRoaXMueUZpbmFsKS1NYXRoLm1pbih0aGlzLnksdGhpcy55RmluYWwpO3N3aXRjaCh0aGlzLmRpcmVjdGlvbil7Y2FzZVwidXBcIjp0aGlzLnlGaW5hbD0wLHRoaXMueS10aGlzLmhlaWdodDx0aGlzLnlGaW5hbCYmKHRoaXMuZGlyZWN0aW9uPVwiZG93blwiKTticmVhaztjYXNlXCJkb3duXCI6dGhpcy55RmluYWw9dC5oZWlnaHQsdGhpcy55K3RoaXMuaGVpZ2h0PnRoaXMueUZpbmFsJiYodGhpcy5kaXJlY3Rpb249XCJ1cFwiKTticmVhaztkZWZhdWx0OnRoaXMueUZpbmFsPXQuaGVpZ2h0LzJ9dGhpcy5lbmVteVZlcnRpY2FsTW92ZUNhbGN1bGF0aW9uKGkpfSkuY2FsbCh0aGlzLHQpO2JyZWFrO2Nhc2VcImZpbmRcIjpjLmNhbGwodGhpcyk7YnJlYWs7Y2FzZVwiYXR0YWNrXCI6KGZ1bmN0aW9uKGUsdCxpKXt0aGlzLnlGaW5hbD1pLnktdGhpcy5oZWlnaHQvMix0PDEwMCYmdGhpcy5lbmVteVZlcnRpY2FsTW92ZUNhbGN1bGF0aW9uKGUpfSkuY2FsbCh0aGlzLHMsbyxlKTticmVhaztjYXNlXCJjb21lRW5kRmluZFwiOmMuY2FsbCh0aGlzKSxmdW5jdGlvbigpe3ZhciBlPXQuZ2V0U2NyZWVuU2l6ZSgpO3RoaXMueDxlLndpZHRoLTIqdGhpcy53aWR0aCYmKHRoaXMuc3BlZWQ9MCl9LmNhbGwodGhpcyk7YnJlYWs7ZGVmYXVsdDpjLmNhbGwodGhpcyl9ZnVuY3Rpb24gYygpe2lmKHRoaXMuc3BvdERpc3RhbmNlPm98fHRoaXMuc3BvdERpc3RhbmNlPnMpcmV0dXJuIHRoaXMueUZpbmFsPWUueS10aGlzLmhlaWdodC8yLHRoaXMuZW5lbXlWZXJ0aWNhbE1vdmVDYWxjdWxhdGlvbihzKSwhMH19LHQuZW5lbXlWZXJ0aWNhbE1vdmVDYWxjdWxhdGlvbj1mdW5jdGlvbihlKXt2YXIgdD1lL3RoaXMudmVydGljYWxTcGVlZDt0PSh0PU1hdGguc2lnbih0KT4wP3Q6LTEqdCk+dGhpcy52ZXJ0aWNhbFNwZWVkP3RoaXMudmVydGljYWxTcGVlZDp0LHRoaXMueT10aGlzLnk+dGhpcy55RmluYWw/dGhpcy55LXQ6dGhpcy55PHRoaXMueUZpbmFsP3RoaXMueSt0OnRoaXMueUZpbmFsfSx0LnNwYXduRW5lbXlMb2dpYz1mdW5jdGlvbihlKXt2YXIgdD10aGlzLmdhbWVJbml0RGF0YS5nYW1lRGF0YSxpPXQubGV2ZWxEYXRhLGE9dC5lbmVteURhdGEsbj10aGlzLmdldExldmVsVXNlckRhdGEoKSxyPW4uc291cnNlLmxldmVsRGF0YS5ib3NQcmVzZW50cz9uLnNvdXJzZS5sZXZlbERhdGEuYm9zUHJlc2VudHM6bnVsbDtpZih0aGlzLmdhbWVJbml0RGF0YS5nYW1lRGF0YS5sZXZlbENoYW5nZXx8cil7aWYoMD09dGhpcy5nYW1lSW5pdERhdGEuYWxsR2FtZUVuZW1pZXMubGVuZ3RoKXt2YXIgbz10aGlzLmNyZWF0ZU5ld0VuZW15KGFbMF0sZSk7by5sb2FkRW5lbXllcygpLHRoaXMuZ2FtZUluaXREYXRhLmFsbEdhbWVFbmVtaWVzPXRoaXMuZ2FtZUluaXREYXRhLmFsbEdhbWVFbmVtaWVzLmNvbmNhdChvKX19ZWxzZShmdW5jdGlvbigpe2lmKHRoaXMuZ2FtZVJhbmRvbWl6ZXIoaS5lbmVteVByb2JhYmlsaXR5KTw9aS5lbmVteVJhbmRvbWl6ZXJJbmRleClmb3IodmFyIHQ9dGhpcy5nYW1lUmFuZG9taXplcihpLmVuZW15TWF4TnVtYmVyKTt0PGkuZW5lbXlNYXhOdW1iZXI7dCsrKXt2YXIgbj1hW3RoaXMuZ2FtZVJhbmRvbWl6ZXIoYS5sZW5ndGgpXSxyPXRoaXMuY3JlYXRlTmV3RW5lbXkobixlKTtyLmxvYWRFbmVteWVzKCksdGhpcy5nYW1lSW5pdERhdGEuYWxsR2FtZUVuZW1pZXM9dGhpcy5nYW1lSW5pdERhdGEuYWxsR2FtZUVuZW1pZXMuY29uY2F0KHIpfX0pLmNhbGwodGhpcyl9LHQuY3JlYXRlTmV3RW5lbXk9ZnVuY3Rpb24oZSx0KXt2YXIgaT10aGlzLmdhbWVJbml0RGF0YS5zY3JlZW4ud2lkdGgrMzAwLGE9dGhpcy5nYW1lUmFuZG9taXplcih0aGlzLmdhbWVJbml0RGF0YS5zY3JlZW4uaGVpZ2h0LTIwMCwxMDApO2lmKGUuZGV0YWlscyl7dmFyIG49ZS5kZXRhaWxzLHI9bi5iZWhhdmlvcj9uLmJlaGF2aW9yW3RoaXMuZ2FtZVJhbmRvbWl6ZXIobi5iZWhhdmlvci5sZW5ndGgpXTpudWxsO3JldHVybiBuZXcgdCh7eDppLHk6YSxzeDpuLnN4LHN5Om4uc3ksc1dpZHRoOm4uaW1hZ2VXaWR0aC9uLm51bWJlck9mSXRlbXMsc0hlaWdodDpuLmltYWdlSGVpZ2h0LHBpY3R1cmVzV2lkdGg6bi5pbWFnZVdpZHRoLG51bWJlck9mSXRlbXM6bi5udW1iZXJPZkl0ZW1zLHdpZHRoOm4ud2lkdGgsaGVpZ2h0Om4uaGVpZ2h0LHNoaXBUZXh0dXJlOm4uc2tpbk5hbWUsc3BlZWQ6bi5zcGVlZCxzdGF0dXM6bi5zdGF0dXMsbmFtZTpuLm5hbWUsYnVsbGV0VHlwZU51bWJlcjpuLmJ1bGxldFR5cGUscmFwaWRGaXJlOm4ucmFwaWRGaXJlLHBvaW50c1BlclVuaXQ6bi5wb2ludHNQZXJVbml0LGhlYWx0aFBvaW50Om4uaGVhbHRoUG9pbnQsYW5pbWF0aW9uU3RlcHM6bi5hbmltYXRpb25TdGVwcyxkYW1hZ2U6bi5kYW1hZ2Usb2JqZWN0T3duZXI6bi5vYmplY3RPd25lcixndW5zOm4uZ3Vucz9uLmd1bnM6W10sZXhwbG9zaW9uOm4uZXhwbG9zaW9uQW5pbWF0aW9uLG51bWJlck9mVmVydGljYWxJdGVtczpuLm51bWJlck9mVmVydGljYWxJdGVtcyxpc01vdmU6bi5pc01vdmUsaXNTaG9vdDpuLmlzU2hvb3Qsc3BvdERpc3RhbmNlOm4uc3BvdERpc3RhbmNlLGJlaGF2aW9yOnIsdmVydGljYWxTcGVlZDpuLnZlcnRpY2FsU3BlZWQ/bi52ZXJ0aWNhbFNwZWVkOm51bGwsaXNCb3NzOiEhbi5pc0Jvc3MmJm4uaXNCb3NzfSl9fSx0LmdhbWVSYW5kb21pemVyPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHZvaWQgMD09PXQmJih0PTApLE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSplK3QpfX0sZnVuY3Rpb24oZSx0LGkpe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLHQuY3JlYXRlV2luZG93PWZ1bmN0aW9uKGUsdCl7dmFyIGk9dGhpcy5nZXRTY3JlZW5TaXplKCk7aS53aWR0aCxpLmhlaWdodCxlLmZpbGxSZWN0KHQueCx0LnksdC53aWR0aCx0LmhlaWdodCl9LHQuY3JlYXRlU2hhcGVSb3VuZEJvcmRlcj1mdW5jdGlvbihlKXt2YXIgdD1lLnByb3BlcnR5ZXM7dC5jdHguZmlsbFN0eWxlPXQuYmFja2dyb3VuZCx0LmN0eC5iZWdpblBhdGgoKSx0LmN0eC5tb3ZlVG8odC54K3QucmFkaXVzLHQueSksdC5jdHgubGluZVRvKHQueCt0LndpZHRoLXQucmFkaXVzLHQueSksdC5jdHgucXVhZHJhdGljQ3VydmVUbyh0LngrdC53aWR0aCx0LnksdC54K3Qud2lkdGgsdC55K3QucmFkaXVzKSx0LmN0eC5saW5lVG8odC54K3Qud2lkdGgsdC55K3QuaGVpZ2h0LXQucmFkaXVzKSx0LmN0eC5xdWFkcmF0aWNDdXJ2ZVRvKHQueCt0LndpZHRoLHQueSt0LmhlaWdodCx0LngrdC53aWR0aC10LnJhZGl1cyx0LnkrdC5oZWlnaHQpLHQuY3R4LmxpbmVUbyh0LngrdC5yYWRpdXMsdC55K3QuaGVpZ2h0KSx0LmN0eC5xdWFkcmF0aWNDdXJ2ZVRvKHQueCx0LnkrdC5oZWlnaHQsdC54LHQueSt0LmhlaWdodC10LnJhZGl1cyksdC5jdHgubGluZVRvKHQueCx0LnkrdC5yYWRpdXMpLHQuY3R4LnF1YWRyYXRpY0N1cnZlVG8odC54LHQueSx0LngrdC5yYWRpdXMsdC55KSx0LmN0eC5jbG9zZVBhdGgoKSx0LmN0eC5maWxsKCl9LHQuY3JlYXRlUm91bmRCdXR0b249ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5wcm9wZXJ0eWVzLGk9dC5jdHgubWVhc3VyZVRleHQoZS50ZXh0KS53aWR0aC8zLjIsYT10LnRleHRQcm9wZXJ0eS5sZWZ0UGFkZGluZytpK3QudGV4dFByb3BlcnR5LnJpZ2h0UGFkZGluZzt0LmN0eC5maWxsU3R5bGU9dC5iYWNrZ3JvdW5kLHQuY3R4LmJlZ2luUGF0aCgpLHQuY3R4Lm1vdmVUbyh0LngrdC5yYWRpdXMsdC55KSx0LmN0eC5saW5lVG8odC54K2EtdC5yYWRpdXMsdC55KSx0LmN0eC5xdWFkcmF0aWNDdXJ2ZVRvKHQueCthLHQueSx0LngrYSx0LnkrdC5yYWRpdXMpLHQuY3R4LmxpbmVUbyh0LngrYSx0LnkrdC5oZWlnaHQtdC5yYWRpdXMpLHQuY3R4LnF1YWRyYXRpY0N1cnZlVG8odC54K2EsdC55K3QuaGVpZ2h0LHQueCthLXQucmFkaXVzLHQueSt0LmhlaWdodCksdC5jdHgubGluZVRvKHQueCt0LnJhZGl1cyx0LnkrdC5oZWlnaHQpLHQuY3R4LnF1YWRyYXRpY0N1cnZlVG8odC54LHQueSt0LmhlaWdodCx0LngsdC55K3QuaGVpZ2h0LXQucmFkaXVzKSx0LmN0eC5saW5lVG8odC54LHQueSt0LnJhZGl1cyksdC5jdHgucXVhZHJhdGljQ3VydmVUbyh0LngsdC55LHQueCt0LnJhZGl1cyx0LnkpLHQuY3R4LmNsb3NlUGF0aCgpLHQuY3R4LmZpbGwoKSx0LmN0eC5mb250PWUuZm9udFNpemUsdC5jdHguZmlsbFN0eWxlPXQudGV4dFByb3BlcnR5LnRleHRDb2xvcix0LmN0eC5maWxsVGV4dChlLnRleHQsdC54K3QudGV4dFByb3BlcnR5LmxlZnRQYWRkaW5nLHQueSt0LmhlaWdodC8yK3QudGV4dFByb3BlcnR5LnRvcFBhZGRpbmcpfX0sZnVuY3Rpb24oZSx0LGkpe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLHQud2VhcG9uMT1mdW5jdGlvbihlLHQpe3QoZS5jdHgsXCJkcmF3SW1hZ2VcIixlLmltZyxlLnN4LGUuc3ksZS5zV2lkdGgsZS5zSGVpZ2h0LGUueCxlLnksZS53aWR0aCsxMCxlLmhlaWdodCsxMCl9LHQud2VhcG9uMWJhY2t3YXJkPWZ1bmN0aW9uKGUsdCl7dChlLmN0eCxcImRyYXdJbWFnZVwiLGUuaW1nLDAsMCxlLndpZHRoLGUuaGVpZ2h0LGUueCxlLnksZS53aWR0aCsxMCxlLmhlaWdodCsxMCl9fSxmdW5jdGlvbihlLHQsaSl7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gYShlKXtmb3IodmFyIGkgaW4gZSl0Lmhhc093blByb3BlcnR5KGkpfHwodFtpXT1lW2ldKX1PYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSxhKGkoMCkpLGEoaSg2KSksYShpKDI1KSl9LGZ1bmN0aW9uKGUsdCxpKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBhKGUpe2Zvcih2YXIgaSBpbiBlKXQuaGFzT3duUHJvcGVydHkoaSl8fCh0W2ldPWVbaV0pfU9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLGEoaSg2KSksYShpKDI2KSl9LGZ1bmN0aW9uKGUsdCxpKXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSx0LndhcnBFbGVtZW50PWZ1bmN0aW9uKCl7dmFyIGU9bnVsbC5jcmVhdGVMaW5lYXJHcmFkaWVudCgwLDAsMTcwLDApO2UuYWRkQ29sb3JTdG9wKFwiMFwiLFwibWFnZW50YVwiKSxlLmFkZENvbG9yU3RvcChcIjAuNVwiLFwiYmx1ZVwiKSxlLmFkZENvbG9yU3RvcChcIjEuMFwiLFwicmVkXCIpfX0sZnVuY3Rpb24oZSx0LGkpe1widXNlIHN0cmljdFwiO3ZhciBhPXRoaXMmJnRoaXMuX19zcHJlYWRBcnJheXN8fGZ1bmN0aW9uKCl7Zm9yKHZhciBlPTAsdD0wLGk9YXJndW1lbnRzLmxlbmd0aDt0PGk7dCsrKWUrPWFyZ3VtZW50c1t0XS5sZW5ndGg7dmFyIGE9QXJyYXkoZSksbj0wO2Zvcih0PTA7dDxpO3QrKylmb3IodmFyIHI9YXJndW1lbnRzW3RdLG89MCxzPXIubGVuZ3RoO288cztvKyssbisrKWFbbl09cltvXTtyZXR1cm4gYX07T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIG49aSgwKSxyPWkoMjgpLG89aSgyOSkscz1pKDMwKSxsPWkoMzEpLGM9aSgzOSksaD1pKDYpLHU9aSgxKTt0LmdhbWVVaVBhdXNlPWZ1bmN0aW9uKCl7IXRoaXMuZ2FtZUluaXREYXRhLmdhbWVVaVBhdXNlJiZ0aGlzLmdhbWVJbml0RGF0YS5nYW1lU3RhdHVzJiYodGhpcy5nYW1lSW5pdERhdGEuZ2FtZVBhdXNlPSF0aGlzLmdhbWVJbml0RGF0YS5nYW1lUGF1c2UpfSx0LmdhbWVVaU1lbnU9ZnVuY3Rpb24oZSl7dGhpcy5nYW1lSW5pdERhdGEuZ2FtZVVpUGF1c2U9IXRoaXMuZ2FtZUluaXREYXRhLmdhbWVVaVBhdXNlLHRoaXMuZ2FtZUluaXREYXRhLmdhbWVQYXVzZT0hZX0sdC51aUNvbnRyb2xsZXI9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLHQ9dGhpcy5nYW1lSW5pdERhdGEuZ2FtZURhdGEuZ2FtZVNldGluZ3Mua2V5Q29udHJvbHMsaT10aGlzO2RvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsKGZ1bmN0aW9uKGEpe3QuZXNjYXBlLnNvbWUoKGZ1bmN0aW9uKGUpe3JldHVybiBhLmtleUNvZGU9PWV9KSkmJmkuZ2FtZVVpTWVudShlLmdhbWVJbml0RGF0YS5nYW1lVWlQYXVzZSksdC5wYXVzZS5zb21lKChmdW5jdGlvbihlKXtyZXR1cm4gYS5rZXlDb2RlPT1lfSkpJiZpLmdhbWVVaVBhdXNlKCl9KSksZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsKGZ1bmN0aW9uKHQpe2lmKFwiQ0FOVkFTXCI9PT10LnRhcmdldC50YWdOYW1lKXt2YXIgaT10LmNsaWVudFgtdC50YXJnZXQub2Zmc2V0TGVmdCxhPXQuY2xpZW50WS10LnRhcmdldC5vZmZzZXRUb3Asbj1udWxsLHM9ZS5nYW1lSW5pdERhdGEuY3R4VUlGaWVsZCxsPWUuZ2V0U2NyZWVuU2l6ZSgpO2Zvcih2YXIgYyBpbiBlLmdhbWVJbml0RGF0YS5nYW1lU3RhdHVzfHwobj1yLmdhbWVMb2FkTWVudShudWxsLHMsbC53aWR0aCxsLmhlaWdodCxudWxsKSksZS5nYW1lSW5pdERhdGEuZ2FtZVVpUGF1c2UmJihuPW8uZ2FtZVNldHRpbmdzTWVudShudWxsLHMsbC53aWR0aCxsLmhlaWdodCkpLG4pe2lmKHUuaGl0RGV0ZWN0aW9uKG5bY10sW10uY29uY2F0KHt4OmkseTphLHdpZHRoOjEwLGhlaWdodDoxMCxuYW1lOlwiY3Vyc29yXCJ9KSxlKSYmbltjXS5hY3Rpb24pe25bY10uYWN0aW9uLmNhbGwoZSk7YnJlYWt9fX19KSl9LHQuc2hvd1VpUG9wdXBXaW5kb3c9ZnVuY3Rpb24oKXtuLmNyZWF0ZVdpbmRvdy5jYWxsKHRoaXMpfSx0LnNob3dTdGFydFdpbmRvdz1mdW5jdGlvbigpe3ZhciBlPVtuLmNyZWF0ZVJvdW5kQnV0dG9uLGgudWlJbWFnZSxoLnVpVGV4dCxoLnVpVGV4dF07dGhpcy5pbml0VWlFbGVtZW50cyhlLHIuZ2FtZUxvYWRNZW51KX0sdC5zaG93TWVudVdpbmRvdz1mdW5jdGlvbigpe3ZhciBlPVtuLmNyZWF0ZVNoYXBlUm91bmRCb3JkZXIsbi5jcmVhdGVSb3VuZEJ1dHRvbixoLnVpVGV4dF07dGhpcy5pbml0VWlFbGVtZW50cyhlLG8uZ2FtZVNldHRpbmdzTWVudSl9LHQuc2hvd1BhdXNlV2luZG93PWZ1bmN0aW9uKCl7dmFyIGU9W2gudWlUZXh0XTt0aGlzLmluaXRVaUVsZW1lbnRzKGUscy5nYW1lUGF1c2UpfSx0LnNob3dHYW1lU3RhdHM9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmdldExldmVsVXNlckRhdGEoKSx0PVtoLnVpSW1hZ2UsaC51aVRleHQsaC51aVRleHQsaC51aVRleHRdO3RoaXMuaW5pdFVpRWxlbWVudHModCxsLmdhbWVJbmZvcm1hdGlvblNjcmVlbixlKX0sdC5nYW1lT3ZlcldpbmRvdz1mdW5jdGlvbigpe3ZhciBlPVtoLnVpVGV4dCxoLnVpVGV4dCxoLnVpVGV4dF07dGhpcy5pbml0VWlFbGVtZW50cyhlLGMuZ2FtZU92ZXJTY3JlZW4pfSx0LmluaXRVaUVsZW1lbnRzPWZ1bmN0aW9uKGUsdCl7Zm9yKHZhciBpPVtdLG49MjtuPGFyZ3VtZW50cy5sZW5ndGg7bisrKWlbbi0yXT1hcmd1bWVudHNbbl07Zm9yKHZhciByPXRoaXMuZ2FtZUluaXREYXRhLmN0eFVJRmllbGQsbz10aGlzLmdldFNjcmVlblNpemUoKSxzPXRoaXMuc2hvd0dhbWVJbmZvKCkuaW1hZ2VEaXJyZWN0aW9uLGw9dC5hcHBseSh2b2lkIDAsYShbbnVsbCxyLG8ud2lkdGgsby5oZWlnaHQsc10saSkpLGM9MDtjPGwubGVuZ3RoO2MrKylsW2NdLmhhc093blByb3BlcnR5KFwibG9hZFBpY3R1cmVcIikmJmxbY10ubG9hZFBpY3R1cmUoKSxsW2NdLmluaXQoZVtjXSl9fSxmdW5jdGlvbihlLHQsaSl7XCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIGE9aSg0KTt0LmdhbWVMb2FkTWVudT1mdW5jdGlvbihlLHQsaSxuLHIpe3JldHVybiBlfHxbe25hbWU6XCJTdGFydCBidXR0b25cIix0ZXh0OlwiUHJlc3MgU3RhcnQgdG8gYmVnaW5cIixkZXNjcmlwdGlvbjpcIk1haW4gc3RhcnQgZ2FtZSBidXR0b24gaW4gdGhlIG1haW4gbG9hZCBzY3JlZW5cIixmb250U2l6ZTpcIjMwcHggQXJpYWxcIixjbGlja2VkOiExLHByb3BlcnR5ZXM6e2N0eDp0LHdpZHRoOjQwMCxoZWlnaHQ6OTAseDppLzItMTY1LHk6bi8yKzE1MCxiYWNrZ3JvdW5kOlwicmdiYSgyNTUsIDI1NSwgMjU1LCAxKVwiLGJvcmRlckNvbG9yOlwicmdiYSgyNTUsIDI1NSwgMjU1LCAxKVwiLHRleHRQcm9wZXJ0eTp7dGV4dENvbG9yOlwiIzAwN0JEMVwiLHRvcFBhZGRpbmc6MTAscmlnaHRQYWRkaW5nOjQwLGJvdHRvbVBhZGRpbmc6MTAsbGVmdFBhZGRpbmc6NDB9LHJhZGl1czo0NX0sYWN0aW9uOmZ1bmN0aW9uKCl7dGhpcy5nYW1lU3RhcnQoKX0saW5pdDphLmluaXQsZ2V0T2JqZWN0UG9zaXRpb246YS5nZXRVSU9iamVjdFBvc2l0aW9ufSx7bmFtZTpcIkxvZ290eXBlXCIsdGV4dDpcIlwiLGRlc2NyaXB0aW9uOlwiR2FtZSBsb2dvdHlwZVwiLGNsaWNrZWQ6ITEscHJvcGVydHllczp7Y3R4OnQsd2lkdGg6MTUwLGhlaWdodDoxNTAsc1dpZHRoOjEwMjQsc0hlaWdodDoxMDI0LHg6aS8yLTc1LHk6OTAsYmFja2dyb3VuZDpuZXcgSW1hZ2UsYm9yZGVyQ29sb3I6ITEscmFkaXVzOm51bGx9LGxvYWRQaWN0dXJlOmZ1bmN0aW9uKCl7dGhpcy5wcm9wZXJ0eWVzLmJhY2tncm91bmQuc3JjPXIrXCJtaXNjL2xvZ28tMTAyNHgxMDI0LnBuZ1wifSxpbml0OmEuaW5pdCxnZXRPYmplY3RQb3NpdGlvbjphLmdldFVJT2JqZWN0UG9zaXRpb259LHtuYW1lOlwiR2FtZSBuYW1lXCIsdGV4dDpcIlNwYWNlXCIsZGVzY3JpcHRpb246XCJHYW1lIHBhcnQgdGhlIG5hbWVcIixjbGlja2VkOiExLGZvbnRTaXplOlwiYm9sZCAxMDBweCBSb2JvdG9cIixwcm9wZXJ0eWVzOntjdHg6dCx3aWR0aDotMjkwLGhlaWdodDowLHg6aS8yLHk6MzcwLGJhY2tncm91bmQ6ITEsYm9yZGVyQ29sb3I6XCJyZ2JhKDI1NSwgMjU1LCAyNTUsIDEpXCIscmFkaXVzOm51bGx9LGluaXQ6YS5pbml0LGdldE9iamVjdFBvc2l0aW9uOmEuZ2V0VUlPYmplY3RQb3NpdGlvbn0se25hbWU6XCJHYW1lIG5hbWVcIix0ZXh0OlwiQXR0YWNrXCIsZGVzY3JpcHRpb246XCJHYW1lIHBhcnQgdGhlIG5hbWVcIixjbGlja2VkOiExLGZvbnRTaXplOlwibGlnaHRlciAxMDBweCBSb2JvdG9cIixwcm9wZXJ0eWVzOntjdHg6dCx3aWR0aDowLGhlaWdodDowLHg6aS8yLHk6MzcwLGJhY2tncm91bmQ6ITEsYm9yZGVyQ29sb3I6XCJyZ2JhKDI1NSwgMjU1LCAyNTUsIDEpXCIscmFkaXVzOm51bGx9LGluaXQ6YS5pbml0LGdldE9iamVjdFBvc2l0aW9uOmEuZ2V0VUlPYmplY3RQb3NpdGlvbn1dfX0sZnVuY3Rpb24oZSx0LGkpe1widXNlIHN0cmljdFwiO3ZhciBhPXRoaXMmJnRoaXMuX19pbXBvcnRTdGFyfHxmdW5jdGlvbihlKXtpZihlJiZlLl9fZXNNb2R1bGUpcmV0dXJuIGU7dmFyIHQ9e307aWYobnVsbCE9ZSlmb3IodmFyIGkgaW4gZSlPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChlLGkpJiYodFtpXT1lW2ldKTtyZXR1cm4gdC5kZWZhdWx0PWUsdH07T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIG49aSg0KSxyPWEoaSgzKSk7dC5nYW1lU2V0dGluZ3NNZW51PWZ1bmN0aW9uKGUsdCxpLGEpe3JldHVybiBlfHxbe25hbWU6XCJtZW51IGJhY2tncm91bmRcIix0ZXh0OlwiXCIsZGVzY3JpcHRpb246XCJiYWNrIHBhcnQgb2YgbWVudSBcIixmb250U2l6ZTpcIjMwcHggQXJpYWxcIixjbGlja2VkOiExLHByb3BlcnR5ZXM6e2N0eDp0LHdpZHRoOmksaGVpZ2h0OmEvMix4OjAseTphLzQsYmFja2dyb3VuZDpcInJnYmEoMzgsIDM4LCA4NiwgMSlcIixib3JkZXJDb2xvcjpcInJnYmEoMjU1LCAyNTUsIDI1NSwgMSlcIixyYWRpdXM6NX0saW5pdDpuLmluaXQsZ2V0T2JqZWN0UG9zaXRpb246bi5nZXRVSU9iamVjdFBvc2l0aW9ufSx7bmFtZTpcIkJ1dHRvbiBlbmQgZ2FtZVwiLHRleHQ6XCJnbyB0byBzdGFydFwiLGRlc2NyaXB0aW9uOlwiYmFjayB0byBzdGFydCBzY3JlZW5cIixmb250U2l6ZTpcIjI1cHggUm9ib3RvXCIsY2xpY2tlZDohMSxwcm9wZXJ0eWVzOntjdHg6dCx3aWR0aDoyMDAsaGVpZ2h0OjUwLHg6aS8yLTE1MCx5OmEvMis1MCxiYWNrZ3JvdW5kOlwicmdiYSgyNTUsIDI1NSwgMjU1LCAxKVwiLGJvcmRlckNvbG9yOlwicmdiYSgyNTUsIDI1NSwgMjU1LCAxKVwiLHRleHRQcm9wZXJ0eTp7dGV4dENvbG9yOlwiIzAwN0JEMVwiLHRvcFBhZGRpbmc6NyxyaWdodFBhZGRpbmc6NTAsYm90dG9tUGFkZGluZzoxMCxsZWZ0UGFkZGluZzoyMH0scmFkaXVzOjE1fSxhY3Rpb246ZnVuY3Rpb24oKXt0aGlzLmJhY2tUb1N0YXJ0U2NyZWVuLmNhbGwodGhpcyxyLlBsYXllclNoaXApfSxpbml0Om4uaW5pdCxnZXRPYmplY3RQb3NpdGlvbjpuLmdldFVJT2JqZWN0UG9zaXRpb259LHtuYW1lOlwiTWFpbiBnYW1lIG1lbnUgbmFtZVwiLHRleHQ6XCJNZW51XCIsZGVzY3JpcHRpb246XCJUZXh0IGluIG1haW4gdG9wXCIsZm9udFNpemU6XCIyNXB4IFJvYm90b1wiLGNsaWNrZWQ6ITEscHJvcGVydHllczp7Y3R4OnQsd2lkdGg6LTQ1LGhlaWdodDowLHg6aS8yLHk6YS8zLGJhY2tncm91bmQ6ITEsYm9yZGVyQ29sb3I6XCJyZ2JhKDI1NSwgMjU1LCAyNTUsIDEpXCIscmFkaXVzOm51bGx9LGluaXQ6bi5pbml0LGdldE9iamVjdFBvc2l0aW9uOm4uZ2V0VUlPYmplY3RQb3NpdGlvbn1dfX0sZnVuY3Rpb24oZSx0LGkpe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciBhPWkoNCk7dC5nYW1lUGF1c2U9ZnVuY3Rpb24oZSx0LGksbixyKXtyZXR1cm4gZXx8W3tuYW1lOlwiUGF1c2UgdGV4dFwiLHRleHQ6XCJQYXVzZVwiLGRlc2NyaXB0aW9uOlwicGFydCBvZiBwYXVzZSB3aW5kb3dcIixmb250U2l6ZTpcIjYwcHggQXJpYWxcIixjbGlja2VkOiExLHByb3BlcnR5ZXM6e2N0eDp0LHdpZHRoOjQwMCxoZWlnaHQ6OTAseDppLzItMTUwLHk6bi8yKzUwLGJhY2tncm91bmQ6XCJyZ2JhKDI1NSwgMjU1LCAyNTUsIDEpXCIsYm9yZGVyQ29sb3I6XCJyZ2JhKDI1NSwgMjU1LCAyNTUsIDEpXCIscmFkaXVzOjQ1fSxpbml0OmEuaW5pdCxnZXRPYmplY3RQb3NpdGlvbjphLmdldFVJT2JqZWN0UG9zaXRpb259XX19LGZ1bmN0aW9uKGUsdCxpKXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgYT1pKDQpO3QuZ2FtZUluZm9ybWF0aW9uU2NyZWVuPWZ1bmN0aW9uKGUsdCxpLG4scixvKXtyZXR1cm5be25hbWU6XCJsaWZlUG9pbnRcIix0ZXh0OlwiXCIsbnVtYmVyOm8ubGlmZSxzdGVwOltvLmxpZmVdLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIDUwKmV9KSksZGVzY3JpcHRpb246XCJHYW1lIGxvZ290eXBlXCIsY2xpY2tlZDohMSxwcm9wZXJ0eWVzOntjdHg6dCx3aWR0aDo3MCxoZWlnaHQ6NzAsc1dpZHRoOjUwMCxzSGVpZ2h0OjUwMCx4OjEwLHk6MjAsYmFja2dyb3VuZDpuZXcgSW1hZ2UsYm9yZGVyQ29sb3I6ITEscmFkaXVzOm51bGx9LGxvYWRQaWN0dXJlOmZ1bmN0aW9uKCl7dGhpcy5wcm9wZXJ0eWVzLmJhY2tncm91bmQuc3JjPXIrXCJtaXNjL3J1YnkucG5nXCJ9LGluaXQ6ZnVuY3Rpb24oZSx0KXt0PXR8fHRoaXM7Zm9yKHZhciBpPUFycmF5KG8ubGlmZSkuZmlsbCgwKS5tYXAoKGZ1bmN0aW9uKGUsdCl7cmV0dXJuIDMwKnR9KSksYT0wO2E8dGhpcy5udW1iZXI7YSsrKXRoaXMucHJvcGVydHllcy54PTA9PWE/MzA6MCtpW2FdKygwIT1hPzMwOjApLGUodCl9LGdldE9iamVjdFBvc2l0aW9uOmEuZ2V0VUlPYmplY3RQb3NpdGlvbn0se25hbWU6XCJsZXZlbFwiLHRleHQ6XCJDdXJyZW50IExldmVsIFwiK28uY3VycmVudExldmVsK1wiL1wiK28uYWxsTGV2ZWxzK1wiIFwiLGRlc2NyaXB0aW9uOlwiR2FtZSBwYXJ0IHRoZSBuYW1lXCIsY2xpY2tlZDohMSxmb250U2l6ZTpcImJvbGQgMTZweCBSb2JvdG9cIixwcm9wZXJ0eWVzOntjdHg6dCx3aWR0aDowLGhlaWdodDowLHg6MzAseTo3MCxiYWNrZ3JvdW5kOiExLGJvcmRlckNvbG9yOlwicmdiYSgyNTUsIDI1NSwgMjU1LCAxKVwiLHJhZGl1czpudWxsfSxpbml0OmEuaW5pdCxnZXRPYmplY3RQb3NpdGlvbjphLmdldFVJT2JqZWN0UG9zaXRpb259LHtuYW1lOlwiVGltZSB0byBlbmQgZiBsZXZlbFwiLHRleHQ6by5taW51dGVzfHxvLnNlY29uZHM/XCJUaW1lIHRvIGxldmVsIGVuZCBcIisoby5taW51dGVzLTEwPj0wP1wiXCI6MCkrby5taW51dGVzK1wiOlwiKyhvLnNlY29uZHMtMTA+PTA/XCJcIjowKStvLnNlY29uZHM6XCJCb3NzIGxldmVsXCIsZGVzY3JpcHRpb246XCJHYW1lIHBhcnQgdGhlIG5hbWVcIixjbGlja2VkOiExLGZvbnRTaXplOlwibGlnaHQgMTZweCBSb2JvdG9cIixwcm9wZXJ0eWVzOntjdHg6dCx3aWR0aDo1MCxoZWlnaHQ6MCx4OmktMzAwLHk6MzAsYmFja2dyb3VuZDohMSxib3JkZXJDb2xvcjpcInJnYmEoMjU1LCAyNTUsIDI1NSwgMSlcIixyYWRpdXM6bnVsbH0saW5pdDphLmluaXQsZ2V0T2JqZWN0UG9zaXRpb246YS5nZXRVSU9iamVjdFBvc2l0aW9ufSx7bmFtZTpcIkdhbWUgcG9pbnRzXCIsdGV4dDpvLnBvaW50cyxkZXNjcmlwdGlvbjpcIkdhbWUgcGFydCB0aGUgbmFtZVwiLGNsaWNrZWQ6ITEsZm9udFNpemU6XCJsaWdodCAxOHB4IFJvYm90b1wiLHByb3BlcnR5ZXM6e2N0eDp0LHdpZHRoOi01MCxoZWlnaHQ6MCx4OmkvMix5OjUwLGJhY2tncm91bmQ6ITEsYm9yZGVyQ29sb3I6XCJyZ2JhKDI1NSwgMjU1LCAyNTUsIDEpXCIscmFkaXVzOm51bGx9LGluaXQ6YS5pbml0LGdldE9iamVjdFBvc2l0aW9uOmEuZ2V0VUlPYmplY3RQb3NpdGlvbn1dfX0sZnVuY3Rpb24oZSx0LGkpe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciBhPWkoMiksbj1pKDMzKSxyPWZ1bmN0aW9uKGUsdCxpLGEsbixyLG8scyl7dGhpcy54PTAsdGhpcy55PTAsdGhpcy5iYWNrZ3JvdW5kVGV4dHVyZT1lLHRoaXMuYmFja2dyb3VuZFNwZWVkPXQsdGhpcy5zY3JlZW5EYXRhPWksdGhpcy5jdHg9YSx0aGlzLng9bj8wOmkud2lkdGgsdGhpcy55PTAsdGhpcy5pbWc9bmV3IEltYWdlLHRoaXMuZXh0cmFNYXA9cix0aGlzLnRpbWVUb0VyZXNzTGV2ZWw9NCx0aGlzLndhcnBPYmplY3RzPVtdLHRoaXMudGltZVRvRXh0cmFNYXBTZWNvbmRzPW8sdGhpcy50aW1lVG9FeHRyYU1hcE1pbnV0ZXM9c307dC5HYW1lQmFja2dyb3VuZD1yLHIucHJvdG90eXBlLnVwZGF0ZU1hcD1uLnVwZGF0ZU1hcCxyLnByb3RvdHlwZS53YXJwRWZmZWN0PWEud2FycEVmZmVjdCxyLnByb3RvdHlwZS5jaGFuZ2VQYXJ0T2ZUZXh0dXJlPW4uY2hhbmdlUGFydE9mVGV4dHVyZX0sZnVuY3Rpb24oZSx0LGkpe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciBhPWkoMCk7dC51cGRhdGVNYXA9ZnVuY3Rpb24oKXt0aGlzLngtPXRoaXMuYmFja2dyb3VuZFNwZWVkLE1hdGguc2lnbih0aGlzLmJhY2tncm91bmRTcGVlZCk+MCYmdGhpcy54K3RoaXMuc2NyZWVuRGF0YS53aWR0aDwwP3RoaXMueD10aGlzLnNjcmVlbkRhdGEud2lkdGg6TWF0aC5zaWduKHRoaXMuYmFja2dyb3VuZFNwZWVkKTwwJiZ0aGlzLng+dGhpcy5zY3JlZW5EYXRhLndpZHRoJiYodGhpcy54PTAtdGhpcy5zY3JlZW5EYXRhLndpZHRoKSxhLmNyZWF0ZUltYWdlKHRoaXMuY3R4LHRoaXMuaW1nLHRoaXMueCwwLHRoaXMuc2NyZWVuRGF0YS53aWR0aCsyLHRoaXMuc2NyZWVuRGF0YS5oZWlnaHQpfSx0LmNoYW5nZVBhcnRPZlRleHR1cmU9ZnVuY3Rpb24oZSx0KXt2YXIgaT1lLmdldExldmVsVXNlckRhdGEoKSxhPWUuZ2V0U2NyZWVuU2l6ZSgpO2lmKGkubWludXRlczw9dGhpcy50aW1lVG9FeHRyYU1hcE1pbnV0ZXMmJmkuc2Vjb25kczw9dGhpcy50aW1lVG9FeHRyYU1hcFNlY29uZHMmJnRoaXMuZXh0cmFNYXAmJnRoaXMueD49YS53aWR0aC0yMDApe3ZhciBuPWUuc2hvd0dhbWVJbmZvKCk7dGhpcy5pbWcuc3JjPW4uaW1hZ2VEaXJyZWN0aW9uK3RoaXMuZXh0cmFNYXB9fX0sZnVuY3Rpb24oZSx0LGkpe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciBhPWkoMTApLG49aSgyKSxyPWkoMSksbz1mdW5jdGlvbihlLHQsaSxhLG4scixvLHMsbCl7dm9pZCAwPT09biYmKG49MTAwKSx2b2lkIDA9PT1yJiYocj0xMDApLHRoaXMuZGF0YT1lLHRoaXMucG9pbnRzPXQsdGhpcy5udW1iZXJPZmxpZmU9YSx0aGlzLmhlYWx0aFBvaW50PWkrZS5hcm1vcix0aGlzLm1heEhlYWx0aD1pK2UuYXJtb3IsdGhpcy54PW4tby8yLHRoaXMueT1yLXMvMix0aGlzLnhGaW5hbD1uLHRoaXMueUZpbmFsPXIsdGhpcy5jb2xsaXNpb25BbGxvdz0hMCx0aGlzLm9iamVjdE93bmVyPVwicGxheWVyXCIsdGhpcy53aWR0aD1vLHRoaXMuaGVpZ2h0PXMsdGhpcy54QWRqPTAsdGhpcy5zcGVlZD1lLnNwZWVkLHRoaXMuZXhwbG9zaW9uPWUuZXhwbG9zaW9uLHRoaXMuZGFtYWdlPWx9O3QuUGxheWVyU2hpcD1vLG8ucHJvdG90eXBlLmluaXRQbGF5ZXJTaGlwPWEuaW5pdFBsYXllclNoaXAsby5wcm90b3R5cGUubW92ZVBsYXllclNoaXA9YS5tb3ZlUGxheWVyU2hpcCxvLnByb3RvdHlwZS5zaGlwQ29udHJvbD1hLnNoaXBDb250cm9sLG8ucHJvdG90eXBlLm1vdmVTaGlwPWEubW92ZVNoaXAsby5wcm90b3R5cGUucGxhY2VTaGlwPWEucGxhY2VTaGlwLG8ucHJvdG90eXBlLnNldENvbnRleHQ9YS5zZXRDb250ZXh0LG8ucHJvdG90eXBlLmdldE9iamVjdFBvc2l0aW9uPW4uZ2V0T2JqZWN0UG9zaXRpb24sby5wcm90b3R5cGUudGFrZURhbWFnZT1yLnRha2VEYW1hZ2V9LGZ1bmN0aW9uKGUsdCxpKXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgYT1pKDM2KSxuPWkoMikscj1pKDEpLG89ZnVuY3Rpb24oZSx0LGksYSxuLHIsbyxzLGwsYyxoLHUsbSxkLGcscCl7dGhpcy54PWUsdGhpcy55PXQsdGhpcy5idWxsZXRUeXBlPWksdGhpcy5idWxsZXRUZXh0dXJlPWEsdGhpcy5vYmplY3RPd25lcj1uLHRoaXMuYnVsbGV0U3BlZWQ9cix0aGlzLndpZHRoPW8sdGhpcy5oZWlnaHQ9cyx0aGlzLmRhbWFnZT1sLHRoaXMuaWQ9KG5ldyBEYXRlKS5nZXRUaW1lKCksdGhpcy5vYmplY3RQcmVzZW50PSEwLHRoaXMudHlwZT1jLHRoaXMuaW1nPW5ldyBJbWFnZSx0aGlzLnRleHR1cmU9X19kaXJuYW1lK1wiL3B1YmxpYy9pbWFnZXMvXCIraCx0aGlzLnN4PXUsdGhpcy5zeT1tLHRoaXMuc1dpZHRoPWQsdGhpcy5zSGVpZ2h0PWcsdGhpcy5leHBsb3Npb249cH07dC5CdWxsZXRDb25zdHJ1Y3Q9byxvLnByb3RvdHlwZS5jcmVhdGVCdWxsZXRzPWEuY3JlYXRlQnVsbGV0cyxvLnByb3RvdHlwZS5pbml0QnVsbGV0cz1hLmluaXRCdWxsZXRzLG8ucHJvdG90eXBlLm1vdmVCdWxsZXRzPWEubW92ZUJ1bGxldHMsby5wcm90b3R5cGUuZ2V0T2JqZWN0UG9zaXRpb249bi5nZXRPYmplY3RQb3NpdGlvbixvLnByb3RvdHlwZS50YWtlRGFtYWdlPXIudGFrZURhbWFnZX0sZnVuY3Rpb24oZSx0LGkpe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciBhPWkoMCk7dC5jcmVhdGVCdWxsZXRzPWZ1bmN0aW9uKGUpe2EuY3JlYXRlTGFzZXJCdWxsZXQoe3NvdXJjZTp0aGlzLG9iamVjdE93bmVyOnRoaXMub2JqZWN0T3duZXIsY3R4OmUuZ2FtZUluaXREYXRhLmN0eEFjdGlvbkZpZWxkLHg6dGhpcy54LHk6dGhpcy55LGNvbG9yOnRoaXMuYnVsbGV0VGV4dHVyZSx3aWR0aDp0aGlzLndpZHRoLGhlaWdodDp0aGlzLmhlaWdodCxyYWRpdXM6NSx0eXBlOnRoaXMudHlwZSxpbWc6dGhpcy5pbWcsc3g6dGhpcy5zeCxzeTp0aGlzLnN5LHNXaWR0aDp0aGlzLnNXaWR0aCxzSGVpZ2h0OnRoaXMuc0hlaWdodH0pfSx0LmluaXRCdWxsZXRzPWZ1bmN0aW9uKCl7fSx0Lm1vdmVCdWxsZXRzPWZ1bmN0aW9uKGUsdCl7c3dpdGNoKHRoaXMudHlwZSl7Y2FzZVwiYmxhc3RlclwiOmkuY2FsbCh0aGlzKTticmVhaztjYXNlXCJiZWFtXCI6KGZ1bmN0aW9uKCl7dC5nZXRTY3JlZW5TaXplKCk7dGhpcy54PjA/dGhpcy53aWR0aCs9dGhpcy5idWxsZXRTcGVlZDp0aGlzLndpZHRoPjAmJih0aGlzLng9MCx0aGlzLndpZHRoLT10aGlzLmJ1bGxldFNwZWVkKX0pLmNhbGwodGhpcyksaS5jYWxsKHRoaXMpO2JyZWFrO2RlZmF1bHQ6aS5jYWxsKHRoaXMpfWZ1bmN0aW9uIGkoKXtcInBsYXllclwiPT10aGlzLm9iamVjdE93bmVyP3RoaXMueCs9dGhpcy5idWxsZXRTcGVlZDp0aGlzLngtPXRoaXMuYnVsbGV0U3BlZWR9fX0sZnVuY3Rpb24oZSx0LGkpe1widXNlIHN0cmljdFwiO3ZhciBhPXRoaXMmJnRoaXMuX19yZXN0fHxmdW5jdGlvbihlLHQpe3ZhciBpPXt9O2Zvcih2YXIgYSBpbiBlKU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChlLGEpJiZ0LmluZGV4T2YoYSk8MCYmKGlbYV09ZVthXSk7aWYobnVsbCE9ZSYmXCJmdW5jdGlvblwiPT10eXBlb2YgT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyl7dmFyIG49MDtmb3IoYT1PYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKGUpO248YS5sZW5ndGg7bisrKXQuaW5kZXhPZihhW25dKTwwJiZPYmplY3QucHJvdG90eXBlLnByb3BlcnR5SXNFbnVtZXJhYmxlLmNhbGwoZSxhW25dKSYmKGlbYVtuXV09ZVthW25dXSl9cmV0dXJuIGl9LG49dGhpcyYmdGhpcy5fX2ltcG9ydFN0YXJ8fGZ1bmN0aW9uKGUpe2lmKGUmJmUuX19lc01vZHVsZSlyZXR1cm4gZTt2YXIgdD17fTtpZihudWxsIT1lKWZvcih2YXIgaSBpbiBlKU9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsaSkmJih0W2ldPWVbaV0pO3JldHVybiB0LmRlZmF1bHQ9ZSx0fTtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgcj1uKGkoMzgpKSxvPWkoOSkscz1pKDEpLGw9ZnVuY3Rpb24oZSl7dmFyIHQ9YShlLFtdKTt0aGlzLng9dC54LHRoaXMueT10LnksdGhpcy5zeD10LnN4LHRoaXMuc3k9dC5zeSx0aGlzLnNXaWR0aD10LnNXaWR0aCx0aGlzLnNIZWlnaHQ9dC5zSGVpZ2h0LHRoaXMud2lkdGg9dC53aWR0aCx0aGlzLmhlaWdodD10LmhlaWdodCx0aGlzLmltZz1uZXcgSW1hZ2UsdGhpcy50ZXh0dXJlPV9fZGlybmFtZStcIi9wdWJsaWMvaW1hZ2VzL1wiK3QudGV4dHVyZSx0aGlzLmFuaW1hdGlvblN0ZXBzPXQuYW5pbWF0aW9uU3RlcHMsdGhpcy5udW1iZXJPZkl0ZW1zPXQubnVtYmVyT2ZJdGVtcyx0aGlzLnRhcmdldD10LnRhcmdldCx0aGlzLmFuaW1hdGlvblN0YXRlPSEwLHRoaXMuZGV0ZWN0RnJhbWU9MCx0aGlzLm9iamVjdFByZXNlbnQ9ITAsdGhpcy5zcGVlZD10LnNwZWVkLHRoaXMucGljdHVyZXNXaWR0aD10LnBpY3R1cmVzV2lkdGgsdGhpcy5kYW1hZ2U9dC5kYW1hZ2U/dC5kYW1hZ2U6bnVsbCx0aGlzLm9iamVjdE93bmVyPXQub2JqZWN0T3duZXI/dC5vYmplY3RPd25lcjpudWxsLHRoaXMuaGVhbHRoUG9pbnQ9dC5oZWFsdGhQb2ludD90LmhlYWx0aFBvaW50Om51bGwsdGhpcy5pc0JhY2tncm91bmQ9dC5pc0JhY2tncm91bmQ/dC5pc0JhY2tncm91bmQ6bnVsbCx0aGlzLmV4cGxvc2lvbj10LmV4cGxvc2lvbj90LmV4cGxvc2lvbjpudWxsLHRoaXMucG9pbnRzUGVyVW5pdD10LnBvaW50c1BlclVuaXQ/dC5wb2ludHNQZXJVbml0OjB9O3QuU2lkZU9iamVjdD1sLGwucHJvdG90eXBlLmVuZW15QW5pbWF0aW9uPXIuZW5lbXlBbmltYXRpb24sbC5wcm90b3R5cGUucGxhY2VFbmVteWVzPXIucGxhY2VFbmVteWVzLGwucHJvdG90eXBlLmZpcmVBbmltYXRpb25FbmRlZD1vLmZpcmVBbmltYXRpb25FbmRlZCxsLnByb3RvdHlwZS50YWtlRGFtYWdlPXMudGFrZURhbWFnZSxsLnByb3RvdHlwZS5tYXBPYmplY3RNb3ZlPW8ubWFwT2JqZWN0TW92ZSxsLnByb3RvdHlwZS5lbmVteURhbWFnZUFuaW1hdGlvbj1zLmVuZW15RGFtYWdlQW5pbWF0aW9ufSxmdW5jdGlvbihlLHQsaSl7XCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksZnVuY3Rpb24oZSl7Zm9yKHZhciBpIGluIGUpdC5oYXNPd25Qcm9wZXJ0eShpKXx8KHRbaV09ZVtpXSl9KGkoMSkpfSxmdW5jdGlvbihlLHQsaSl7XCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIGE9aSg0KTt0LmdhbWVPdmVyU2NyZWVuPWZ1bmN0aW9uKGUsdCxpLG4scil7cmV0dXJuIGV8fFt7bmFtZTpcIlBhdXNlIHRleHRcIix0ZXh0OlwiR2FtZSBPdmVyXCIsZGVzY3JpcHRpb246XCJ0ZXh0IGZvciBnYW1lIG92ZXIgd2luZG93XCIsZm9udFNpemU6XCIxMTBweCBBcmlhbFwiLGNsaWNrZWQ6ITEscHJvcGVydHllczp7Y3R4OnQsd2lkdGg6MCxoZWlnaHQ6OTAseDppLzItMjUwLHk6bi8yLTUwLGJhY2tncm91bmQ6XCJyZ2JhKDI1NSwgMjU1LCAyNTUsIDEpXCIsYm9yZGVyQ29sb3I6XCJyZ2JhKDI1NSwgMjU1LCAyNTUsIDEpXCIscmFkaXVzOjQ1fSxpbml0OmEuaW5pdCxnZXRPYmplY3RQb3NpdGlvbjphLmdldFVJT2JqZWN0UG9zaXRpb259XX19LGZ1bmN0aW9uKGUsdCxpKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBhKGUpe2Zvcih2YXIgaSBpbiBlKXQuaGFzT3duUHJvcGVydHkoaSl8fCh0W2ldPWVbaV0pfU9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLGEoaSg5KSksYShpKDEwKSksYShpKDIpKSxhKGkoMzYpKSxhKGkoMzMpKSxhKGkoNDEpKX0sZnVuY3Rpb24oZSx0LGkpe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3Qubm9EYXRhPVwiVGhlcmUgaXMgbm8gZGF0YVwiLHQubm9PYmplY3Q9XCJUaGVyZSBpcyBubyBPYmplY3RcIn1dKTsiXSwibWFwcGluZ3MiOiJBQUFBIiwic291cmNlUm9vdCI6IiJ9